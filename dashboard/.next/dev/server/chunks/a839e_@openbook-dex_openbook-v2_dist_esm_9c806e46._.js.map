{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/openbook_v2.js"],"sourcesContent":["export const IDL = {\n    version: '0.1.0',\n    name: 'openbook_v2',\n    instructions: [\n        {\n            name: 'createMarket',\n            docs: [\n                'Create a [`Market`](crate::state::Market) for a given token pair.',\n            ],\n            accounts: [\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'marketAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                    docs: [\n                        'Accounts are initialized by client,',\n                        'anchor discriminator is set first when ix exits,',\n                    ],\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'payer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'baseMint',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'quoteMint',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'associatedTokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'collectFeeAdmin',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'consumeEventsAdmin',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'closeMarketAdmin',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'eventAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'program',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'name',\n                    type: 'string',\n                },\n                {\n                    name: 'oracleConfig',\n                    type: {\n                        defined: 'OracleConfigParams',\n                    },\n                },\n                {\n                    name: 'quoteLotSize',\n                    type: 'i64',\n                },\n                {\n                    name: 'baseLotSize',\n                    type: 'i64',\n                },\n                {\n                    name: 'makerFee',\n                    type: 'i64',\n                },\n                {\n                    name: 'takerFee',\n                    type: 'i64',\n                },\n                {\n                    name: 'timeExpiry',\n                    type: 'i64',\n                },\n            ],\n        },\n        {\n            name: 'closeMarket',\n            docs: [\n                'Close a [`Market`](crate::state::Market) (only',\n                '[`close_market_admin`](crate::state::Market::close_market_admin)).',\n            ],\n            accounts: [\n                {\n                    name: 'closeMarketAdmin',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'solDestination',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'createOpenOrdersIndexer',\n            docs: [\n                'Create an [`OpenOrdersIndexer`](crate::state::OpenOrdersIndexer) account.',\n            ],\n            accounts: [\n                {\n                    name: 'payer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersIndexer',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'closeOpenOrdersIndexer',\n            docs: [\n                'Close an [`OpenOrdersIndexer`](crate::state::OpenOrdersIndexer) account.',\n            ],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersIndexer',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'solDestination',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'createOpenOrdersAccount',\n            docs: [\n                'Create an [`OpenOrdersAccount`](crate::state::OpenOrdersAccount).',\n            ],\n            accounts: [\n                {\n                    name: 'payer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'delegateAccount',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'openOrdersIndexer',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'name',\n                    type: 'string',\n                },\n            ],\n        },\n        {\n            name: 'closeOpenOrdersAccount',\n            docs: [\n                'Close an [`OpenOrdersAccount`](crate::state::OpenOrdersAccount).',\n            ],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersIndexer',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'solDestination',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'placeOrder',\n            docs: [\n                'Place an order.',\n                '',\n                'Different types of orders have different effects on the order book,',\n                'as described in [`PlaceOrderType`](crate::state::PlaceOrderType).',\n                '',\n                '`price_lots` refers to the price in lots: the number of quote lots',\n                'per base lot. It is ignored for `PlaceOrderType::Market` orders.',\n                '',\n                '`expiry_timestamp` is a unix timestamp for when this order should',\n                'expire. If 0 is passed in, the order will never expire. If the time',\n                'is in the past, the instruction is skipped. Timestamps in the future',\n                'are reduced to now + 65,535s.',\n                '',\n                '`limit` determines the maximum number of orders from the book to fill,',\n                'and can be used to limit CU spent. When the limit is reached, processing',\n                'stops and the instruction succeeds.',\n            ],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userTokenAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'args',\n                    type: {\n                        defined: 'PlaceOrderArgs',\n                    },\n                },\n            ],\n            returns: {\n                option: 'u128',\n            },\n        },\n        {\n            name: 'editOrder',\n            docs: ['Edit an order.'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userTokenAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'clientOrderId',\n                    type: 'u64',\n                },\n                {\n                    name: 'expectedCancelSize',\n                    type: 'i64',\n                },\n                {\n                    name: 'placeOrder',\n                    type: {\n                        defined: 'PlaceOrderArgs',\n                    },\n                },\n            ],\n            returns: {\n                option: 'u128',\n            },\n        },\n        {\n            name: 'editOrderPegged',\n            docs: ['Edit an order pegged.'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userTokenAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'clientOrderId',\n                    type: 'u64',\n                },\n                {\n                    name: 'expectedCancelSize',\n                    type: 'i64',\n                },\n                {\n                    name: 'placeOrder',\n                    type: {\n                        defined: 'PlaceOrderPeggedArgs',\n                    },\n                },\n            ],\n            returns: {\n                option: 'u128',\n            },\n        },\n        {\n            name: 'placeOrders',\n            docs: ['Place multiple orders'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'ordersType',\n                    type: {\n                        defined: 'PlaceOrderType',\n                    },\n                },\n                {\n                    name: 'bids',\n                    type: {\n                        vec: {\n                            defined: 'PlaceMultipleOrdersArgs',\n                        },\n                    },\n                },\n                {\n                    name: 'asks',\n                    type: {\n                        vec: {\n                            defined: 'PlaceMultipleOrdersArgs',\n                        },\n                    },\n                },\n                {\n                    name: 'limit',\n                    type: 'u8',\n                },\n            ],\n            returns: {\n                vec: {\n                    option: 'u128',\n                },\n            },\n        },\n        {\n            name: 'cancelAllAndPlaceOrders',\n            docs: ['Cancel orders and place multiple orders.'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'ordersType',\n                    type: {\n                        defined: 'PlaceOrderType',\n                    },\n                },\n                {\n                    name: 'bids',\n                    type: {\n                        vec: {\n                            defined: 'PlaceMultipleOrdersArgs',\n                        },\n                    },\n                },\n                {\n                    name: 'asks',\n                    type: {\n                        vec: {\n                            defined: 'PlaceMultipleOrdersArgs',\n                        },\n                    },\n                },\n                {\n                    name: 'limit',\n                    type: 'u8',\n                },\n            ],\n            returns: {\n                vec: {\n                    option: 'u128',\n                },\n            },\n        },\n        {\n            name: 'placeOrderPegged',\n            docs: ['Place an oracle-peg order.'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'userTokenAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'args',\n                    type: {\n                        defined: 'PlaceOrderPeggedArgs',\n                    },\n                },\n            ],\n            returns: {\n                option: 'u128',\n            },\n        },\n        {\n            name: 'placeTakeOrder',\n            docs: [\n                'Place an order that shall take existing liquidity off of the book, not',\n                'add a new order off the book.',\n                '',\n                'This type of order allows for instant token settlement for the taker.',\n            ],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'penaltyPayer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'oracleA',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'oracleB',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n            ],\n            args: [\n                {\n                    name: 'args',\n                    type: {\n                        defined: 'PlaceTakeOrderArgs',\n                    },\n                },\n            ],\n        },\n        {\n            name: 'consumeEvents',\n            docs: [\n                'Process up to `limit` [events](crate::state::AnyEvent).',\n                '',\n                \"When a user places a 'take' order, they do not know beforehand which\",\n                \"market maker will have placed the 'make' order that they get executed\",\n                \"against. This prevents them from passing in a market maker's\",\n                '[`OpenOrdersAccount`](crate::state::OpenOrdersAccount), which is needed',\n                'to credit/debit the relevant tokens to/from the maker. As such, Openbook',\n                \"uses a 'crank' system, where `place_order` only emits events, and\",\n                '`consume_events` handles token settlement.',\n                '',\n                'Currently, there are two types of events: [`FillEvent`](crate::state::FillEvent)s',\n                'and [`OutEvent`](crate::state::OutEvent)s.',\n                '',\n                'A `FillEvent` is emitted when an order is filled, and it is handled by',\n                'debiting whatever the taker is selling from the taker and crediting',\n                'it to the maker, and debiting whatever the taker is buying from the',\n                'maker and crediting it to the taker. Note that *no tokens are moved*,',\n                \"these are just debits and credits to each party's [`Position`](crate::state::Position).\",\n                '',\n                'An `OutEvent` is emitted when a limit order needs to be removed from',\n                'the book during a `place_order` invocation, and it is handled by',\n                'crediting whatever the maker would have sold (quote token in a bid,',\n                'base token in an ask) back to the maker.',\n            ],\n            accounts: [\n                {\n                    name: 'consumeEventsAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'limit',\n                    type: 'u64',\n                },\n            ],\n        },\n        {\n            name: 'consumeGivenEvents',\n            docs: [\n                'Process the [events](crate::state::AnyEvent) at the given positions.',\n            ],\n            accounts: [\n                {\n                    name: 'consumeEventsAdmin',\n                    isMut: false,\n                    isSigner: true,\n                    isOptional: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'eventHeap',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'slots',\n                    type: {\n                        vec: 'u64',\n                    },\n                },\n            ],\n        },\n        {\n            name: 'cancelOrder',\n            docs: [\n                'Cancel an order by its `order_id`.',\n                '',\n                \"Note that this doesn't emit an [`OutEvent`](crate::state::OutEvent) because a\",\n                'maker knows that they will be passing in their own [`OpenOrdersAccount`](crate::state::OpenOrdersAccount).',\n            ],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'orderId',\n                    type: 'u128',\n                },\n            ],\n        },\n        {\n            name: 'cancelOrderByClientOrderId',\n            docs: [\n                'Cancel an order by its `client_order_id`.',\n                '',\n                \"Note that this doesn't emit an [`OutEvent`](crate::state::OutEvent) because a\",\n                'maker knows that they will be passing in their own [`OpenOrdersAccount`](crate::state::OpenOrdersAccount).',\n            ],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'clientOrderId',\n                    type: 'u64',\n                },\n            ],\n            returns: 'i64',\n        },\n        {\n            name: 'cancelAllOrders',\n            docs: ['Cancel up to `limit` orders, optionally filtering by side'],\n            accounts: [\n                {\n                    name: 'signer',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'sideOption',\n                    type: {\n                        option: {\n                            defined: 'Side',\n                        },\n                    },\n                },\n                {\n                    name: 'limit',\n                    type: 'u8',\n                },\n            ],\n        },\n        {\n            name: 'deposit',\n            docs: [\n                \"Deposit a certain amount of `base` and `quote` lamports into one's\",\n                '[`Position`](crate::state::Position).',\n                '',\n                'Makers might wish to `deposit`, rather than have actual tokens moved for',\n                'each trade, in order to reduce CUs.',\n            ],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'baseAmount',\n                    type: 'u64',\n                },\n                {\n                    name: 'quoteAmount',\n                    type: 'u64',\n                },\n            ],\n        },\n        {\n            name: 'refill',\n            docs: [\n                'Refill a certain amount of `base` and `quote` lamports. The amount being passed is the',\n                'total lamports that the [`Position`](crate::state::Position) will have.',\n                '',\n                'Makers might wish to `refill`, rather than have actual tokens moved for',\n                'each trade, in order to reduce CUs.',\n            ],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'baseAmount',\n                    type: 'u64',\n                },\n                {\n                    name: 'quoteAmount',\n                    type: 'u64',\n                },\n            ],\n        },\n        {\n            name: 'settleFunds',\n            docs: ['Withdraw any available tokens.'],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'penaltyPayer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'referrerAccount',\n                    isMut: true,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'settleFundsExpired',\n            docs: [\n                'Withdraw any available tokens when the market is expired (only',\n                '[`close_market_admin`](crate::state::Market::close_market_admin)).',\n            ],\n            accounts: [\n                {\n                    name: 'closeMarketAdmin',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'owner',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'penaltyPayer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketBaseVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userBaseAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'userQuoteAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'referrerAccount',\n                    isMut: true,\n                    isSigner: false,\n                    isOptional: true,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'sweepFees',\n            docs: [\"Sweep fees, as a [`Market`](crate::state::Market)'s admin.\"],\n            accounts: [\n                {\n                    name: 'collectFeeAdmin',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketAuthority',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'marketQuoteVault',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenReceiverAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'setDelegate',\n            docs: [\n                'Update the [`delegate`](crate::state::OpenOrdersAccount::delegate) of an open orders account.',\n            ],\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'delegateAccount',\n                    isMut: false,\n                    isSigner: false,\n                    isOptional: true,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'setMarketExpired',\n            docs: [\n                'Set market to expired before pruning orders and closing the market (only',\n                '[`close_market_admin`](crate::state::Market::close_market_admin)).',\n            ],\n            accounts: [\n                {\n                    name: 'closeMarketAdmin',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'market',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'pruneOrders',\n            docs: [\n                'Remove orders from the book when the market is expired (only',\n                '[`close_market_admin`](crate::state::Market::close_market_admin)).',\n            ],\n            accounts: [\n                {\n                    name: 'closeMarketAdmin',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'openOrdersAccount',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'market',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'bids',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'asks',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'limit',\n                    type: 'u8',\n                },\n            ],\n        },\n        {\n            name: 'stubOracleCreate',\n            accounts: [\n                {\n                    name: 'payer',\n                    isMut: true,\n                    isSigner: true,\n                },\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'oracle',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'mint',\n                    isMut: false,\n                    isSigner: false,\n                },\n                {\n                    name: 'systemProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'price',\n                    type: 'f64',\n                },\n            ],\n        },\n        {\n            name: 'stubOracleClose',\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'oracle',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'solDestination',\n                    isMut: true,\n                    isSigner: false,\n                },\n                {\n                    name: 'tokenProgram',\n                    isMut: false,\n                    isSigner: false,\n                },\n            ],\n            args: [],\n        },\n        {\n            name: 'stubOracleSet',\n            accounts: [\n                {\n                    name: 'owner',\n                    isMut: false,\n                    isSigner: true,\n                },\n                {\n                    name: 'oracle',\n                    isMut: true,\n                    isSigner: false,\n                },\n            ],\n            args: [\n                {\n                    name: 'price',\n                    type: 'f64',\n                },\n            ],\n        },\n    ],\n    accounts: [\n        {\n            name: 'market',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'bump',\n                        docs: ['PDA bump'],\n                        type: 'u8',\n                    },\n                    {\n                        name: 'baseDecimals',\n                        docs: [\n                            'Number of decimals used for the base token.',\n                            '',\n                            \"Used to convert the oracle's price into a native/native price.\",\n                        ],\n                        type: 'u8',\n                    },\n                    {\n                        name: 'quoteDecimals',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding1',\n                        type: {\n                            array: ['u8', 5],\n                        },\n                    },\n                    {\n                        name: 'marketAuthority',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'timeExpiry',\n                        docs: [\n                            'No expiry = 0. Market will expire and no trading allowed after time_expiry',\n                        ],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'collectFeeAdmin',\n                        docs: ['Admin who can collect fees from the market'],\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'openOrdersAdmin',\n                        docs: ['Admin who must sign off on all order creations'],\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'consumeEventsAdmin',\n                        docs: ['Admin who must sign off on all event consumptions'],\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'closeMarketAdmin',\n                        docs: [\n                            'Admin who can set market expired, prune orders and close the market',\n                        ],\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'name',\n                        docs: ['Name. Trailing zero bytes are ignored.'],\n                        type: {\n                            array: ['u8', 16],\n                        },\n                    },\n                    {\n                        name: 'bids',\n                        docs: ['Address of the BookSide account for bids'],\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'asks',\n                        docs: ['Address of the BookSide account for asks'],\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'eventHeap',\n                        docs: ['Address of the EventHeap account'],\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'oracleA',\n                        docs: ['Oracles account address'],\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'oracleB',\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'oracleConfig',\n                        docs: ['Oracle configuration'],\n                        type: {\n                            defined: 'OracleConfig',\n                        },\n                    },\n                    {\n                        name: 'quoteLotSize',\n                        docs: [\n                            'Number of quote native in a quote lot. Must be a power of 10.',\n                            '',\n                            'Primarily useful for increasing the tick size on the market: A lot price',\n                            'of 1 becomes a native price of quote_lot_size/base_lot_size becomes a',\n                            'ui price of quote_lot_size*base_decimals/base_lot_size/quote_decimals.',\n                        ],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'baseLotSize',\n                        docs: [\n                            'Number of base native in a base lot. Must be a power of 10.',\n                            '',\n                            'Example: If base decimals for the underlying asset is 6, base lot size',\n                            'is 100 and and base position lots is 10_000 then base position native is',\n                            '1_000_000 and base position ui is 1.',\n                        ],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'seqNum',\n                        docs: ['Total number of orders seen'],\n                        type: 'u64',\n                    },\n                    {\n                        name: 'registrationTime',\n                        docs: ['Timestamp in seconds that the market was registered at.'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'makerFee',\n                        docs: [\n                            'Fees',\n                            '',\n                            'Fee (in 10^-6) when matching maker orders.',\n                            'maker_fee < 0 it means some of the taker_fees goes to the maker',\n                            'maker_fee > 0, it means no taker_fee to the maker, and maker fee goes to the referral',\n                        ],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'takerFee',\n                        docs: ['Fee (in 10^-6) for taker orders, always >= 0.'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'feesAccrued',\n                        docs: ['Total fees accrued in native quote'],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'feesToReferrers',\n                        docs: ['Total fees settled in native quote'],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'referrerRebatesAccrued',\n                        docs: ['Referrer rebates to be distributed'],\n                        type: 'u64',\n                    },\n                    {\n                        name: 'feesAvailable',\n                        docs: ['Fees generated and available to withdraw via sweep_fees'],\n                        type: 'u64',\n                    },\n                    {\n                        name: 'makerVolume',\n                        docs: [\n                            'Cumulative maker volume (same as taker volume) in quote native units',\n                        ],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'takerVolumeWoOo',\n                        docs: [\n                            'Cumulative taker volume in quote native units due to place take orders',\n                        ],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'baseMint',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'quoteMint',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'marketBaseVault',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'baseDepositTotal',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'marketQuoteVault',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'quoteDepositTotal',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 128],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'openOrdersAccount',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'owner',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'market',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'name',\n                        type: {\n                            array: ['u8', 32],\n                        },\n                    },\n                    {\n                        name: 'delegate',\n                        type: {\n                            defined: 'NonZeroPubkeyOption',\n                        },\n                    },\n                    {\n                        name: 'accountNum',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'bump',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'version',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 2],\n                        },\n                    },\n                    {\n                        name: 'position',\n                        type: {\n                            defined: 'Position',\n                        },\n                    },\n                    {\n                        name: 'openOrders',\n                        type: {\n                            array: [\n                                {\n                                    defined: 'OpenOrder',\n                                },\n                                24,\n                            ],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'openOrdersIndexer',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'bump',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'createdCounter',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'addresses',\n                        type: {\n                            vec: 'publicKey',\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'stubOracle',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'owner',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'mint',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'price',\n                        type: 'f64',\n                    },\n                    {\n                        name: 'lastUpdateTs',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'lastUpdateSlot',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'deviation',\n                        type: 'f64',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 104],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'bookSide',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'roots',\n                        type: {\n                            array: [\n                                {\n                                    defined: 'OrderTreeRoot',\n                                },\n                                2,\n                            ],\n                        },\n                    },\n                    {\n                        name: 'reservedRoots',\n                        type: {\n                            array: [\n                                {\n                                    defined: 'OrderTreeRoot',\n                                },\n                                4,\n                            ],\n                        },\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 256],\n                        },\n                    },\n                    {\n                        name: 'nodes',\n                        type: {\n                            defined: 'OrderTreeNodes',\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'eventHeap',\n            docs: [\n                'Container for the different EventTypes.',\n                '',\n                'Events are stored in a fixed-array of nodes. Free nodes are connected by a single-linked list',\n                'starting at free_head while used nodes form a circular doubly-linked list starting at',\n                'used_head.',\n            ],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'header',\n                        type: {\n                            defined: 'EventHeapHeader',\n                        },\n                    },\n                    {\n                        name: 'nodes',\n                        type: {\n                            array: [\n                                {\n                                    defined: 'EventNode',\n                                },\n                                600,\n                            ],\n                        },\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 64],\n                        },\n                    },\n                ],\n            },\n        },\n    ],\n    types: [\n        {\n            name: 'NonZeroPubkeyOption',\n            docs: [\n                'Like `Option`, but implemented for `Pubkey` to be used with `zero_copy`',\n            ],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'key',\n                        type: 'publicKey',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'Position',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'bidsBaseLots',\n                        docs: ['Base lots in open bids'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'asksBaseLots',\n                        docs: ['Base lots in open asks'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'baseFreeNative',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'quoteFreeNative',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'lockedMakerFees',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'referrerRebatesAvailable',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'penaltyHeapCount',\n                        docs: [\n                            'Count of ixs when events are added to the heap',\n                            'To avoid this, send remaining accounts in order to process the events',\n                        ],\n                        type: 'u64',\n                    },\n                    {\n                        name: 'makerVolume',\n                        docs: [\n                            'Cumulative maker volume in quote native units (display only)',\n                        ],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'takerVolume',\n                        docs: [\n                            'Cumulative taker volume in quote native units (display only)',\n                        ],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'bidsQuoteLots',\n                        docs: ['Quote lots in open bids'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 64],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OpenOrder',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'id',\n                        type: 'u128',\n                    },\n                    {\n                        name: 'clientId',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'lockedPrice',\n                        docs: [\"Price at which user's assets were locked\"],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'isFree',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'sideAndTree',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 6],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OracleConfig',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'confFilter',\n                        type: 'f64',\n                    },\n                    {\n                        name: 'maxStalenessSlots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 72],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OracleConfigParams',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'confFilter',\n                        type: 'f32',\n                    },\n                    {\n                        name: 'maxStalenessSlots',\n                        type: {\n                            option: 'u32',\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'EventHeapHeader',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'freeHead',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'usedHead',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'count',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'padd',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'seqNum',\n                        type: 'u64',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'EventNode',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'next',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'prev',\n                        type: 'u16',\n                    },\n                    {\n                        name: 'pad',\n                        type: {\n                            array: ['u8', 4],\n                        },\n                    },\n                    {\n                        name: 'event',\n                        type: {\n                            defined: 'AnyEvent',\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'AnyEvent',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'eventType',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 143],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'FillEvent',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'eventType',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'takerSide',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'makerOut',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'makerSlot',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 4],\n                        },\n                    },\n                    {\n                        name: 'timestamp',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'seqNum',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'maker',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'makerTimestamp',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'taker',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'takerClientOrderId',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'price',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'pegLimit',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'quantity',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'makerClientOrderId',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 8],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OutEvent',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'eventType',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'side',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'ownerSlot',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding0',\n                        type: {\n                            array: ['u8', 5],\n                        },\n                    },\n                    {\n                        name: 'timestamp',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'seqNum',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'owner',\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'quantity',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'padding1',\n                        type: {\n                            array: ['u8', 80],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'InnerNode',\n            docs: [\n                'InnerNodes and LeafNodes compose the binary tree of orders.',\n                '',\n                'Each InnerNode has exactly two children, which are either InnerNodes themselves,',\n                'or LeafNodes. The children share the top `prefix_len` bits of `key`. The left',\n                'child has a 0 in the next bit, and the right a 1.',\n            ],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'tag',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 3],\n                        },\n                    },\n                    {\n                        name: 'prefixLen',\n                        docs: [\n                            'number of highest `key` bits that all children share',\n                            \"e.g. if it's 2, the two highest bits of `key` will be the same on all children\",\n                        ],\n                        type: 'u32',\n                    },\n                    {\n                        name: 'key',\n                        docs: ['only the top `prefix_len` bits of `key` are relevant'],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'children',\n                        docs: ['indexes into `BookSide::nodes`'],\n                        type: {\n                            array: ['u32', 2],\n                        },\n                    },\n                    {\n                        name: 'childEarliestExpiry',\n                        docs: [\n                            'The earliest expiry timestamp for the left and right subtrees.',\n                            '',\n                            'Needed to be able to find and remove expired orders without having to',\n                            'iterate through the whole bookside.',\n                        ],\n                        type: {\n                            array: ['u64', 2],\n                        },\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 40],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'LeafNode',\n            docs: ['LeafNodes represent an order in the binary tree'],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'tag',\n                        docs: ['NodeTag'],\n                        type: 'u8',\n                    },\n                    {\n                        name: 'ownerSlot',\n                        docs: [\"Index into the owning OpenOrdersAccount's OpenOrders\"],\n                        type: 'u8',\n                    },\n                    {\n                        name: 'timeInForce',\n                        docs: [\n                            'Time in seconds after `timestamp` at which the order expires.',\n                            'A value of 0 means no expiry.',\n                        ],\n                        type: 'u16',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 4],\n                        },\n                    },\n                    {\n                        name: 'key',\n                        docs: ['The binary tree key, see new_node_key()'],\n                        type: 'u128',\n                    },\n                    {\n                        name: 'owner',\n                        docs: ['Address of the owning OpenOrdersAccount'],\n                        type: 'publicKey',\n                    },\n                    {\n                        name: 'quantity',\n                        docs: ['Number of base lots to buy or sell, always >=1'],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'timestamp',\n                        docs: ['The time the order was placed'],\n                        type: 'u64',\n                    },\n                    {\n                        name: 'pegLimit',\n                        docs: [\n                            'If the effective price of an oracle pegged order exceeds this limit,',\n                            'it will be considered invalid and may be removed.',\n                            '',\n                            'Only applicable in the oracle_pegged OrderTree',\n                        ],\n                        type: 'i64',\n                    },\n                    {\n                        name: 'clientOrderId',\n                        docs: ['User defined id for this order, used in FillEvents'],\n                        type: 'u64',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'AnyNode',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'tag',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'data',\n                        type: {\n                            array: ['u8', 87],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OrderTreeRoot',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'maybeNode',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'leafCount',\n                        type: 'u32',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OrderTreeNodes',\n            docs: [\n                'A binary tree on AnyNode::key()',\n                '',\n                'The key encodes the price in the top 64 bits.',\n            ],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'orderTreeType',\n                        type: 'u8',\n                    },\n                    {\n                        name: 'padding',\n                        type: {\n                            array: ['u8', 3],\n                        },\n                    },\n                    {\n                        name: 'bumpIndex',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'freeListLen',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'freeListHead',\n                        type: 'u32',\n                    },\n                    {\n                        name: 'reserved',\n                        type: {\n                            array: ['u8', 512],\n                        },\n                    },\n                    {\n                        name: 'nodes',\n                        type: {\n                            array: [\n                                {\n                                    defined: 'AnyNode',\n                                },\n                                1024,\n                            ],\n                        },\n                    },\n                ],\n            },\n        },\n        {\n            name: 'I80F48',\n            docs: [\n                'Nothing in Rust shall use these types. They only exist so that the Anchor IDL',\n                'knows about them and typescript can deserialize it.',\n            ],\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'val',\n                        type: 'i128',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PlaceOrderArgs',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'side',\n                        type: {\n                            defined: 'Side',\n                        },\n                    },\n                    {\n                        name: 'priceLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxBaseLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxQuoteLotsIncludingFees',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'clientOrderId',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'orderType',\n                        type: {\n                            defined: 'PlaceOrderType',\n                        },\n                    },\n                    {\n                        name: 'expiryTimestamp',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'selfTradeBehavior',\n                        type: {\n                            defined: 'SelfTradeBehavior',\n                        },\n                    },\n                    {\n                        name: 'limit',\n                        type: 'u8',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PlaceMultipleOrdersArgs',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'priceLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxQuoteLotsIncludingFees',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'expiryTimestamp',\n                        type: 'u64',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PlaceOrderPeggedArgs',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'side',\n                        type: {\n                            defined: 'Side',\n                        },\n                    },\n                    {\n                        name: 'priceOffsetLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'pegLimit',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxBaseLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxQuoteLotsIncludingFees',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'clientOrderId',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'orderType',\n                        type: {\n                            defined: 'PlaceOrderType',\n                        },\n                    },\n                    {\n                        name: 'expiryTimestamp',\n                        type: 'u64',\n                    },\n                    {\n                        name: 'selfTradeBehavior',\n                        type: {\n                            defined: 'SelfTradeBehavior',\n                        },\n                    },\n                    {\n                        name: 'limit',\n                        type: 'u8',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PlaceTakeOrderArgs',\n            type: {\n                kind: 'struct',\n                fields: [\n                    {\n                        name: 'side',\n                        type: {\n                            defined: 'Side',\n                        },\n                    },\n                    {\n                        name: 'priceLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxBaseLots',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'maxQuoteLotsIncludingFees',\n                        type: 'i64',\n                    },\n                    {\n                        name: 'orderType',\n                        type: {\n                            defined: 'PlaceOrderType',\n                        },\n                    },\n                    {\n                        name: 'limit',\n                        type: 'u8',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OracleType',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Pyth',\n                    },\n                    {\n                        name: 'Stub',\n                    },\n                    {\n                        name: 'SwitchboardV1',\n                    },\n                    {\n                        name: 'SwitchboardV2',\n                    },\n                    {\n                        name: 'RaydiumCLMM',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OrderState',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Valid',\n                    },\n                    {\n                        name: 'Invalid',\n                    },\n                    {\n                        name: 'Skipped',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'BookSideOrderTree',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Fixed',\n                    },\n                    {\n                        name: 'OraclePegged',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'EventType',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Fill',\n                    },\n                    {\n                        name: 'Out',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'NodeTag',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Uninitialized',\n                    },\n                    {\n                        name: 'InnerNode',\n                    },\n                    {\n                        name: 'LeafNode',\n                    },\n                    {\n                        name: 'FreeNode',\n                    },\n                    {\n                        name: 'LastFreeNode',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PlaceOrderType',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Limit',\n                    },\n                    {\n                        name: 'ImmediateOrCancel',\n                    },\n                    {\n                        name: 'PostOnly',\n                    },\n                    {\n                        name: 'Market',\n                    },\n                    {\n                        name: 'PostOnlySlide',\n                    },\n                    {\n                        name: 'FillOrKill',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'PostOrderType',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Limit',\n                    },\n                    {\n                        name: 'PostOnly',\n                    },\n                    {\n                        name: 'PostOnlySlide',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'SelfTradeBehavior',\n            docs: [\n                'Self trade behavior controls how taker orders interact with resting limit orders of the same account.',\n                'This setting has no influence on placing a resting or oracle pegged limit order that does not match',\n                \"immediately, instead it's the responsibility of the user to correctly configure his taker orders.\",\n            ],\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'DecrementTake',\n                    },\n                    {\n                        name: 'CancelProvide',\n                    },\n                    {\n                        name: 'AbortTransaction',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'Side',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Bid',\n                    },\n                    {\n                        name: 'Ask',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'SideAndOrderTree',\n            docs: [\n                \"SideAndOrderTree is a storage optimization, so we don't need two bytes for the data\",\n            ],\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'BidFixed',\n                    },\n                    {\n                        name: 'AskFixed',\n                    },\n                    {\n                        name: 'BidOraclePegged',\n                    },\n                    {\n                        name: 'AskOraclePegged',\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OrderParams',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Market',\n                    },\n                    {\n                        name: 'ImmediateOrCancel',\n                        fields: [\n                            {\n                                name: 'price_lots',\n                                type: 'i64',\n                            },\n                        ],\n                    },\n                    {\n                        name: 'Fixed',\n                        fields: [\n                            {\n                                name: 'price_lots',\n                                type: 'i64',\n                            },\n                            {\n                                name: 'order_type',\n                                type: {\n                                    defined: 'PostOrderType',\n                                },\n                            },\n                        ],\n                    },\n                    {\n                        name: 'OraclePegged',\n                        fields: [\n                            {\n                                name: 'price_offset_lots',\n                                type: 'i64',\n                            },\n                            {\n                                name: 'order_type',\n                                type: {\n                                    defined: 'PostOrderType',\n                                },\n                            },\n                            {\n                                name: 'peg_limit',\n                                type: 'i64',\n                            },\n                        ],\n                    },\n                    {\n                        name: 'FillOrKill',\n                        fields: [\n                            {\n                                name: 'price_lots',\n                                type: 'i64',\n                            },\n                        ],\n                    },\n                ],\n            },\n        },\n        {\n            name: 'OrderTreeType',\n            type: {\n                kind: 'enum',\n                variants: [\n                    {\n                        name: 'Bids',\n                    },\n                    {\n                        name: 'Asks',\n                    },\n                ],\n            },\n        },\n    ],\n    events: [\n        {\n            name: 'DepositLog',\n            fields: [\n                {\n                    name: 'openOrdersAccount',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'signer',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'baseAmount',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'quoteAmount',\n                    type: 'u64',\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'FillLog',\n            fields: [\n                {\n                    name: 'market',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'takerSide',\n                    type: 'u8',\n                    index: false,\n                },\n                {\n                    name: 'makerSlot',\n                    type: 'u8',\n                    index: false,\n                },\n                {\n                    name: 'makerOut',\n                    type: 'bool',\n                    index: false,\n                },\n                {\n                    name: 'timestamp',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'seqNum',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'maker',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'makerClientOrderId',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'makerFee',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'makerTimestamp',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'taker',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'takerClientOrderId',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'takerFeeCeil',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'price',\n                    type: 'i64',\n                    index: false,\n                },\n                {\n                    name: 'quantity',\n                    type: 'i64',\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'MarketMetaDataLog',\n            fields: [\n                {\n                    name: 'market',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'name',\n                    type: 'string',\n                    index: false,\n                },\n                {\n                    name: 'baseMint',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'quoteMint',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'baseDecimals',\n                    type: 'u8',\n                    index: false,\n                },\n                {\n                    name: 'quoteDecimals',\n                    type: 'u8',\n                    index: false,\n                },\n                {\n                    name: 'baseLotSize',\n                    type: 'i64',\n                    index: false,\n                },\n                {\n                    name: 'quoteLotSize',\n                    type: 'i64',\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'TotalOrderFillEvent',\n            fields: [\n                {\n                    name: 'side',\n                    type: 'u8',\n                    index: false,\n                },\n                {\n                    name: 'taker',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'totalQuantityPaid',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'totalQuantityReceived',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'fees',\n                    type: 'u64',\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'SetDelegateLog',\n            fields: [\n                {\n                    name: 'openOrdersAccount',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'delegate',\n                    type: {\n                        option: 'publicKey',\n                    },\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'SettleFundsLog',\n            fields: [\n                {\n                    name: 'openOrdersAccount',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'baseNative',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'quoteNative',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'referrerRebate',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'referrer',\n                    type: {\n                        option: 'publicKey',\n                    },\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'SweepFeesLog',\n            fields: [\n                {\n                    name: 'market',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'amount',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'receiver',\n                    type: 'publicKey',\n                    index: false,\n                },\n            ],\n        },\n        {\n            name: 'OpenOrdersPositionLog',\n            fields: [\n                {\n                    name: 'owner',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'openOrdersAccountNum',\n                    type: 'u32',\n                    index: false,\n                },\n                {\n                    name: 'market',\n                    type: 'publicKey',\n                    index: false,\n                },\n                {\n                    name: 'bidsBaseLots',\n                    type: 'i64',\n                    index: false,\n                },\n                {\n                    name: 'bidsQuoteLots',\n                    type: 'i64',\n                    index: false,\n                },\n                {\n                    name: 'asksBaseLots',\n                    type: 'i64',\n                    index: false,\n                },\n                {\n                    name: 'baseFreeNative',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'quoteFreeNative',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'lockedMakerFees',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'referrerRebatesAvailable',\n                    type: 'u64',\n                    index: false,\n                },\n                {\n                    name: 'makerVolume',\n                    type: 'u128',\n                    index: false,\n                },\n                {\n                    name: 'takerVolume',\n                    type: 'u128',\n                    index: false,\n                },\n            ],\n        },\n    ],\n    errors: [\n        {\n            code: 6000,\n            name: 'SomeError',\n            msg: '',\n        },\n        {\n            code: 6001,\n            name: 'InvalidInputNameLength',\n            msg: 'Name lenght above limit',\n        },\n        {\n            code: 6002,\n            name: 'InvalidInputMarketExpired',\n            msg: 'Market cannot be created as expired',\n        },\n        {\n            code: 6003,\n            name: 'InvalidInputMarketFees',\n            msg: 'Taker fees should be positive and if maker fees are negative, greater or equal to their abs value',\n        },\n        {\n            code: 6004,\n            name: 'InvalidInputLots',\n            msg: 'Lots cannot be negative',\n        },\n        {\n            code: 6005,\n            name: 'InvalidInputLotsSize',\n            msg: 'Lots size above market limits',\n        },\n        {\n            code: 6006,\n            name: 'InvalidInputOrdersAmounts',\n            msg: 'Input amounts above limits',\n        },\n        {\n            code: 6007,\n            name: 'InvalidInputCancelSize',\n            msg: 'Price lots should be greater than zero',\n        },\n        {\n            code: 6008,\n            name: 'InvalidInputPriceLots',\n            msg: 'Expected cancel size should be greater than zero',\n        },\n        {\n            code: 6009,\n            name: 'InvalidInputPegLimit',\n            msg: 'Peg limit should be greater than zero',\n        },\n        {\n            code: 6010,\n            name: 'InvalidInputOrderType',\n            msg: 'The order type is invalid. A taker order must be Market or ImmediateOrCancel',\n        },\n        {\n            code: 6011,\n            name: 'InvalidInputOrderId',\n            msg: 'Order id cannot be zero',\n        },\n        {\n            code: 6012,\n            name: 'InvalidInputHeapSlots',\n            msg: 'Slot above heap limit',\n        },\n        {\n            code: 6013,\n            name: 'InvalidOracleTypes',\n            msg: 'Cannot combine two oracles of different providers',\n        },\n        {\n            code: 6014,\n            name: 'InvalidSecondOracle',\n            msg: 'Cannot configure secondary oracle without primary',\n        },\n        {\n            code: 6015,\n            name: 'NoCloseMarketAdmin',\n            msg: 'This market does not have a `close_market_admin` and thus cannot be closed.',\n        },\n        {\n            code: 6016,\n            name: 'InvalidCloseMarketAdmin',\n            msg: \"The signer of this transaction is not this market's `close_market_admin`.\",\n        },\n        {\n            code: 6017,\n            name: 'InvalidOpenOrdersAdmin',\n            msg: 'The `open_orders_admin` required by this market to sign all instructions that creates orders is missing or is not valid',\n        },\n        {\n            code: 6018,\n            name: 'InvalidConsumeEventsAdmin',\n            msg: 'The `consume_events_admin` required by this market to sign all instructions that consume events is missing or is not valid',\n        },\n        {\n            code: 6019,\n            name: 'InvalidMarketVault',\n            msg: 'Provided `market_vault` is invalid',\n        },\n        {\n            code: 6020,\n            name: 'IndexerActiveOO',\n            msg: 'Cannot be closed due to the existence of open orders accounts',\n        },\n        {\n            code: 6021,\n            name: 'OraclePegInvalidOracleState',\n            msg: 'Cannot place a peg order due to invalid oracle state',\n        },\n        {\n            code: 6022,\n            name: 'UnknownOracleType',\n            msg: 'oracle type cannot be determined',\n        },\n        {\n            code: 6023,\n            name: 'OracleConfidence',\n            msg: 'an oracle does not reach the confidence threshold',\n        },\n        {\n            code: 6024,\n            name: 'OracleStale',\n            msg: 'an oracle is stale',\n        },\n        {\n            code: 6025,\n            name: 'OrderIdNotFound',\n            msg: 'Order id not found on the orderbook',\n        },\n        {\n            code: 6026,\n            name: 'EventHeapContainsElements',\n            msg: \"Event heap contains elements and market can't be closed\",\n        },\n        {\n            code: 6027,\n            name: 'InvalidOrderPostIOC',\n            msg: 'ImmediateOrCancel is not a PostOrderType',\n        },\n        {\n            code: 6028,\n            name: 'InvalidOrderPostMarket',\n            msg: 'Market is not a PostOrderType',\n        },\n        {\n            code: 6029,\n            name: 'WouldSelfTrade',\n            msg: 'would self trade',\n        },\n        {\n            code: 6030,\n            name: 'MarketHasExpired',\n            msg: 'The Market has already expired.',\n        },\n        {\n            code: 6031,\n            name: 'InvalidPriceLots',\n            msg: 'Price lots should be greater than zero',\n        },\n        {\n            code: 6032,\n            name: 'InvalidOraclePrice',\n            msg: 'Oracle price above market limits',\n        },\n        {\n            code: 6033,\n            name: 'MarketHasNotExpired',\n            msg: 'The Market has not expired yet.',\n        },\n        {\n            code: 6034,\n            name: 'NoOwnerOrDelegate',\n            msg: 'No correct owner or delegate.',\n        },\n        {\n            code: 6035,\n            name: 'NoOwner',\n            msg: 'No correct owner',\n        },\n        {\n            code: 6036,\n            name: 'OpenOrdersFull',\n            msg: 'No free order index in open orders account',\n        },\n        {\n            code: 6037,\n            name: 'BookContainsElements',\n            msg: 'Book contains elements',\n        },\n        {\n            code: 6038,\n            name: 'OpenOrdersOrderNotFound',\n            msg: 'Could not find order in user account',\n        },\n        {\n            code: 6039,\n            name: 'InvalidPostAmount',\n            msg: 'Amount to post above book limits',\n        },\n        {\n            code: 6040,\n            name: 'DisabledOraclePeg',\n            msg: 'Oracle peg orders are not enabled for this market',\n        },\n        {\n            code: 6041,\n            name: 'NonEmptyMarket',\n            msg: 'Cannot close a non-empty market',\n        },\n        {\n            code: 6042,\n            name: 'NonEmptyOpenOrdersPosition',\n            msg: 'Cannot close a non-empty open orders account',\n        },\n        {\n            code: 6043,\n            name: 'WouldExecutePartially',\n            msg: 'Fill-Or-Kill order would generate a partial execution',\n        },\n    ],\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,MAAM;IACf,SAAS;IACT,MAAM;IACN,cAAc;QACV;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,MAAM;wBACF;wBACA;qBACH;gBACL;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;aACH;YACD,SAAS;gBACL,QAAQ;YACZ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAAiB;YACxB,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;aACH;YACD,SAAS;gBACL,QAAQ;YACZ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAAwB;YAC/B,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;aACH;YACD,SAAS;gBACL,QAAQ;YACZ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAAwB;YAC/B,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,KAAK;4BACD,SAAS;wBACb;oBACJ;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,KAAK;4BACD,SAAS;wBACb;oBACJ;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;YACD,SAAS;gBACL,KAAK;oBACD,QAAQ;gBACZ;YACJ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAA2C;YAClD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,KAAK;4BACD,SAAS;wBACb;oBACJ;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,KAAK;4BACD,SAAS;wBACb;oBACJ;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;YACD,SAAS;gBACL,KAAK;oBACD,QAAQ;gBACZ;YACJ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAA6B;YACpC,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;aACH;YACD,SAAS;gBACL,QAAQ;YACZ;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,SAAS;oBACb;gBACJ;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,KAAK;oBACT;gBACJ;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;YACD,SAAS;QACb;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAA4D;YACnE,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;wBACF,QAAQ;4BACJ,SAAS;wBACb;oBACJ;gBACJ;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;gBACA;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAAiC;YACxC,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAA6D;YACpE,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,YAAY;gBAChB;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;aACH;YACD,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;QACA;YACI,MAAM;YACN,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM,EAAE;QACZ;QACA;YACI,MAAM;YACN,UAAU;gBACN;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;gBACA;oBACI,MAAM;oBACN,OAAO;oBACP,UAAU;gBACd;aACH;YACD,MAAM;gBACF;oBACI,MAAM;oBACN,MAAM;gBACV;aACH;QACL;KACH;IACD,UAAU;QACN;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAW;wBAClB,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA6C;wBACpD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAiD;wBACxD,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAoD;wBAC3D,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAyC;wBAChD,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA2C;wBAClD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA2C;wBAClD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAmC;wBAC1C,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0B;wBACjC,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAuB;wBAC9B,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;4BACA;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;4BACA;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA8B;wBACrC,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0D;wBACjE,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;4BACA;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAgD;wBACvD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAqC;wBAC5C,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAqC;wBAC5C,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAqC;wBAC5C,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0D;wBACjE,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAI;wBACtB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCACH;oCACI,SAAS;gCACb;gCACA;6BACH;wBACL;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,KAAK;wBACT;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAI;wBACtB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCACH;oCACI,SAAS;gCACb;gCACA;6BACH;wBACL;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCACH;oCACI,SAAS;gCACb;gCACA;6BACH;wBACL;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAI;wBACtB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;aACH;YACD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCACH;oCACI,SAAS;gCACb;gCACA;6BACH;wBACL;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;KACH;IACD,OAAO;QACH;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAyB;wBAChC,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAyB;wBAChC,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0B;wBACjC,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA2C;wBAClD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,QAAQ;wBACZ;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAI;wBACtB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;gBACA;gBACA;aACH;YACD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAuD;wBAC9D,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAiC;wBACxC,MAAM;4BACF,OAAO;gCAAC;gCAAO;6BAAE;wBACrB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;4BACA;yBACH;wBACD,MAAM;4BACF,OAAO;gCAAC;gCAAO;6BAAE;wBACrB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBAAC;aAAkD;YACzD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAU;wBACjB,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAuD;wBAC9D,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0C;wBACjD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAA0C;wBACjD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAiD;wBACxD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAgC;wBACvC,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF;4BACA;4BACA;4BACA;yBACH;wBACD,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BAAC;yBAAqD;wBAC5D,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAG;wBACrB;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;aACH;YACD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAE;wBACpB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCAAC;gCAAM;6BAAI;wBACtB;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,OAAO;gCACH;oCACI,SAAS;gCACb;gCACA;6BACH;wBACL;oBACJ;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;aACH;YACD,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,QAAQ;oBACJ;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,MAAM;4BACF,SAAS;wBACb;oBACJ;oBACA;wBACI,MAAM;wBACN,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;gBACA;gBACA;aACH;YACD,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF;aACH;YACD,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;wBACN,QAAQ;4BACJ;gCACI,MAAM;gCACN,MAAM;4BACV;yBACH;oBACL;oBACA;wBACI,MAAM;wBACN,QAAQ;4BACJ;gCACI,MAAM;gCACN,MAAM;4BACV;4BACA;gCACI,MAAM;gCACN,MAAM;oCACF,SAAS;gCACb;4BACJ;yBACH;oBACL;oBACA;wBACI,MAAM;wBACN,QAAQ;4BACJ;gCACI,MAAM;gCACN,MAAM;4BACV;4BACA;gCACI,MAAM;gCACN,MAAM;oCACF,SAAS;gCACb;4BACJ;4BACA;gCACI,MAAM;gCACN,MAAM;4BACV;yBACH;oBACL;oBACA;wBACI,MAAM;wBACN,QAAQ;4BACJ;gCACI,MAAM;gCACN,MAAM;4BACV;yBACH;oBACL;iBACH;YACL;QACJ;QACA;YACI,MAAM;YACN,MAAM;gBACF,MAAM;gBACN,UAAU;oBACN;wBACI,MAAM;oBACV;oBACA;wBACI,MAAM;oBACV;iBACH;YACL;QACJ;KACH;IACD,QAAQ;QACJ;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,QAAQ;oBACZ;oBACA,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;wBACF,QAAQ;oBACZ;oBACA,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;QACA;YACI,MAAM;YACN,QAAQ;gBACJ;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;gBACA;oBACI,MAAM;oBACN,MAAM;oBACN,OAAO;gBACX;aACH;QACL;KACH;IACD,QAAQ;QACJ;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;QACA;YACI,MAAM;YACN,MAAM;YACN,KAAK;QACT;KACH;AACL","ignoreList":[0]}},
    {"offset": {"line": 3866, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/index.js"],"sourcesContent":["import { IDL } from './openbook_v2';\nexport * from './client';\nexport * from './accounts/bookSide';\nexport * from './accounts/eventHeap';\nexport * from './accounts/market';\nexport * from './accounts/openOrders';\nexport * from './accounts/openOrdersIndexer';\nexport * from './market';\nexport * from './structs/order';\nexport * from './utils/utils';\nexport * from './utils/watcher';\nexport { IDL };\n"],"names":[],"mappings":";AAAA","ignoreList":[0]}},
    {"offset": {"line": 3884, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/utils/rpc.js"],"sourcesContent":["import NodeWallet from '@coral-xyz/anchor/dist/cjs/nodewallet';\nimport { ComputeBudgetProgram, MessageV0, VersionedTransaction, Transaction, } from '@solana/web3.js';\nexport async function sendTransaction(provider, ixs, alts, opts = {}) {\n    const connection = provider.connection;\n    const additionalSigners = opts?.additionalSigners || [];\n    if (connection.banksClient !== undefined) {\n        const tx = new Transaction();\n        for (const ix of ixs) {\n            tx.add(ix);\n        }\n        tx.feePayer = provider.wallet.publicKey;\n        [tx.recentBlockhash] = await connection.banksClient.getLatestBlockhash();\n        for (const signer of additionalSigners) {\n            tx.partialSign(signer);\n        }\n        await connection.banksClient.processTransaction(tx);\n        return '';\n    }\n    const latestBlockhash = opts?.latestBlockhash ??\n        (await connection.getLatestBlockhash(opts?.preflightCommitment ??\n            provider.opts.preflightCommitment ??\n            'finalized'));\n    const payer = provider.wallet;\n    if (opts?.prioritizationFee !== null && opts.prioritizationFee !== 0) {\n        ixs = [createComputeBudgetIx(opts.prioritizationFee), ...ixs];\n    }\n    const message = MessageV0.compile({\n        payerKey: payer.publicKey,\n        instructions: ixs,\n        recentBlockhash: latestBlockhash.blockhash,\n        addressLookupTableAccounts: alts,\n    });\n    let vtx = new VersionedTransaction(message);\n    if (additionalSigners !== undefined && additionalSigners.length !== 0) {\n        vtx.sign([...additionalSigners]);\n    }\n    if (typeof payer.signTransaction === 'function' &&\n        !(payer instanceof NodeWallet || payer.constructor.name === 'NodeWallet')) {\n        vtx = (await payer.signTransaction(vtx));\n    }\n    else {\n        // Maybe this path is only correct for NodeWallet?\n        vtx.sign([payer.payer]);\n    }\n    const signature = await connection.sendRawTransaction(vtx.serialize(), {\n        skipPreflight: true, // mergedOpts.skipPreflight,\n    });\n    // console.log(`sent tx base64=${Buffer.from(vtx.serialize()).toString('base64')}`);\n    if (opts?.postSendTxCallback !== undefined &&\n        opts?.postSendTxCallback !== null) {\n        try {\n            opts.postSendTxCallback({ txid: signature });\n        }\n        catch (e) {\n            console.warn(`postSendTxCallback error`, e);\n        }\n    }\n    const txConfirmationCommitment = opts?.txConfirmationCommitment ?? 'processed';\n    let result;\n    if (latestBlockhash.blockhash != null &&\n        latestBlockhash.lastValidBlockHeight != null) {\n        result = (await connection.confirmTransaction({\n            signature: signature,\n            blockhash: latestBlockhash.blockhash,\n            lastValidBlockHeight: latestBlockhash.lastValidBlockHeight,\n        }, txConfirmationCommitment)).value;\n    }\n    else {\n        result = (await connection.confirmTransaction(signature, txConfirmationCommitment)).value;\n    }\n    if (result.err !== '' && result.err !== null) {\n        console.warn('Tx failed result: ', result);\n        throw new OpenBookError({\n            txid: signature,\n            message: `${JSON.stringify(result)}`,\n        });\n    }\n    return signature;\n}\nexport const createComputeBudgetIx = (microLamports) => {\n    const computeBudgetIx = ComputeBudgetProgram.setComputeUnitPrice({\n        microLamports,\n    });\n    return computeBudgetIx;\n};\nclass OpenBookError extends Error {\n    message;\n    txid;\n    constructor({ txid, message }) {\n        super();\n        this.message = message;\n        this.txid = txid;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3990, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/client.js"],"sourcesContent":["import { BN, Program, } from '@coral-xyz/anchor';\nimport { utf8 } from '@coral-xyz/anchor/dist/cjs/utils/bytes';\nimport { NATIVE_MINT, ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID, createCloseAccountInstruction, createInitializeAccount3Instruction, getAssociatedTokenAddressSync, } from '@solana/spl-token';\nimport { Keypair, PublicKey, SystemProgram, Transaction, } from '@solana/web3.js';\nimport { IDL } from './openbook_v2';\nimport { sendTransaction } from './utils/rpc';\nexport function nameToString(name) {\n    return utf8.decode(new Uint8Array(name)).split('\\x00')[0];\n}\nconst BooksideSpace = 90944 + 8;\nconst EventHeapSpace = 91280 + 8;\nexport const OPENBOOK_PROGRAM_ID = new PublicKey('opnb2LAfJYbRMAHHvqjCwQxanZn7ReEHp1k81EohpZb');\nexport class OpenBookV2Client {\n    provider;\n    programId;\n    opts;\n    program;\n    referrerWallet;\n    idsSource;\n    postSendTxCallback;\n    prioritizationFee;\n    txConfirmationCommitment;\n    constructor(provider, programId = OPENBOOK_PROGRAM_ID, opts = {}) {\n        this.provider = provider;\n        this.programId = programId;\n        this.opts = opts;\n        this.program = new Program(IDL, programId, provider);\n        this.idsSource = opts.idsSource ?? 'get-program-accounts';\n        this.prioritizationFee = opts?.prioritizationFee ?? 0;\n        this.postSendTxCallback = opts?.postSendTxCallback;\n        this.txConfirmationCommitment =\n            opts?.txConfirmationCommitment ??\n                (this.program.provider.opts !== undefined\n                    ? this.program.provider.opts.commitment\n                    : undefined) ??\n                'processed';\n        this.referrerWallet = opts.referrerWallet;\n        // TODO: evil side effect, but limited backtraces are a nightmare\n        Error.stackTraceLimit = 1000;\n    }\n    /// Convenience accessors\n    get connection() {\n        return this.program.provider.connection;\n    }\n    get walletPk() {\n        return this.program.provider.wallet.publicKey;\n    }\n    setProvider(provider) {\n        this.program = new Program(IDL, this.programId, provider);\n    }\n    /// Transactions\n    async sendAndConfirmTransaction(ixs, opts = {}) {\n        return await sendTransaction(this.program.provider, ixs, opts.alts ?? [], {\n            postSendTxCallback: this.postSendTxCallback,\n            prioritizationFee: this.prioritizationFee,\n            txConfirmationCommitment: this.txConfirmationCommitment,\n            ...opts,\n        });\n    }\n    async createProgramAccount(authority, size) {\n        const lamports = await this.connection.getMinimumBalanceForRentExemption(size);\n        const address = Keypair.generate();\n        const tx = new Transaction().add(SystemProgram.createAccount({\n            fromPubkey: authority.publicKey,\n            newAccountPubkey: address.publicKey,\n            lamports,\n            space: size,\n            programId: this.programId,\n        })).instructions;\n        await this.sendAndConfirmTransaction(tx, {\n            additionalSigners: [authority, address],\n        });\n        return address.publicKey;\n    }\n    async createProgramAccountIx(authority, size) {\n        const lamports = await this.connection.getMinimumBalanceForRentExemption(size);\n        const address = Keypair.generate();\n        const ix = SystemProgram.createAccount({\n            fromPubkey: authority,\n            newAccountPubkey: address.publicKey,\n            lamports,\n            space: size,\n            programId: this.programId,\n        });\n        return [ix, address];\n    }\n    async deserializeOpenOrderAccount(publicKey) {\n        try {\n            return await this.program.account.openOrdersAccount.fetch(publicKey);\n        }\n        catch {\n            return null;\n        }\n    }\n    async deserializeOpenOrdersIndexerAccount(publicKey) {\n        try {\n            return await this.program.account.openOrdersIndexer.fetch(publicKey);\n        }\n        catch {\n            return null;\n        }\n    }\n    async deserializeEventHeapAccount(publicKey) {\n        try {\n            return await this.program.account.eventHeap.fetch(publicKey);\n        }\n        catch {\n            return null;\n        }\n    }\n    async createMarketIx(payer, name, quoteMint, baseMint, quoteLotSize, baseLotSize, makerFee, takerFee, timeExpiry, oracleA, oracleB, openOrdersAdmin, consumeEventsAdmin, closeMarketAdmin, oracleConfigParams = {\n        confFilter: 0.1,\n        maxStalenessSlots: 100,\n    }, market = Keypair.generate(), collectFeeAdmin) {\n        const [bidIx, bidsKeypair] = await this.createProgramAccountIx(payer, BooksideSpace);\n        const [askIx, askKeypair] = await this.createProgramAccountIx(payer, BooksideSpace);\n        const [eventHeapIx, eventHeapKeypair] = await this.createProgramAccountIx(payer, EventHeapSpace);\n        const [marketAuthority] = PublicKey.findProgramAddressSync([Buffer.from('Market'), market.publicKey.toBuffer()], this.program.programId);\n        const baseVault = getAssociatedTokenAddressSync(baseMint, marketAuthority, true);\n        const quoteVault = getAssociatedTokenAddressSync(quoteMint, marketAuthority, true);\n        const [eventAuthority] = PublicKey.findProgramAddressSync([Buffer.from('__event_authority')], this.program.programId);\n        const ix = await this.program.methods\n            .createMarket(name, oracleConfigParams, quoteLotSize, baseLotSize, makerFee, takerFee, timeExpiry)\n            .accounts({\n            market: market.publicKey,\n            marketAuthority,\n            bids: bidsKeypair.publicKey,\n            asks: askKeypair.publicKey,\n            eventHeap: eventHeapKeypair.publicKey,\n            payer,\n            marketBaseVault: baseVault,\n            marketQuoteVault: quoteVault,\n            baseMint,\n            quoteMint,\n            systemProgram: SystemProgram.programId,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            associatedTokenProgram: ASSOCIATED_TOKEN_PROGRAM_ID,\n            oracleA,\n            oracleB,\n            collectFeeAdmin: collectFeeAdmin != null ? collectFeeAdmin : payer,\n            openOrdersAdmin,\n            consumeEventsAdmin,\n            closeMarketAdmin,\n            eventAuthority,\n            program: this.programId,\n        })\n            .instruction();\n        return [\n            [bidIx, askIx, eventHeapIx, ix],\n            [market, bidsKeypair, askKeypair, eventHeapKeypair],\n        ];\n    }\n    // Book and EventHeap must be empty before closing a market.\n    // Make sure to call consumeEvents and pruneOrders before closing the market.\n    async closeMarketIx(marketPublicKey, market, solDestination, closeMarketAdmin = null) {\n        const ix = await this.program.methods\n            .closeMarket()\n            .accounts({\n            closeMarketAdmin: market.closeMarketAdmin.key,\n            market: marketPublicKey,\n            asks: market.asks,\n            bids: market.bids,\n            eventHeap: market.eventHeap,\n            solDestination: solDestination,\n            tokenProgram: TOKEN_PROGRAM_ID,\n        })\n            .instruction();\n        const signers = [];\n        if (this.walletPk !== market.closeMarketAdmin.key &&\n            closeMarketAdmin !== null) {\n            signers.push(closeMarketAdmin);\n        }\n        return [ix, signers];\n    }\n    // Each owner has one open order indexer\n    findOpenOrdersIndexer(owner = this.walletPk) {\n        const [openOrdersIndexer] = PublicKey.findProgramAddressSync([Buffer.from('OpenOrdersIndexer'), owner.toBuffer()], this.programId);\n        return openOrdersIndexer;\n    }\n    async createOpenOrdersIndexer(openOrdersIndexer) {\n        const ix = await this.program.methods\n            .createOpenOrdersIndexer()\n            .accounts({\n            openOrdersIndexer,\n            owner: this.walletPk,\n            payer: this.walletPk,\n            systemProgram: SystemProgram.programId,\n        })\n            .instruction();\n        return await this.sendAndConfirmTransaction([ix]);\n    }\n    async createOpenOrdersIndexerIx(openOrdersIndexer, owner = this.walletPk) {\n        return await this.program.methods\n            .createOpenOrdersIndexer()\n            .accounts({\n            openOrdersIndexer,\n            owner,\n            payer: this.walletPk,\n        })\n            .instruction();\n    }\n    async findAllOpenOrders(owner = this.walletPk) {\n        const indexer = this.findOpenOrdersIndexer(owner);\n        const indexerAccount = await this.deserializeOpenOrdersIndexerAccount(indexer);\n        return indexerAccount?.addresses ?? [];\n    }\n    findOpenOrderAtIndex(owner = this.walletPk, accountIndex) {\n        const [openOrders] = PublicKey.findProgramAddressSync([\n            Buffer.from('OpenOrders'),\n            owner.toBuffer(),\n            accountIndex.toArrayLike(Buffer, 'le', 4),\n        ], this.programId);\n        return openOrders;\n    }\n    async findOpenOrdersForMarket(owner = this.walletPk, market) {\n        const openOrdersForMarket = [];\n        const allOpenOrders = await this.findAllOpenOrders(owner);\n        for await (const openOrders of allOpenOrders) {\n            const openOrdersAccount = await this.deserializeOpenOrderAccount(openOrders);\n            if (openOrdersAccount?.market.toString() === market.toString()) {\n                openOrdersForMarket.push(openOrders);\n            }\n        }\n        return openOrdersForMarket;\n    }\n    // If the owner doesn't have an open order indexer, this ix will also add the creation of it.\n    // An open order indexer is needed before creating an open orders account.\n    async createOpenOrdersIx(market, name, owner = this.walletPk, delegateAccount, openOrdersIndexer) {\n        const ixs = [];\n        let accountIndex = new BN(1);\n        if (openOrdersIndexer == null)\n            openOrdersIndexer = this.findOpenOrdersIndexer(owner);\n        try {\n            const storedIndexer = await this.deserializeOpenOrdersIndexerAccount(openOrdersIndexer);\n            if (storedIndexer == null) {\n                ixs.push(await this.createOpenOrdersIndexerIx(openOrdersIndexer, owner));\n            }\n            else {\n                accountIndex = new BN(storedIndexer.createdCounter + 1);\n            }\n        }\n        catch {\n            ixs.push(await this.createOpenOrdersIndexerIx(openOrdersIndexer, owner));\n        }\n        const openOrdersAccount = this.findOpenOrderAtIndex(owner, accountIndex);\n        ixs.push(await this.program.methods\n            .createOpenOrdersAccount(name)\n            .accounts({\n            openOrdersIndexer,\n            openOrdersAccount,\n            market,\n            owner,\n            delegateAccount,\n            payer: this.walletPk,\n            // systemProgram: SystemProgram.programId,\n        })\n            .instruction());\n        return [ixs, openOrdersAccount];\n    }\n    async createOpenOrders(payer, market, name, owner = payer, delegateAccount = null) {\n        const [ixs, openOrdersAccount] = await this.createOpenOrdersIx(market, name, owner.publicKey, delegateAccount);\n        const additionalSigners = [payer];\n        if (owner !== payer) {\n            additionalSigners.push(owner);\n        }\n        await this.sendAndConfirmTransaction(ixs, {\n            additionalSigners,\n        });\n        return openOrdersAccount;\n    }\n    async depositIx(openOrdersPublicKey, openOrdersAccount, market, userBaseAccount, userQuoteAccount, baseAmount, quoteAmount) {\n        const ix = await this.program.methods\n            .deposit(baseAmount, quoteAmount)\n            .accounts({\n            owner: openOrdersAccount.owner,\n            market: openOrdersAccount.market,\n            openOrdersAccount: openOrdersPublicKey,\n            userBaseAccount,\n            userQuoteAccount,\n            marketBaseVault: market.marketBaseVault,\n            marketQuoteVault: market.marketQuoteVault,\n            tokenProgram: TOKEN_PROGRAM_ID,\n        })\n            .instruction();\n        return ix;\n    }\n    async depositNativeIx(openOrdersPublicKey, openOrdersAccount, market, userBaseAccount, userQuoteAccount, baseAmount, quoteAmount) {\n        const wrappedSolAccount = new Keypair();\n        let preInstructions = [];\n        let postInstructions = [];\n        const additionalSigners = [];\n        const lamports = baseAmount.add(new BN(1e7));\n        preInstructions = [\n            SystemProgram.createAccount({\n                fromPubkey: openOrdersAccount.owner,\n                newAccountPubkey: wrappedSolAccount.publicKey,\n                lamports: lamports.toNumber(),\n                space: 165,\n                programId: TOKEN_PROGRAM_ID,\n            }),\n            createInitializeAccount3Instruction(wrappedSolAccount.publicKey, NATIVE_MINT, openOrdersAccount.owner),\n        ];\n        postInstructions = [\n            createCloseAccountInstruction(wrappedSolAccount.publicKey, openOrdersAccount.owner, openOrdersAccount.owner),\n        ];\n        additionalSigners.push(wrappedSolAccount);\n        const ix = await this.program.methods\n            .deposit(baseAmount, quoteAmount)\n            .accounts({\n            owner: openOrdersAccount.owner,\n            market: openOrdersAccount.market,\n            openOrdersAccount: openOrdersPublicKey,\n            userBaseAccount,\n            userQuoteAccount,\n            marketBaseVault: market.marketBaseVault,\n            marketQuoteVault: market.marketQuoteVault,\n            tokenProgram: TOKEN_PROGRAM_ID,\n        })\n            .instruction();\n        return [[...preInstructions, ix, ...postInstructions], additionalSigners];\n    }\n    decodeMarket(data) {\n        return this.program.coder.accounts.decode('market', data);\n    }\n    async placeOrderIx(openOrdersPublicKey, marketPublicKey, market, userTokenAccount, args, remainingAccounts, openOrdersDelegate) {\n        const marketVault = args.side.bid\n            ? market.marketQuoteVault\n            : market.marketBaseVault;\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const openOrdersAdmin = market.openOrdersAdmin.key.equals(PublicKey.default)\n            ? null\n            : market.openOrdersAdmin.key;\n        const ix = await this.program.methods\n            .placeOrder(args)\n            .accounts({\n            signer: openOrdersDelegate?.publicKey ?? this.walletPk,\n            asks: market.asks,\n            bids: market.bids,\n            marketVault,\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            openOrdersAccount: openOrdersPublicKey,\n            oracleA: market.oracleA.key,\n            oracleB: market.oracleB.key,\n            userTokenAccount,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            openOrdersAdmin,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async placeOrderPeggedIx(openOrdersPublicKey, marketPublicKey, market, userTokenAccount, openOrdersAdmin, args, remainingAccounts, openOrdersDelegate) {\n        const marketVault = args.side.bid\n            ? market.marketQuoteVault\n            : market.marketBaseVault;\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const ix = await this.program.methods\n            .placeOrderPegged(args)\n            .accounts({\n            signer: openOrdersDelegate != null\n                ? openOrdersDelegate.publicKey\n                : this.walletPk,\n            asks: market.asks,\n            bids: market.bids,\n            marketVault,\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            openOrdersAccount: openOrdersPublicKey,\n            oracleA: market.oracleA.key,\n            oracleB: market.oracleB.key,\n            userTokenAccount,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            openOrdersAdmin,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async placeTakeOrderIx(marketPublicKey, market, userBaseAccount, userQuoteAccount, openOrdersAdmin, args, remainingAccounts, openOrdersDelegate) {\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const ix = await this.program.methods\n            .placeTakeOrder(args)\n            .accounts({\n            signer: openOrdersDelegate != null\n                ? openOrdersDelegate.publicKey\n                : this.walletPk,\n            penaltyPayer: this.walletPk,\n            asks: market.asks,\n            bids: market.bids,\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            oracleA: market.oracleA.key,\n            oracleB: market.oracleB.key,\n            userBaseAccount,\n            userQuoteAccount,\n            marketBaseVault: market.marketBaseVault,\n            marketQuoteVault: market.marketQuoteVault,\n            marketAuthority: market.marketAuthority,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            openOrdersAdmin,\n            systemProgram: SystemProgram.programId,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    // Use OrderType from './utils/utils' for orderType\n    async cancelAllAndPlaceOrdersIx(openOrdersPublicKey, marketPublicKey, market, userBaseAccount, userQuoteAccount, openOrdersAdmin, orderType, bids, asks, limit = 12, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .cancelAllAndPlaceOrders(orderType, bids, asks, limit)\n            .accounts({\n            signer: openOrdersDelegate != null\n                ? openOrdersDelegate.publicKey\n                : this.walletPk,\n            asks: market.asks,\n            bids: market.bids,\n            marketQuoteVault: market.marketQuoteVault,\n            marketBaseVault: market.marketBaseVault,\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            openOrdersAccount: openOrdersPublicKey,\n            oracleA: market.oracleA.key,\n            oracleB: market.oracleB.key,\n            userBaseAccount,\n            userQuoteAccount,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            openOrdersAdmin,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    // Use OrderType from './utils/utils' for orderType\n    async placeOrdersIx(openOrdersPublicKey, marketPublicKey, market, userBaseAccount, userQuoteAccount, openOrdersAdmin, orderType, bids, asks, limit = 12, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .placeOrders(orderType, bids, asks, limit)\n            .accounts({\n            signer: openOrdersDelegate != null\n                ? openOrdersDelegate.publicKey\n                : this.walletPk,\n            asks: market.asks,\n            bids: market.bids,\n            marketQuoteVault: market.marketQuoteVault,\n            marketBaseVault: market.marketBaseVault,\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            openOrdersAccount: openOrdersPublicKey,\n            oracleA: market.oracleA.key,\n            oracleB: market.oracleB.key,\n            userBaseAccount,\n            userQuoteAccount,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            openOrdersAdmin,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async cancelOrderByIdIx(openOrdersPublicKey, openOrdersAccount, market, orderId, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .cancelOrder(orderId)\n            .accounts({\n            signer: openOrdersAccount.owner,\n            asks: market.asks,\n            bids: market.bids,\n            market: openOrdersAccount.market,\n            openOrdersAccount: openOrdersPublicKey,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async cancelOrderByClientIdIx(openOrdersPublicKey, openOrdersAccount, market, clientOrderId, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .cancelOrderByClientOrderId(clientOrderId)\n            .accounts({\n            signer: openOrdersAccount.owner,\n            asks: market.asks,\n            bids: market.bids,\n            market: openOrdersAccount.market,\n            openOrdersAccount: openOrdersPublicKey,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async cancelAllOrdersIx(openOrdersPublicKey, openOrdersAccount, market, limit, side, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .cancelAllOrders(side, limit)\n            .accounts({\n            signer: openOrdersAccount.owner,\n            asks: market.asks,\n            bids: market.bids,\n            market: openOrdersAccount.market,\n            openOrdersAccount: openOrdersPublicKey,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async closeOpenOrdersIndexerIx(owner, market, openOrdersIndexer) {\n        if (openOrdersIndexer == null) {\n            openOrdersIndexer = this.findOpenOrdersIndexer(owner.publicKey);\n        }\n        if (openOrdersIndexer !== null) {\n            const ix = await this.program.methods\n                .closeOpenOrdersIndexer()\n                .accounts({\n                owner: owner.publicKey,\n                openOrdersIndexer: market.asks,\n                solDestination: market.bids,\n                tokenProgram: TOKEN_PROGRAM_ID,\n            })\n                .instruction();\n            const additionalSigners = [];\n            if (owner.publicKey !== this.walletPk) {\n                additionalSigners.push(owner);\n            }\n            return [ix, additionalSigners];\n        }\n        throw new Error('No open order indexer for the specified owner');\n    }\n    async settleFundsIx(openOrdersPublicKey, openOrdersAccount, marketPublicKey, market, userBaseAccount, userQuoteAccount, referrerAccount, penaltyPayer, openOrdersDelegate) {\n        const ix = await this.program.methods\n            .settleFunds()\n            .accounts({\n            owner: openOrdersDelegate?.publicKey ?? openOrdersAccount.owner,\n            market: marketPublicKey,\n            openOrdersAccount: openOrdersPublicKey,\n            marketAuthority: market.marketAuthority,\n            marketBaseVault: market.marketBaseVault,\n            marketQuoteVault: market.marketQuoteVault,\n            tokenProgram: TOKEN_PROGRAM_ID,\n            systemProgram: SystemProgram.programId,\n            userBaseAccount: userBaseAccount,\n            userQuoteAccount: userQuoteAccount,\n            referrerAccount: referrerAccount,\n            penaltyPayer: penaltyPayer,\n        })\n            .instruction();\n        const signers = [];\n        if (openOrdersDelegate != null) {\n            signers.push(openOrdersDelegate);\n        }\n        return [ix, signers];\n    }\n    async closeOpenOrdersAccountIx(owner, openOrdersPublicKey, solDestination = this.walletPk, openOrdersIndexer) {\n        if (openOrdersIndexer == null) {\n            openOrdersIndexer = this.findOpenOrdersIndexer(owner.publicKey);\n        }\n        if (openOrdersIndexer !== null) {\n            const ix = await this.program.methods\n                .closeOpenOrdersAccount()\n                .accounts({\n                owner: owner.publicKey,\n                openOrdersIndexer,\n                openOrdersAccount: openOrdersPublicKey,\n                solDestination,\n                systemProgram: SystemProgram.programId,\n            })\n                .instruction();\n            const additionalSigners = [];\n            if (owner.publicKey !== this.walletPk) {\n                additionalSigners.push(owner);\n            }\n            return [ix, additionalSigners];\n        }\n        throw new Error('No open order indexer for the specified owner');\n    }\n    // Use getAccountsToConsume as a helper\n    async consumeEventsIx(marketPublicKey, market, limit, remainingAccounts) {\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const eventAdminBs58 = market.consumeEventsAdmin.key.toBase58();\n        const consumeEventsAdmin = eventAdminBs58 === PublicKey.default.toBase58()\n            ? null\n            : market.consumeEventsAdmin.key;\n        const ix = await this.program.methods\n            .consumeEvents(limit)\n            .accounts({\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            consumeEventsAdmin,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        return ix;\n    }\n    // Consume events for one specific account. Add other extra accounts as it's \"free\".\n    async consumeEventsForAccountIx(marketPublicKey, market, openOrdersAccount) {\n        const slots = await this.getSlotsToConsume(openOrdersAccount, market);\n        const allAccounts = await this.getAccountsToConsume(market);\n        // Create a set to remove duplicates\n        const uniqueAccounts = new Set([openOrdersAccount, ...allAccounts]);\n        // Limit extra accounts to 10 due tx limit and add openOrdersAccount\n        const remainingAccounts = [...uniqueAccounts].slice(0, 10);\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const ix = await this.program.methods\n            .consumeGivenEvents(slots)\n            .accounts({\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            consumeEventsAdmin: market.consumeEventsAdmin.key,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        return ix;\n    }\n    // In order to get slots for certain key use getSlotsToConsume and include the key in the remainingAccounts\n    async consumeGivenEventsIx(marketPublicKey, market, slots, remainingAccounts) {\n        const accountsMeta = remainingAccounts.map((remaining) => ({\n            pubkey: remaining,\n            isSigner: false,\n            isWritable: true,\n        }));\n        const ix = await this.program.methods\n            .consumeGivenEvents(slots)\n            .accounts({\n            eventHeap: market.eventHeap,\n            market: marketPublicKey,\n            consumeEventsAdmin: market.consumeEventsAdmin.key,\n        })\n            .remainingAccounts(accountsMeta)\n            .instruction();\n        return ix;\n    }\n    async pruneOrdersIx(marketPublicKey, market, openOrdersPublicKey, limit, closeMarketAdmin = null) {\n        const ix = await this.program.methods\n            .pruneOrders(limit)\n            .accounts({\n            closeMarketAdmin: market.closeMarketAdmin.key,\n            openOrdersAccount: openOrdersPublicKey,\n            market: marketPublicKey,\n            bids: market.bids,\n            asks: market.asks,\n        })\n            .instruction();\n        const signers = [];\n        if (this.walletPk !== market.closeMarketAdmin.key &&\n            closeMarketAdmin !== null) {\n            signers.push(closeMarketAdmin);\n        }\n        return [ix, signers];\n    }\n    async getAccountsToConsume(market) {\n        let accounts = new Array();\n        const eventHeap = await this.deserializeEventHeapAccount(market.eventHeap);\n        if (eventHeap != null) {\n            for (const node of eventHeap.nodes) {\n                if (node.event.eventType === 0) {\n                    const fillEvent = this.program.coder.types.decode('FillEvent', Buffer.from([0, ...node.event.padding]));\n                    accounts = accounts\n                        .filter((a) => a !== fillEvent.maker)\n                        .concat([fillEvent.maker]);\n                }\n                else {\n                    const outEvent = this.program.coder.types.decode('OutEvent', Buffer.from([0, ...node.event.padding]));\n                    accounts = accounts\n                        .filter((a) => a !== outEvent.owner)\n                        .concat([outEvent.owner]);\n                }\n                // Tx would be too big, do not add more accounts\n                if (accounts.length > 20)\n                    return accounts;\n            }\n        }\n        return accounts;\n    }\n    async getSlotsToConsume(key, market) {\n        const slots = new Array();\n        const eventHeap = await this.deserializeEventHeapAccount(market.eventHeap);\n        if (eventHeap != null) {\n            for (const [i, node] of eventHeap.nodes.entries()) {\n                if (node.event.eventType === 0) {\n                    const fillEvent = this.program.coder.types.decode('FillEvent', Buffer.from([0, ...node.event.padding]));\n                    if (key === fillEvent.maker)\n                        slots.push(new BN(i));\n                }\n                else {\n                    const outEvent = this.program.coder.types.decode('OutEvent', Buffer.from([0, ...node.event.padding]));\n                    if (key === outEvent.owner)\n                        slots.push(new BN(i));\n                }\n            }\n        }\n        return slots;\n    }\n}\nexport async function getFilteredProgramAccounts(connection, programId, filters) {\n    // @ts-expect-error not need check\n    const resp = await connection._rpcRequest('getProgramAccounts', [\n        programId.toBase58(),\n        {\n            commitment: connection.commitment,\n            filters,\n            encoding: 'base64',\n        },\n    ]);\n    if (resp.error !== null) {\n        throw new Error(resp.error.message);\n    }\n    return resp.result.map(({ pubkey, account: { data, executable, owner, lamports } }) => ({\n        publicKey: new PublicKey(pubkey),\n        accountInfo: {\n            data: Buffer.from(data[0], 'base64'),\n            executable,\n            owner: new PublicKey(owner),\n            lamports,\n        },\n    }));\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4760, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/utils/utils.js"],"sourcesContent":["import { PublicKey, SystemProgram, TransactionInstruction, } from '@solana/web3.js';\nimport BN from 'bn.js';\nimport { ASSOCIATED_TOKEN_PROGRAM_ID, TOKEN_PROGRAM_ID, } from '@solana/spl-token';\nexport const SideUtils = {\n    Bid: { bid: {} },\n    Ask: { ask: {} },\n};\nexport const PlaceOrderTypeUtils = {\n    Limit: { limit: {} },\n    ImmediateOrCancel: { immediateOrCancel: {} },\n    FillOrKill: { fillOrKill: {} },\n    PostOnly: { postOnly: {} },\n    Market: { market: {} },\n    PostOnlySlide: { postOnlySlide: {} },\n};\nexport const SelfTradeBehaviorUtils = {\n    DecrementTake: { decrementTake: {} },\n    CancelProvide: { cancelProvide: {} },\n    AbortTransaction: { abortTransaction: {} },\n};\n///\n/// numeric helpers\n///\nexport const U64_MAX_BN = new BN('18446744073709551615');\nexport const I64_MAX_BN = new BN('9223372036854775807').toTwos(64);\nexport const ORDER_FEE_UNIT = new BN(1e6);\nexport function bpsToDecimal(bps) {\n    return bps / 10000;\n}\nexport function percentageToDecimal(percentage) {\n    return percentage / 100;\n}\nexport function toNative(uiAmount, decimals) {\n    return new BN((uiAmount * Math.pow(10, decimals)).toFixed(0));\n}\nexport function toUiDecimals(nativeAmount, decimals) {\n    return nativeAmount / Math.pow(10, decimals);\n}\n///\n///\n/// web3js extensions\n///\n/**\n * Get the address of the associated token account for a given mint and owner\n *\n * @param mint                     Token mint account\n * @param owner                    Owner of the new account\n * @param allowOwnerOffCurve       Allow the owner account to be a PDA (Program Derived Address)\n * @param programId                SPL Token program account\n * @param associatedTokenProgramId SPL Associated Token program account\n *\n * @return Address of the associated token account\n */\nexport async function getAssociatedTokenAddress(mint, owner, allowOwnerOffCurve = true, programId = TOKEN_PROGRAM_ID, associatedTokenProgramId = ASSOCIATED_TOKEN_PROGRAM_ID) {\n    if (!allowOwnerOffCurve && !PublicKey.isOnCurve(owner.toBuffer()))\n        throw new Error('TokenOwnerOffCurve!');\n    const [address] = await PublicKey.findProgramAddress([owner.toBuffer(), programId.toBuffer(), mint.toBuffer()], associatedTokenProgramId);\n    return address;\n}\nexport async function createAssociatedTokenAccountIdempotentInstruction(payer, owner, mint) {\n    const account = await getAssociatedTokenAddress(mint, owner);\n    return new TransactionInstruction({\n        keys: [\n            { pubkey: payer, isSigner: true, isWritable: true },\n            { pubkey: account, isSigner: false, isWritable: true },\n            { pubkey: owner, isSigner: false, isWritable: false },\n            { pubkey: mint, isSigner: false, isWritable: false },\n            {\n                pubkey: SystemProgram.programId,\n                isSigner: false,\n                isWritable: false,\n            },\n            { pubkey: TOKEN_PROGRAM_ID, isSigner: false, isWritable: false },\n        ],\n        programId: ASSOCIATED_TOKEN_PROGRAM_ID,\n        data: Buffer.from([0x1]),\n    });\n}\nexport function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;AACO,MAAM,YAAY;IACrB,KAAK;QAAE,KAAK,CAAC;IAAE;IACf,KAAK;QAAE,KAAK,CAAC;IAAE;AACnB;AACO,MAAM,sBAAsB;IAC/B,OAAO;QAAE,OAAO,CAAC;IAAE;IACnB,mBAAmB;QAAE,mBAAmB,CAAC;IAAE;IAC3C,YAAY;QAAE,YAAY,CAAC;IAAE;IAC7B,UAAU;QAAE,UAAU,CAAC;IAAE;IACzB,QAAQ;QAAE,QAAQ,CAAC;IAAE;IACrB,eAAe;QAAE,eAAe,CAAC;IAAE;AACvC;AACO,MAAM,yBAAyB;IAClC,eAAe;QAAE,eAAe,CAAC;IAAE;IACnC,eAAe;QAAE,eAAe,CAAC;IAAE;IACnC,kBAAkB;QAAE,kBAAkB,CAAC;IAAE;AAC7C;AAIO,MAAM,aAAa,IAAI,oNAAE,CAAC;AAC1B,MAAM,aAAa,IAAI,oNAAE,CAAC,uBAAuB,MAAM,CAAC;AACxD,MAAM,iBAAiB,IAAI,oNAAE,CAAC;AAC9B,SAAS,aAAa,GAAG;IAC5B,OAAO,MAAM;AACjB;AACO,SAAS,oBAAoB,UAAU;IAC1C,OAAO,aAAa;AACxB;AACO,SAAS,SAAS,QAAQ,EAAE,QAAQ;IACvC,OAAO,IAAI,oNAAE,CAAC,CAAC,WAAW,KAAK,GAAG,CAAC,IAAI,SAAS,EAAE,OAAO,CAAC;AAC9D;AACO,SAAS,aAAa,YAAY,EAAE,QAAQ;IAC/C,OAAO,eAAe,KAAK,GAAG,CAAC,IAAI;AACvC;AAgBO,eAAe,0BAA0B,IAAI,EAAE,KAAK,EAAE,qBAAqB,IAAI,EAAE,YAAY,iYAAgB,EAAE,2BAA2B,4YAA2B;IACxK,IAAI,CAAC,sBAAsB,CAAC,uRAAS,CAAC,SAAS,CAAC,MAAM,QAAQ,KAC1D,MAAM,IAAI,MAAM;IACpB,MAAM,CAAC,QAAQ,GAAG,MAAM,uRAAS,CAAC,kBAAkB,CAAC;QAAC,MAAM,QAAQ;QAAI,UAAU,QAAQ;QAAI,KAAK,QAAQ;KAAG,EAAE;IAChH,OAAO;AACX;AACO,eAAe,kDAAkD,KAAK,EAAE,KAAK,EAAE,IAAI;IACtF,MAAM,UAAU,MAAM,0BAA0B,MAAM;IACtD,OAAO,IAAI,oSAAsB,CAAC;QAC9B,MAAM;YACF;gBAAE,QAAQ;gBAAO,UAAU;gBAAM,YAAY;YAAK;YAClD;gBAAE,QAAQ;gBAAS,UAAU;gBAAO,YAAY;YAAK;YACrD;gBAAE,QAAQ;gBAAO,UAAU;gBAAO,YAAY;YAAM;YACpD;gBAAE,QAAQ;gBAAM,UAAU;gBAAO,YAAY;YAAM;YACnD;gBACI,QAAQ,2RAAa,CAAC,SAAS;gBAC/B,UAAU;gBACV,YAAY;YAChB;YACA;gBAAE,QAAQ,iYAAgB;gBAAE,UAAU;gBAAO,YAAY;YAAM;SAClE;QACD,WAAW,4YAA2B;QACtC,MAAM,OAAO,IAAI,CAAC;YAAC;SAAI;IAC3B;AACJ;AACO,SAAS,MAAM,EAAE;IACpB,OAAO,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;AACxD","ignoreList":[0]}},
    {"offset": {"line": 4905, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/structs/order.js"],"sourcesContent":["import { BN } from '@coral-xyz/anchor';\nimport { U64_MAX_BN } from '..';\nexport class Order {\n    market;\n    leafNode;\n    side;\n    isExpired;\n    isOraclePegged;\n    seqNum;\n    priceLots;\n    constructor(market, leafNode, side, isExpired = false, isOraclePegged = false) {\n        this.market = market;\n        this.leafNode = leafNode;\n        this.side = side;\n        this.isExpired = isExpired;\n        this.isOraclePegged = isOraclePegged;\n        this.seqNum = this.side.bid\n            ? U64_MAX_BN.sub(this.leafNode.key.maskn(64))\n            : this.leafNode.key.maskn(64);\n        const priceData = this.leafNode.key.ushrn(64);\n        if (this.isOraclePegged) {\n            const priceOffset = priceData.sub(new BN(1).ushln(63));\n            throw new Error('Not implemented yet');\n            // TODO: add oracle price logic to Market\n        }\n        else {\n            this.priceLots = priceData;\n        }\n    }\n    get price() {\n        return this.market.priceLotsToUi(this.priceLots);\n    }\n    get size() {\n        return this.market.baseLotsToUi(this.leafNode.quantity);\n    }\n    get sizeLots() {\n        return this.leafNode.quantity;\n    }\n    toPrettyString() {\n        return `side:${this.side.bid ? 'bid' : 'ask'} price:${this.price} size:${this.size} seqNum:${this.seqNum.toString()} expired:${this.isExpired}`;\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AACO,MAAM;IACT,OAAO;IACP,SAAS;IACT,KAAK;IACL,UAAU;IACV,eAAe;IACf,OAAO;IACP,UAAU;IACV,YAAY,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,KAAK,EAAE,iBAAiB,KAAK,CAAE;QAC3E,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,IAAI,GAAG;QACZ,IAAI,CAAC,SAAS,GAAG;QACjB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,GACrB,8WAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,OACvC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;QAC9B,MAAM,YAAY,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;QAC1C,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,MAAM,cAAc,UAAU,GAAG,CAAC,IAAI,gPAAE,CAAC,GAAG,KAAK,CAAC;YAClD,MAAM,IAAI,MAAM;QAChB,yCAAyC;QAC7C,OACK;YACD,IAAI,CAAC,SAAS,GAAG;QACrB;IACJ;IACA,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS;IACnD;IACA,IAAI,OAAO;QACP,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ;IAC1D;IACA,IAAI,WAAW;QACX,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ;IACjC;IACA,iBAAiB;QACb,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,QAAQ,MAAM,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE;IACnJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 4955, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/accounts/bookSide.js"],"sourcesContent":["import { U64_MAX_BN, } from '..';\nimport { BN } from '@coral-xyz/anchor';\nimport { Order } from '../structs/order';\nfunction decodeOrderTreeRootStruct(data) {\n    const maybeNode = data.readUInt32LE(0);\n    const leafCount = data.readUInt32LE(4);\n    return { maybeNode, leafCount };\n}\nexport class BookSide {\n    market;\n    pubkey;\n    account;\n    side;\n    clusterTime;\n    constructor(market, pubkey, account, side) {\n        this.market = market;\n        this.pubkey = pubkey;\n        this.account = account;\n        this.side = side;\n        this.clusterTime = new BN(0);\n    }\n    static decodeAccountfromBuffer(data) {\n        // TODO: add discriminator parsing & check\n        const roots = [\n            decodeOrderTreeRootStruct(data.subarray(8)),\n            decodeOrderTreeRootStruct(data.subarray(16)),\n        ];\n        // skip reserved\n        let offset = 56 + 256;\n        const orderTreeType = data.readUInt8(offset);\n        const bumpIndex = data.readUInt32LE(offset + 4);\n        const freeListLen = data.readUInt32LE(offset + 8);\n        const freeListHead = data.readUInt32LE(offset + 12);\n        // skip more reserved data\n        offset += 16 + 512;\n        const nodes = [];\n        for (let i = 0; i < 1024; ++i) {\n            const tag = data.readUInt8(offset);\n            const nodeData = data.subarray(offset, offset + 88);\n            nodes.push({ tag, nodeData });\n            offset += 88;\n        }\n        // this result has a slightly different layout than the regular account\n        // it doesn't include reserved data and it's AnyNodes don't have the field\n        // data: number[] (excluding the tag prefix byte)\n        // but nodeData: Buffer (including the tag prefix byte)\n        const result = {\n            roots,\n            nodes: { orderTreeType, bumpIndex, freeListLen, freeListHead, nodes },\n        };\n        return result;\n    }\n    *items() {\n        const fGen = this.fixedItems();\n        const oPegGen = this.oraclePeggedItems();\n        let fOrderRes = fGen.next();\n        let oPegOrderRes = oPegGen.next();\n        while (true) {\n            if (fOrderRes.value && oPegOrderRes.value) {\n                if (this.compareOrders(fOrderRes.value, oPegOrderRes.value)) {\n                    yield fOrderRes.value;\n                    fOrderRes = fGen.next();\n                }\n                else {\n                    yield oPegOrderRes.value;\n                    oPegOrderRes = oPegGen.next();\n                }\n            }\n            else if (fOrderRes.value && !oPegOrderRes.value) {\n                yield fOrderRes.value;\n                fOrderRes = fGen.next();\n            }\n            else if (!fOrderRes.value && oPegOrderRes.value) {\n                yield oPegOrderRes.value;\n                oPegOrderRes = oPegGen.next();\n            }\n            else if (!fOrderRes.value && !oPegOrderRes.value) {\n                break;\n            }\n        }\n    }\n    get rootFixed() {\n        return this.account.roots[0];\n    }\n    get rootOraclePegged() {\n        return this.account.roots[1];\n    }\n    *fixedItems() {\n        if (this.rootFixed.leafCount === 0) {\n            return;\n        }\n        const stack = [this.rootFixed.maybeNode];\n        const [left, right] = this.side.bid ? [1, 0] : [0, 1];\n        while (stack.length > 0) {\n            const index = stack.pop();\n            const node = this.account.nodes.nodes[index];\n            if (node.tag === BookSide.INNER_NODE_TAG) {\n                const innerNode = this.toInnerNode(node);\n                stack.push(innerNode.children[right], innerNode.children[left]);\n            }\n            else if (node.tag === BookSide.LEAF_NODE_TAG) {\n                const leafNode = this.toLeafNode(node);\n                const expiryTimestamp = leafNode.timeInForce\n                    ? leafNode.timestamp.add(new BN(leafNode.timeInForce))\n                    : U64_MAX_BN;\n                yield new Order(this.market, leafNode, this.side, this.clusterTime.gt(expiryTimestamp));\n            }\n        }\n    }\n    *oraclePeggedItems() {\n        if (this.rootOraclePegged.leafCount === 0) {\n            return;\n        }\n        const stack = [this.rootOraclePegged.maybeNode];\n        const [left, right] = this.side.bid ? [1, 0] : [0, 1];\n        while (stack.length > 0) {\n            const index = stack.pop();\n            const node = this.account.nodes.nodes[index];\n            if (node.tag === BookSide.INNER_NODE_TAG) {\n                const innerNode = this.toInnerNode(node);\n                stack.push(innerNode.children[right], innerNode.children[left]);\n            }\n            else if (node.tag === BookSide.LEAF_NODE_TAG) {\n                const leafNode = this.toLeafNode(node);\n                const expiryTimestamp = leafNode.timeInForce\n                    ? leafNode.timestamp.add(new BN(leafNode.timeInForce))\n                    : U64_MAX_BN;\n                yield new Order(this.market, leafNode, this.side, this.clusterTime.gt(expiryTimestamp), true);\n            }\n        }\n    }\n    compareOrders(a, b) {\n        return a.priceLots.eq(b.priceLots)\n            ? a.seqNum.lt(b.seqNum) // if prices are equal prefer orders in the order they are placed\n            : this.side.bid // else compare the actual prices\n                ? a.priceLots.gt(b.priceLots)\n                : b.priceLots.gt(a.priceLots);\n    }\n    best() {\n        return this.items().next().value;\n    }\n    getL2(depth) {\n        const levels = [];\n        for (const { priceLots, sizeLots } of this.items()) {\n            if (levels.length > 0 && levels[levels.length - 1][0].eq(priceLots)) {\n                levels[levels.length - 1][1].iadd(sizeLots);\n            }\n            else if (levels.length === depth) {\n                break;\n            }\n            else {\n                levels.push([priceLots, sizeLots]);\n            }\n        }\n        return levels.map(([priceLots, sizeLots]) => [\n            this.market.priceLotsToUi(priceLots),\n            this.market.baseLotsToUi(sizeLots),\n            priceLots,\n            sizeLots,\n        ]);\n    }\n    static INNER_NODE_TAG = 1;\n    static LEAF_NODE_TAG = 2;\n    toInnerNode(node) {\n        const layout = this.market.client.program._coder.types.typeLayouts.get('InnerNode');\n        // need to differentiate between accounts loaded via anchor and decodeAccountfromBuffer\n        if ('nodeData' in node) {\n            return layout.decode(node['nodeData']);\n        }\n        else {\n            return layout.decode(Buffer.from([BookSide.INNER_NODE_TAG].concat(node.data)));\n        }\n    }\n    toLeafNode(node) {\n        const layout = this.market.client.program._coder.types.typeLayouts.get('LeafNode');\n        // need to differentiate between accounts loaded via anchor and decodeAccountfromBuffer\n        if ('nodeData' in node) {\n            return layout.decode(node['nodeData']);\n        }\n        else {\n            return layout.decode(Buffer.from([BookSide.LEAF_NODE_TAG].concat(node.data)));\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5170, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/accounts/eventHeap.js"],"sourcesContent":["export var EventType;\n(function (EventType) {\n    EventType[EventType[\"Fill\"] = 0] = \"Fill\";\n    EventType[EventType[\"Out\"] = 1] = \"Out\";\n})(EventType || (EventType = {}));\nexport class EventHeap {\n    pubkey;\n    account;\n    market;\n    constructor(pubkey, account, market) {\n        this.pubkey = pubkey;\n        this.account = account;\n        this.market = market;\n    }\n    *rawEvents() {\n        let currentIndex = this.account.header.usedHead;\n        for (let i = 0; i < this.account.header.count; ++i) {\n            const { event, next } = this.account.nodes[currentIndex];\n            yield event;\n            currentIndex = next;\n        }\n    }\n    *parsedEvents() {\n        const { decode } = this.market.client.program.coder.types;\n        for (const event of this.rawEvents()) {\n            // TODO find out how not to re-allocate\n            const buffer = Buffer.from([event.eventType].concat(event.padding));\n            switch (event.eventType) {\n                case EventType.Fill: {\n                    yield decode('FillEvent', buffer);\n                    continue;\n                }\n                case EventType.Out: {\n                    yield decode('OutEvent', buffer);\n                    continue;\n                }\n            }\n        }\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAO,IAAI;AACX,CAAC,SAAU,SAAS;IAChB,SAAS,CAAC,SAAS,CAAC,OAAO,GAAG,EAAE,GAAG;IACnC,SAAS,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,GAAG;AACtC,CAAC,EAAE,aAAa,CAAC,YAAY,CAAC,CAAC;AACxB,MAAM;IACT,OAAO;IACP,QAAQ;IACR,OAAO;IACP,YAAY,MAAM,EAAE,OAAO,EAAE,MAAM,CAAE;QACjC,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,MAAM,GAAG;IAClB;IACA,CAAC,YAAY;QACT,IAAI,eAAe,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ;QAC/C,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,EAAG;YAChD,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa;YACxD,MAAM;YACN,eAAe;QACnB;IACJ;IACA,CAAC,eAAe;QACZ,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK;QACzD,KAAK,MAAM,SAAS,IAAI,CAAC,SAAS,GAAI;YAClC,uCAAuC;YACvC,MAAM,SAAS,OAAO,IAAI,CAAC;gBAAC,MAAM,SAAS;aAAC,CAAC,MAAM,CAAC,MAAM,OAAO;YACjE,OAAQ,MAAM,SAAS;gBACnB,KAAK,UAAU,IAAI;oBAAE;wBACjB,MAAM,OAAO,aAAa;wBAC1B;oBACJ;gBACA,KAAK,UAAU,GAAG;oBAAE;wBAChB,MAAM,OAAO,YAAY;wBACzB;oBACJ;YACJ;QACJ;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5224, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/accounts/market.js"],"sourcesContent":["import Big from 'big.js';\nimport { BN } from '@coral-xyz/anchor';\nimport { PublicKey } from '@solana/web3.js';\nimport { toNative, BookSide, SideUtils, nameToString, EventHeap, EventType, } from '..';\nconst FEES_SCALE_FACTOR = new BN(1_000_000);\nexport class Market {\n    client;\n    pubkey;\n    account;\n    minOrderSize;\n    tickSize;\n    quoteLotFactor;\n    baseNativeFactor;\n    quoteNativeFactor;\n    /**\n     * use async loadBids() or loadOrderBook() to populate bids\n     */\n    bids;\n    /**\n     * use async loadAsks() or loadOrderBook() to populate asks\n     */\n    asks;\n    eventHeap;\n    constructor(client, pubkey, account) {\n        this.client = client;\n        this.pubkey = pubkey;\n        this.account = account;\n        this.baseNativeFactor = new Big(10).pow(-account.baseDecimals);\n        this.quoteNativeFactor = new Big(10).pow(-account.quoteDecimals);\n        this.minOrderSize = new Big(account.baseLotSize.toString()).mul(this.baseNativeFactor);\n        this.quoteLotFactor = new Big(account.quoteLotSize.toString()).mul(this.quoteNativeFactor);\n        this.tickSize = new Big(10)\n            .pow(account.baseDecimals - account.quoteDecimals)\n            .mul(new Big(account.quoteLotSize.toString()))\n            .div(new Big(account.baseLotSize.toString()));\n    }\n    static async load(client, pubkey) {\n        const account = await client.program.account.market.fetch(pubkey);\n        return new Market(client, pubkey, account);\n    }\n    baseLotsToUi(lots) {\n        return new Big(lots.toString()).mul(this.minOrderSize).toNumber();\n    }\n    baseNativeToUi(native) {\n        return new Big(native.toString()).mul(this.baseNativeFactor).toNumber();\n    }\n    quoteLotsToUi(lots) {\n        return new Big(lots.toString()).mul(this.quoteLotFactor).toNumber();\n    }\n    quoteNativeToUi(native) {\n        return new Big(native.toString()).mul(this.quoteNativeFactor).toNumber();\n    }\n    priceLotsToUi(lots) {\n        return new Big(lots.toString()).mul(this.tickSize).toNumber();\n    }\n    baseUiToLots(uiAmount) {\n        return toNative(uiAmount, this.account.baseDecimals).div(this.account.baseLotSize);\n    }\n    quoteUiToLots(uiAmount) {\n        return toNative(uiAmount, this.account.quoteDecimals).div(this.account.quoteLotSize);\n    }\n    priceUiToLots(uiAmount) {\n        return toNative(uiAmount * Number(this.account.baseLotSize.toString()), this.account.quoteDecimals).div(new BN(Math.pow(10, this.account.baseDecimals)).imul(this.account.quoteLotSize));\n    }\n    makerFeeFloor(quoteNative) {\n        return quoteNative.mul(this.account.makerFee).div(FEES_SCALE_FACTOR);\n    }\n    async loadBids() {\n        const bidsAi = await this.client.connection.getAccountInfo(this.account.bids);\n        this.bids = new BookSide(this, this.account.bids, BookSide.decodeAccountfromBuffer(bidsAi.data), SideUtils.Bid);\n        return this.bids;\n    }\n    async loadAsks() {\n        const asksAi = await this.client.connection.getAccountInfo(this.account.asks);\n        this.asks = new BookSide(this, this.account.asks, BookSide.decodeAccountfromBuffer(asksAi.data), SideUtils.Ask);\n        return this.asks;\n    }\n    async loadEventHeap() {\n        const eventHeap = (await this.client.program.account.eventHeap.fetch(this.account.eventHeap));\n        this.eventHeap = new EventHeap(this.account.eventHeap, eventHeap, this);\n        return this.eventHeap;\n    }\n    async loadOrderBook() {\n        await Promise.all([this.loadBids(), this.loadAsks()]);\n        return this;\n    }\n    toPrettyString() {\n        const mkt = this.account;\n        let debug = `Market: ${nameToString(mkt.name)}\\n`;\n        debug += ` authority: ${mkt.marketAuthority.toBase58()}\\n`;\n        debug += ` collectFeeAdmin: ${mkt.collectFeeAdmin.toBase58()}\\n`;\n        if (!mkt.openOrdersAdmin.key.equals(PublicKey.default))\n            debug += ` openOrdersAdmin: ${mkt.openOrdersAdmin.key.toBase58()}\\n`;\n        if (!mkt.consumeEventsAdmin.key.equals(PublicKey.default))\n            debug += ` consumeEventsAdmin: ${mkt.consumeEventsAdmin.key.toBase58()}\\n`;\n        if (!mkt.closeMarketAdmin.key.equals(PublicKey.default))\n            debug += ` closeMarketAdmin: ${mkt.closeMarketAdmin.key.toBase58()}\\n`;\n        debug += ` baseMint: ${mkt.baseMint.toBase58()}\\n`;\n        debug += ` quoteMint: ${mkt.quoteMint.toBase58()}\\n`;\n        debug += ` marketBaseVault: ${mkt.marketBaseVault.toBase58()}\\n`;\n        debug += ` marketQuoteVault: ${mkt.marketQuoteVault.toBase58()}\\n`;\n        if (!mkt.oracleA.key.equals(PublicKey.default)) {\n            debug += ` oracleConfig: { confFilter: ${mkt.oracleConfig.confFilter}, maxStalenessSlots: ${mkt.oracleConfig.maxStalenessSlots.toString()} }\\n`;\n            debug += ` oracleA: ${mkt.oracleA.key.toBase58()}\\n`;\n        }\n        if (!mkt.oracleB.key.equals(PublicKey.default))\n            debug += ` oracleB: ${mkt.oracleB.key.toBase58()}\\n`;\n        debug += ` bids: ${mkt.bids.toBase58()}\\n`;\n        const bb = this.bids?.best();\n        if (bb) {\n            debug += `  best: ${bb.price} ${bb.size} ${bb.leafNode.owner.toBase58()}\\n`;\n        }\n        debug += ` asks: ${mkt.asks.toBase58()}\\n`;\n        const ba = this.asks?.best();\n        if (ba) {\n            debug += `  best: ${ba.price} ${ba.size} ${ba.leafNode.owner.toBase58()}\\n`;\n        }\n        debug += ` eventHeap: ${mkt.eventHeap.toBase58()}\\n`;\n        if (this.eventHeap) {\n            let fillEvents = 0;\n            let outEvents = 0;\n            for (const event of this.eventHeap.parsedEvents()) {\n                switch (event.eventType) {\n                    case EventType.Fill: {\n                        fillEvents += 1;\n                        continue;\n                    }\n                    case EventType.Out: {\n                        outEvents += 1;\n                        continue;\n                    }\n                }\n            }\n            debug += `  fillEvents: ${fillEvents}\\n`;\n            debug += `  outEvents: ${outEvents}\\n`;\n        }\n        else {\n            debug += `  loaded: false\\n`;\n        }\n        debug += ` minOrderSize: ${this.minOrderSize}\\n`;\n        debug += ` tickSize: ${this.tickSize}\\n`;\n        return debug;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5379, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/accounts/openOrdersIndexer.js"],"sourcesContent":["import { OpenOrders, Market, BookSide, SideUtils, } from '..';\nexport class OpenOrdersIndexer {\n    client;\n    pubkey;\n    account;\n    constructor(client, pubkey, account) {\n        this.client = client;\n        this.pubkey = pubkey;\n        this.account = account;\n    }\n    static async load(client, owner) {\n        const pubkey = client.findOpenOrdersIndexer(owner);\n        const account = await client.program.account.openOrdersIndexer.fetch(pubkey);\n        return new OpenOrdersIndexer(client, pubkey, account);\n    }\n    static async loadNullable(client, owner) {\n        const pubkey = client.findOpenOrdersIndexer(owner);\n        const account = await client.program.account.openOrdersIndexer.fetchNullable(pubkey);\n        return account && new OpenOrdersIndexer(client, pubkey, account);\n    }\n    async loadAllOpenOrders() {\n        const ooPks = this.account.addresses;\n        const oos = await this.client.program.account.openOrdersAccount.fetchMultiple(ooPks);\n        const marketPks = oos.map((oo) => oo.market);\n        const markets = await this.client.program.account.market.fetchMultiple(marketPks);\n        const bookSidePks = markets.flatMap((m) => [m.bids, m.asks]);\n        const bookSideAis = await this.client.connection.getMultipleAccountsInfo(bookSidePks);\n        return oos.map((oo, i) => {\n            const mkt = new Market(this.client, marketPks[i], markets[i]);\n            mkt.bids = new BookSide(mkt, bookSidePks[2 * i], BookSide.decodeAccountfromBuffer(bookSideAis[2 * i].data), SideUtils.Bid);\n            mkt.asks = new BookSide(mkt, bookSidePks[2 * i + 1], BookSide.decodeAccountfromBuffer(bookSideAis[2 * i + 1].data), SideUtils.Ask);\n            return new OpenOrders(ooPks[i], oo, mkt);\n        });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;;AACO,MAAM;IACT,OAAO;IACP,OAAO;IACP,QAAQ;IACR,YAAY,MAAM,EAAE,MAAM,EAAE,OAAO,CAAE;QACjC,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,OAAO,GAAG;IACnB;IACA,aAAa,KAAK,MAAM,EAAE,KAAK,EAAE;QAC7B,MAAM,SAAS,OAAO,qBAAqB,CAAC;QAC5C,MAAM,UAAU,MAAM,OAAO,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,KAAK,CAAC;QACrE,OAAO,IAAI,kBAAkB,QAAQ,QAAQ;IACjD;IACA,aAAa,aAAa,MAAM,EAAE,KAAK,EAAE;QACrC,MAAM,SAAS,OAAO,qBAAqB,CAAC;QAC5C,MAAM,UAAU,MAAM,OAAO,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,aAAa,CAAC;QAC7E,OAAO,WAAW,IAAI,kBAAkB,QAAQ,QAAQ;IAC5D;IACA,MAAM,oBAAoB;QACtB,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,SAAS;QACpC,MAAM,MAAM,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,iBAAiB,CAAC,aAAa,CAAC;QAC9E,MAAM,YAAY,IAAI,GAAG,CAAC,CAAC,KAAO,GAAG,MAAM;QAC3C,MAAM,UAAU,MAAM,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,CAAC;QACvE,MAAM,cAAc,QAAQ,OAAO,CAAC,CAAC,IAAM;gBAAC,EAAE,IAAI;gBAAE,EAAE,IAAI;aAAC;QAC3D,MAAM,cAAc,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,uBAAuB,CAAC;QACzE,OAAO,IAAI,GAAG,CAAC,CAAC,IAAI;YAChB,MAAM,MAAM,IAAI,8WAAM,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE;YAC5D,IAAI,IAAI,GAAG,IAAI,kXAAQ,CAAC,KAAK,WAAW,CAAC,IAAI,EAAE,EAAE,kXAAQ,CAAC,uBAAuB,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,GAAG,6WAAS,CAAC,GAAG;YACzH,IAAI,IAAI,GAAG,IAAI,kXAAQ,CAAC,KAAK,WAAW,CAAC,IAAI,IAAI,EAAE,EAAE,kXAAQ,CAAC,uBAAuB,CAAC,WAAW,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,GAAG,6WAAS,CAAC,GAAG;YACjI,OAAO,IAAI,sXAAU,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI;QACxC;IACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5429, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/accounts/openOrders.js"],"sourcesContent":["import { PublicKey, } from '@solana/web3.js';\nimport { BN } from '@coral-xyz/anchor';\nimport { createAssociatedTokenAccountIdempotentInstruction } from '@solana/spl-token';\nimport { nameToString, I64_MAX_BN, PlaceOrderTypeUtils, SelfTradeBehaviorUtils, SideUtils, getAssociatedTokenAddress, EventType, OpenOrdersIndexer, Market, BookSide, } from '..';\nexport class OpenOrders {\n    pubkey;\n    account;\n    market;\n    delegate;\n    constructor(pubkey, account, market) {\n        this.pubkey = pubkey;\n        this.account = account;\n        this.market = market;\n    }\n    /// high-level API\n    static async load(pubkey, market, client) {\n        client ??= market?.client;\n        if (!client)\n            throw new Error('provide either market or client');\n        const account = await client.program.account.openOrdersAccount.fetch(pubkey);\n        if (!market) {\n            market = await Market.load(client, account.market);\n        }\n        return new OpenOrders(pubkey, account, market);\n    }\n    /**\n     * Try loading the OpenOrders account associated with a Market\n     * @param market\n     * @param owner optional if configured already on the Market's client\n     * @param indexer optional, pass in to speed up fetch\n     * @returns null if the user does not have an OpenOrders account for this market\n     */\n    static async loadNullableForMarketAndOwner(market, owner, indexer) {\n        indexer ??= await OpenOrdersIndexer.loadNullable(market.client, owner);\n        if (!indexer)\n            return null;\n        const ooPks = indexer.account.addresses;\n        const ooAccs = await market.client.program.account.openOrdersAccount.fetchMultiple(ooPks);\n        const ooIndex = ooAccs.findIndex((o) => o?.market.equals(market.pubkey));\n        if (ooIndex == -1)\n            return null;\n        const ooPk = ooPks[ooIndex];\n        const ooAcc = ooAccs[ooIndex];\n        // note: ooPk & ooAcc most certainly will always be defined here, due to the index check\n        return ooPk && ooAcc && new OpenOrders(ooPk, ooAcc, market);\n    }\n    async reload() {\n        // Need to reload orderbooks because not all information about orders, like\n        // size, is stored on the open orders account. Do all fetches together to\n        // ensure they are synced to the same slot.\n        const [bidsAi, asksAi, ooAi] = await this.market.client.connection.getMultipleAccountsInfo([\n            this.market.account.bids,\n            this.market.account.asks,\n            this.pubkey,\n        ]);\n        this.market.bids = new BookSide(this.market, this.market.account.bids, BookSide.decodeAccountfromBuffer(bidsAi.data), SideUtils.Bid);\n        this.market.asks = new BookSide(this.market, this.market.account.asks, BookSide.decodeAccountfromBuffer(asksAi.data), SideUtils.Ask);\n        this.account = this.market.client.program.coder.accounts.decode('openOrdersAccount', ooAi.data);\n        return this;\n    }\n    getBalanceNative() {\n        const { asksBaseLots, bidsQuoteLots, baseFreeNative, quoteFreeNative, lockedMakerFees, } = this.account.position;\n        const { baseLotSize, quoteLotSize } = this.market.account;\n        // TODO count in lots to save compute\n        const base = asksBaseLots.mul(baseLotSize).iadd(baseFreeNative);\n        const quote = bidsQuoteLots\n            .mul(quoteLotSize)\n            .iadd(quoteFreeNative)\n            .iadd(lockedMakerFees);\n        if (this.market.eventHeap) {\n            for (const event of this.market.eventHeap.parsedEvents()) {\n                switch (event.eventType) {\n                    case EventType.Fill: {\n                        const { maker, quantity, price, takerSide } = event;\n                        if (maker.equals(this.account.owner)) {\n                            const baseNative = quantity.mul(baseLotSize);\n                            const quoteNative = quantity.mul(price).imul(quoteLotSize);\n                            const quoteFeesNative = this.market.makerFeeFloor(quoteNative);\n                            if (takerSide === 1) {\n                                // buy\n                                base.iadd(baseNative);\n                                quote.isub(quoteNative.iadd(quoteFeesNative));\n                            }\n                            else {\n                                // sell\n                                base.isub(baseNative);\n                                quote.iadd(quoteNative.isub(quoteFeesNative));\n                            }\n                        }\n                        continue;\n                    }\n                    case EventType.Out: {\n                        // out events don't change balances\n                        continue;\n                    }\n                }\n            }\n        }\n        return [base, quote];\n    }\n    setDelegate(delegate) {\n        this.delegate = delegate;\n        return this;\n    }\n    async placeOrder(order) {\n        // derive token account\n        const mint = order.side.bid\n            ? this.market.account.quoteMint\n            : this.market.account.baseMint;\n        const userTokenAccount = await getAssociatedTokenAddress(mint, this.market.client.walletPk);\n        // TODO: derive wrap sol instruction\n        const remainingAccounts = new Set();\n        const bookSide = order.side.bid ? this.market.asks : this.market.bids;\n        if (bookSide &&\n            !order.orderType?.postOnly &&\n            !order.orderType?.postOnlySlide) {\n            for (const order of bookSide.items()) {\n                remainingAccounts.add(order.leafNode.owner.toBase58());\n                if (remainingAccounts.size >= 3)\n                    break;\n            }\n        }\n        const [placeIx] = await this.placeOrderIx(order, userTokenAccount, [...remainingAccounts].map((a) => new PublicKey(a)));\n        const additionalSigners = this.delegate ? [this.delegate] : [];\n        return this.market.client.sendAndConfirmTransaction([placeIx], {\n            additionalSigners,\n        });\n    }\n    async cancelOrder(order) {\n        const ixs = [];\n        if ('clientOrderId' in order) {\n            const id = new BN(order.clientOrderId);\n            const [ix] = await this.cancelOrderByClientIdIx(id);\n            ixs.push(ix);\n        }\n        else {\n            const id = order.leafNode.key;\n            const [ix] = await this.cancelOrderByIdIx(id);\n            ixs.push(ix);\n        }\n        const additionalSigners = this.delegate ? [this.delegate] : [];\n        return this.market.client.sendAndConfirmTransaction(ixs, {\n            additionalSigners,\n        });\n    }\n    async cancelAllOrders(side) {\n        const [cancelIx] = await this.cancelAllOrdersIx(side);\n        const { baseMint, quoteMint } = this.market.account;\n        const owner = this.market.client.walletPk;\n        const payer = this.delegate?.publicKey ?? owner;\n        const ataIxs = [];\n        const baseATA = await getAssociatedTokenAddress(baseMint, owner);\n        ataIxs.push(createAssociatedTokenAccountIdempotentInstruction(payer, baseATA, owner, baseMint));\n        const quoteATA = await getAssociatedTokenAddress(quoteMint, owner);\n        ataIxs.push(createAssociatedTokenAccountIdempotentInstruction(payer, quoteATA, owner, quoteMint));\n        const referrer = this.market.client.referrerWallet;\n        let referrerATA = null;\n        if (referrer) {\n            referrerATA = await getAssociatedTokenAddress(quoteMint, referrer);\n            ataIxs.push(createAssociatedTokenAccountIdempotentInstruction(payer, referrerATA, referrer, quoteMint));\n        }\n        const [settleIx] = await this.settleFundsIx(baseATA, quoteATA, referrerATA, payer);\n        // TODO: derive unwrap sol instruction\n        const additionalSigners = this.delegate ? [this.delegate] : [];\n        return this.market.client.sendAndConfirmTransaction([cancelIx, ...ataIxs, settleIx], { additionalSigners });\n    }\n    *items() {\n        const { bids, asks } = this.market;\n        if (!bids || !asks)\n            throw new Error('requires OrderBook of Market to be loaded');\n        for (const slot of this.account.openOrders) {\n            if (slot.isFree)\n                continue;\n            let gen;\n            switch (slot.sideAndTree) {\n                case 0:\n                    gen = bids.fixedItems();\n                    break;\n                case 1:\n                    gen = asks.fixedItems();\n                    break;\n                case 2:\n                    gen = bids.oraclePeggedItems();\n                    break;\n                case 3:\n                    gen = asks.oraclePeggedItems();\n                    break;\n            }\n            inner: for (const order of gen) {\n                if (order.leafNode.key.eq(slot.id)) {\n                    yield order;\n                    break inner;\n                }\n            }\n        }\n    }\n    toPrettyString() {\n        const oo = this.account;\n        let debug = `OO: ${this.pubkey.toBase58()}\\n`;\n        debug += ` owner: ${oo.owner.toBase58()}\\n`;\n        debug += ` market: ${oo.market.toBase58()} (${nameToString(this.market.account.name)})\\n`;\n        if (!oo.delegate.key.equals(PublicKey.default))\n            debug += ` delegate: ${oo.delegate.key.toBase58()}\\n`;\n        debug += ` accountNum: ${oo.accountNum}\\n`;\n        debug += ` version: ${oo.version}\\n`;\n        debug += ` bidsBaseLots: ${oo.position.bidsBaseLots.toString()}\\n`;\n        debug += ` bidsQuoteLots: ${oo.position.bidsQuoteLots.toString()}\\n`;\n        debug += ` asksBaseLots: ${oo.position.asksBaseLots.toString()}\\n`;\n        debug += ` baseFreeNative: ${oo.position.baseFreeNative.toString()}\\n`;\n        debug += ` quoteFreeNative: ${oo.position.quoteFreeNative.toString()}\\n`;\n        debug += ` lockedMakerFees: ${oo.position.lockedMakerFees.toString()}\\n`;\n        debug += ` referrerRebatesAvailable: ${oo.position.referrerRebatesAvailable.toString()}\\n`;\n        debug += ` penaltyHeapCount: ${oo.position.penaltyHeapCount.toString()}\\n`;\n        debug += ` makerVolume: ${oo.position.makerVolume.toString()}\\n`;\n        debug += ` takerVolume: ${oo.position.takerVolume.toString()}\\n`;\n        debug += ` orders:\\n`;\n        for (const order of this.items()) {\n            debug += `  ${order.toPrettyString()}\\n`;\n        }\n        if (this.market.eventHeap) {\n            debug += ` events:\\n`;\n            for (const event of this.market.eventHeap.parsedEvents()) {\n                switch (event.eventType) {\n                    case EventType.Fill: {\n                        const { maker, quantity, price, takerSide } = event;\n                        if (maker.equals(this.pubkey)) {\n                            const fillBase = this.market.baseLotsToUi(quantity);\n                            const fillPrice = this.market.priceLotsToUi(price);\n                            debug += `  fill side=${takerSide === 1 ? 'Bid' : 'Ask'} qty=${fillBase} price=${fillPrice}\\n`;\n                        }\n                        continue;\n                    }\n                    case EventType.Out: {\n                        const { owner } = event;\n                        if (owner.equals(this.pubkey))\n                            debug += `  out ${JSON.stringify(event)}\\n`;\n                        continue;\n                    }\n                }\n            }\n            debug += ` balance:\\n`;\n            const [base, quote] = this.getBalanceNative();\n            debug += `  base: ${this.market.baseNativeToUi(base)}\\n`;\n            debug += `  quote: ${this.market.quoteNativeToUi(quote)}\\n`;\n        }\n        return debug;\n    }\n    getBaseBalanceNative() {\n        return this.account.position.asksBaseLots\n            .mul(this.market.account.baseLotSize)\n            .iadd(this.account.position.baseFreeNative);\n    }\n    getQuoteBalanceNative() {\n        return this.account.position.bidsQuoteLots\n            .mul(this.market.account.quoteLotSize)\n            .iadd(this.account.position.quoteFreeNative)\n            .iadd(this.account.position.lockedMakerFees);\n    }\n    getBaseBalanceUi() {\n        return (Number(this.getBaseBalanceNative().toString()) /\n            10 ** this.market.account.baseDecimals);\n    }\n    getQuoteBalanceUi() {\n        return (Number(this.getQuoteBalanceNative().toString()) /\n            10 ** this.market.account.quoteDecimals);\n    }\n    /// low-level API\n    async placeOrderIx(order, userTokenAccount, remainingAccounts = []) {\n        const priceLots = this.market.priceUiToLots(order.price);\n        const maxBaseLots = this.market.baseUiToLots(order.size);\n        const maxQuoteLotsIncludingFees = order.quoteLimit\n            ? new BN(order.quoteLimit)\n            : I64_MAX_BN;\n        const clientOrderId = new BN(order.clientOrderId || Date.now());\n        const orderType = order.orderType ?? PlaceOrderTypeUtils.Limit;\n        const expiryTimestamp = new BN(order.expiryTimestamp ?? 0);\n        const selfTradeBehavior = order.selfTradeBehavior ?? SelfTradeBehaviorUtils.DecrementTake;\n        const limit = order.matchLoopLimit ?? 16;\n        const args = {\n            side: order.side,\n            priceLots,\n            maxBaseLots,\n            maxQuoteLotsIncludingFees,\n            clientOrderId,\n            orderType,\n            expiryTimestamp,\n            selfTradeBehavior,\n            limit,\n        };\n        return await this.market.client.placeOrderIx(this.pubkey, this.market.pubkey, this.market.account, userTokenAccount, args, remainingAccounts, this.delegate);\n    }\n    async cancelAllOrdersIx(side) {\n        return this.market.client.cancelAllOrdersIx(this.pubkey, this.account, this.market.account, 24, side, this.delegate);\n    }\n    async cancelOrderByIdIx(id) {\n        return this.market.client.cancelOrderByIdIx(this.pubkey, this.account, this.market.account, id, this.delegate);\n    }\n    async cancelOrderByClientIdIx(id) {\n        return this.market.client.cancelOrderByClientIdIx(this.pubkey, this.account, this.market.account, id, this.delegate);\n    }\n    async settleFundsIx(userBaseAccount, userQuoteAccount, referrerAccount, penaltyPayer) {\n        return this.market.client.settleFundsIx(this.pubkey, this.account, this.market.pubkey, this.market.account, userBaseAccount, userQuoteAccount, referrerAccount, penaltyPayer, this.delegate);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5746, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/market.js"],"sourcesContent":["import { PublicKey, } from '@solana/web3.js';\nimport { OPENBOOK_PROGRAM_ID, getFilteredProgramAccounts, } from './client';\nimport { utils, Program, getProvider, BN, } from '@coral-xyz/anchor';\nimport { toNative, toUiDecimals } from './utils/utils';\nimport Big from 'big.js';\nimport { IDL } from './openbook_v2';\nconst BATCH_TX_SIZE = 50;\nexport async function findAccountsByMints(connection, baseMintAddress, quoteMintAddress, programId) {\n    const filters = [\n        {\n            memcmp: {\n                offset: 792,\n                bytes: baseMintAddress.toBase58(),\n            },\n        },\n        {\n            memcmp: {\n                offset: 824,\n                bytes: quoteMintAddress.toBase58(),\n            },\n        },\n    ];\n    return await getFilteredProgramAccounts(connection, programId, filters);\n}\nexport async function findAllMarkets(connection, programId = OPENBOOK_PROGRAM_ID, provider) {\n    if (provider == null) {\n        provider = getProvider();\n    }\n    const program = new Program(IDL, programId, provider);\n    const [eventAuthority] = PublicKey.findProgramAddressSync([Buffer.from('__event_authority')], programId);\n    const marketsAll = [];\n    const signatures = (await connection.getSignaturesForAddress(eventAuthority)).map((x) => x.signature);\n    const batchSignatures = [[]];\n    for (let i = 0; i < signatures.length; i += BATCH_TX_SIZE) {\n        batchSignatures.push(signatures.slice(0, BATCH_TX_SIZE));\n    }\n    for (const batch of batchSignatures) {\n        const allTxs = await connection.getTransactions(batch, {\n            commitment: 'confirmed',\n            maxSupportedTransactionVersion: 0,\n        });\n        for (const tx of allTxs) {\n            if (tx?.meta?.innerInstructions !== null &&\n                tx?.meta?.innerInstructions !== undefined) {\n                for (const innerIns of tx.meta.innerInstructions) {\n                    const innerIx = innerIns.instructions?.[11];\n                    if (innerIx?.accounts?.[0] !== undefined) {\n                        // validate key and program key\n                        const eventAuthorityKey = innerIx.accounts[0];\n                        const programKey = innerIx.programIdIndex;\n                        if (tx.transaction.message.staticAccountKeys[eventAuthorityKey].toString() !== eventAuthority.toString() ||\n                            tx.transaction.message.staticAccountKeys[programKey].toString() !== programId.toString()) {\n                            continue;\n                        }\n                        else {\n                            const ixData = utils.bytes.bs58.decode(innerIx.data);\n                            const eventData = utils.bytes.base64.encode(ixData.slice(8));\n                            const event = program.coder.events.decode(eventData);\n                            if (event != null) {\n                                const market = {\n                                    market: event.data.market.toString(),\n                                    baseMint: event.data.baseMint.toString(),\n                                    quoteMint: event.data.quoteMint.toString(),\n                                    name: event.data.name,\n                                    timestamp: tx.blockTime,\n                                };\n                                marketsAll.push(market);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return marketsAll;\n}\nfunction priceLotsToUiConverter(market) {\n    return new Big(10)\n        .pow(market.baseDecimals - market.quoteDecimals)\n        .mul(new Big(market.quoteLotSize.toString()))\n        .div(new Big(market.baseLotSize.toString()))\n        .toNumber();\n}\nfunction baseLotsToUiConverter(market) {\n    return new Big(market.baseLotSize.toString())\n        .div(new Big(10).pow(market.baseDecimals))\n        .toNumber();\n}\nfunction quoteLotsToUiConverter(market) {\n    return new Big(market.quoteLotSize.toString())\n        .div(new Big(10).pow(market.quoteDecimals))\n        .toNumber();\n}\nexport function uiPriceToLots(market, price) {\n    return toNative(price, market.quoteDecimals)\n        .mul(market.baseLotSize)\n        .div(market.quoteLotSize.mul(new BN(Math.pow(10, market.baseDecimals))));\n}\nexport function uiBaseToLots(market, quantity) {\n    return toNative(quantity, market.baseDecimals).div(market.baseLotSize);\n}\nexport function uiQuoteToLots(market, uiQuote) {\n    return toNative(uiQuote, market.quoteDecimals).div(market.quoteLotSize);\n}\nexport function priceLotsToNative(market, price) {\n    return price.mul(market.quoteLotSize).div(market.baseLotSize);\n}\nexport function priceLotsToUi(market, price) {\n    return parseFloat(price.toString()) * priceLotsToUiConverter(market);\n}\nexport function priceNativeToUi(market, price) {\n    return toUiDecimals(price, market.quoteDecimals - market.baseDecimals);\n}\nexport function baseLotsToUi(market, quantity) {\n    return parseFloat(quantity.toString()) * baseLotsToUiConverter(market);\n}\nexport function quoteLotsToUi(market, quantity) {\n    return parseFloat(quantity.toString()) * quoteLotsToUiConverter(market);\n}\nexport function quantityToUiBase(market, quantity, decimals) {\n    return toUiDecimals(quantity.mul(market.baseLotSize).toNumber(), decimals);\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5897, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40openbook-dex%2Bopenbook-v2%400.2.10_fastestsmallesttextencoderdecoder%401.0.22_typescript%405.9.3/node_modules/%40openbook-dex/openbook-v2/dist/esm/utils/watcher.js"],"sourcesContent":["import { BookSide } from '..';\nexport class Watcher {\n    connection;\n    accountSubs = {};\n    constructor(connection) {\n        this.connection = connection;\n    }\n    addMarket(market, includeBook = true, includeEvents = true) {\n        const { client, asks, bids, eventHeap, pubkey } = market;\n        this.accountSubs[pubkey.toBase58()] = this.connection.onAccountChange(pubkey, (ai) => {\n            market.account = client.program.coder.accounts.decode('market', ai.data);\n        });\n        if (includeBook && asks) {\n            this.addBookSide(asks);\n        }\n        if (includeBook && bids) {\n            this.addBookSide(bids);\n        }\n        if (includeEvents && eventHeap) {\n            this.addEventHeap(eventHeap);\n        }\n        return this;\n    }\n    addBookSide(bookSide) {\n        const { pubkey } = bookSide;\n        this.accountSubs[pubkey.toBase58()] = this.connection.onAccountChange(pubkey, (ai) => {\n            bookSide.account = BookSide.decodeAccountfromBuffer(ai.data);\n        });\n        return this;\n    }\n    addEventHeap(eventHeap) {\n        const { market, pubkey } = eventHeap;\n        this.accountSubs[pubkey.toBase58()] = this.connection.onAccountChange(pubkey, (ai) => {\n            eventHeap.account = market.client.program.coder.accounts.decode('eventHeap', ai.data);\n        });\n        return this;\n    }\n    addOpenOrders(openOrders) {\n        const { market, pubkey } = openOrders;\n        this.accountSubs[pubkey.toBase58()] = this.connection.onAccountChange(pubkey, (ai) => {\n            openOrders.account = market.client.program.coder.accounts.decode('OpenOrders', ai.data);\n        });\n        return this;\n    }\n    clear() {\n        for (const [_pk, sub] of Object.entries(this.accountSubs)) {\n            this.connection.removeAccountChangeListener(sub);\n        }\n        return this;\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM;IACT,WAAW;IACX,cAAc,CAAC,EAAE;IACjB,YAAY,UAAU,CAAE;QACpB,IAAI,CAAC,UAAU,GAAG;IACtB;IACA,UAAU,MAAM,EAAE,cAAc,IAAI,EAAE,gBAAgB,IAAI,EAAE;QACxD,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG;QAClD,IAAI,CAAC,WAAW,CAAC,OAAO,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC;YAC3E,OAAO,OAAO,GAAG,OAAO,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,GAAG,IAAI;QAC3E;QACA,IAAI,eAAe,MAAM;YACrB,IAAI,CAAC,WAAW,CAAC;QACrB;QACA,IAAI,eAAe,MAAM;YACrB,IAAI,CAAC,WAAW,CAAC;QACrB;QACA,IAAI,iBAAiB,WAAW;YAC5B,IAAI,CAAC,YAAY,CAAC;QACtB;QACA,OAAO,IAAI;IACf;IACA,YAAY,QAAQ,EAAE;QAClB,MAAM,EAAE,MAAM,EAAE,GAAG;QACnB,IAAI,CAAC,WAAW,CAAC,OAAO,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC;YAC3E,SAAS,OAAO,GAAG,kXAAQ,CAAC,uBAAuB,CAAC,GAAG,IAAI;QAC/D;QACA,OAAO,IAAI;IACf;IACA,aAAa,SAAS,EAAE;QACpB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;QAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC;YAC3E,UAAU,OAAO,GAAG,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI;QACxF;QACA,OAAO,IAAI;IACf;IACA,cAAc,UAAU,EAAE;QACtB,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG;QAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,QAAQ,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,QAAQ,CAAC;YAC3E,WAAW,OAAO,GAAG,OAAO,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,GAAG,IAAI;QAC1F;QACA,OAAO,IAAI;IACf;IACA,QAAQ;QACJ,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,OAAO,OAAO,CAAC,IAAI,CAAC,WAAW,EAAG;YACvD,IAAI,CAAC,UAAU,CAAC,2BAA2B,CAAC;QAChD;QACA,OAAO,IAAI;IACf;AACJ","ignoreList":[0]}}]
}