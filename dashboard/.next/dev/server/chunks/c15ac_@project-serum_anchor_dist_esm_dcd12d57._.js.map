{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/common.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/common.ts"],"sourcesContent":["/**\n * Returns true if being run inside a web browser,\n * false if in a Node process or electron app.\n */\nexport const isBrowser =\n  typeof window !== \"undefined\" && !window.process?.hasOwnProperty(\"type\");\n"],"names":[],"mappings":";;;;;AAIO,MAAM,SAAS,GACpB,OAAO,MAAM,qCAAK,WAAW,IAAI,CAAA,CAAA,CAAA,KAAC,MAAM,CAAC,OAAO,MAAA,QAAA,OAAA,KAAA,IAAA,KAAA,IAAA,GAAE,cAAc,CAAC,MAAM,CAAA,CAAC,CAAC"}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/provider.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/provider.ts"],"sourcesContent":["import {\n  Connection,\n  Keypair,\n  Signer,\n  PublicKey,\n  Transaction,\n  TransactionSignature,\n  ConfirmOptions,\n  sendAndConfirmRawTransaction,\n  RpcResponseAndContext,\n  SimulatedTransactionResponse,\n  Commitment,\n} from \"@solana/web3.js\";\nimport { isBrowser } from \"./utils/common\";\n\n/**\n * The network and wallet context used to send transactions paid for and signed\n * by the provider.\n */\nexport default class Provider {\n  /**\n   * @param connection The cluster connection where the program is deployed.\n   * @param wallet     The wallet used to pay for and sign all transactions.\n   * @param opts       Transaction confirmation options to use by default.\n   */\n  constructor(\n    readonly connection: Connection,\n    readonly wallet: Wallet,\n    readonly opts: ConfirmOptions\n  ) {}\n\n  static defaultOptions(): ConfirmOptions {\n    return {\n      preflightCommitment: \"recent\",\n      commitment: \"recent\",\n    };\n  }\n\n  /**\n   * Returns a `Provider` with a wallet read from the local filesystem.\n   *\n   * @param url  The network cluster url.\n   * @param opts The default transaction confirmation options.\n   *\n   * (This api is for Node only.)\n   */\n  static local(url?: string, opts?: ConfirmOptions): Provider {\n    opts = opts ?? Provider.defaultOptions();\n    const connection = new Connection(\n      url ?? \"http://localhost:8899\",\n      opts.preflightCommitment\n    );\n    const wallet = NodeWallet.local();\n    return new Provider(connection, wallet, opts);\n  }\n\n  /**\n   * Returns a `Provider` read from the `ANCHOR_PROVIDER_URL` environment\n   * variable\n   *\n   * (This api is for Node only.)\n   */\n  static env(): Provider {\n    if (isBrowser) return;\n\n    const process = require(\"process\");\n    const url = process.env.ANCHOR_PROVIDER_URL;\n    if (url === undefined) {\n      throw new Error(\"ANCHOR_PROVIDER_URL is not defined\");\n    }\n    const options = Provider.defaultOptions();\n    const connection = new Connection(url, options.commitment);\n    const wallet = NodeWallet.local();\n\n    return new Provider(connection, wallet, options);\n  }\n\n  /**\n   * Sends the given transaction, paid for and signed by the provider's wallet.\n   *\n   * @param tx      The transaction to send.\n   * @param signers The set of signers in addition to the provdier wallet that\n   *                will sign the transaction.\n   * @param opts    Transaction confirmation options.\n   */\n  async send(\n    tx: Transaction,\n    signers?: Array<Signer | undefined>,\n    opts?: ConfirmOptions\n  ): Promise<TransactionSignature> {\n    if (signers === undefined) {\n      signers = [];\n    }\n    if (opts === undefined) {\n      opts = this.opts;\n    }\n\n    tx.feePayer = this.wallet.publicKey;\n    tx.recentBlockhash = (\n      await this.connection.getRecentBlockhash(opts.preflightCommitment)\n    ).blockhash;\n\n    await this.wallet.signTransaction(tx);\n    signers\n      .filter((s) => s !== undefined)\n      .forEach((kp) => {\n        tx.partialSign(kp);\n      });\n\n    const rawTx = tx.serialize();\n\n    const txId = await sendAndConfirmRawTransaction(\n      this.connection,\n      rawTx,\n      opts\n    );\n\n    return txId;\n  }\n\n  /**\n   * Similar to `send`, but for an array of transactions and signers.\n   */\n  async sendAll(\n    reqs: Array<SendTxRequest>,\n    opts?: ConfirmOptions\n  ): Promise<Array<TransactionSignature>> {\n    if (opts === undefined) {\n      opts = this.opts;\n    }\n    const blockhash = await this.connection.getRecentBlockhash(\n      opts.preflightCommitment\n    );\n\n    let txs = reqs.map((r) => {\n      let tx = r.tx;\n      let signers = r.signers;\n\n      if (signers === undefined) {\n        signers = [];\n      }\n\n      tx.feePayer = this.wallet.publicKey;\n      tx.recentBlockhash = blockhash.blockhash;\n\n      signers\n        .filter((s) => s !== undefined)\n        .forEach((kp) => {\n          tx.partialSign(kp);\n        });\n\n      return tx;\n    });\n\n    const signedTxs = await this.wallet.signAllTransactions(txs);\n\n    const sigs = [];\n\n    for (let k = 0; k < txs.length; k += 1) {\n      const tx = signedTxs[k];\n      const rawTx = tx.serialize();\n      sigs.push(\n        await sendAndConfirmRawTransaction(this.connection, rawTx, opts)\n      );\n    }\n\n    return sigs;\n  }\n\n  /**\n   * Simulates the given transaction, returning emitted logs from execution.\n   *\n   * @param tx      The transaction to send.\n   * @param signers The set of signers in addition to the provdier wallet that\n   *                will sign the transaction.\n   * @param opts    Transaction confirmation options.\n   */\n  async simulate(\n    tx: Transaction,\n    signers?: Array<Signer | undefined>,\n    opts?: ConfirmOptions\n  ): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n    if (signers === undefined) {\n      signers = [];\n    }\n    if (opts === undefined) {\n      opts = this.opts;\n    }\n\n    tx.feePayer = this.wallet.publicKey;\n    tx.recentBlockhash = (\n      await this.connection.getRecentBlockhash(\n        opts.preflightCommitment ?? this.opts.preflightCommitment\n      )\n    ).blockhash;\n\n    await this.wallet.signTransaction(tx);\n    signers\n      .filter((s) => s !== undefined)\n      .forEach((kp) => {\n        tx.partialSign(kp);\n      });\n\n    return await simulateTransaction(\n      this.connection,\n      tx,\n      opts.commitment ?? this.opts.commitment\n    );\n  }\n}\n\nexport type SendTxRequest = {\n  tx: Transaction;\n  signers: Array<Signer | undefined>;\n};\n\n/**\n * Wallet interface for objects that can be used to sign provider transactions.\n */\nexport interface Wallet {\n  signTransaction(tx: Transaction): Promise<Transaction>;\n  signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;\n  publicKey: PublicKey;\n}\n\n/**\n * Node only wallet.\n */\nexport class NodeWallet implements Wallet {\n  constructor(readonly payer: Keypair) {}\n\n  static local(): NodeWallet {\n    const payer = Keypair.fromSecretKey(\n      Buffer.from(\n        JSON.parse(\n          require(\"fs\").readFileSync(\n            require(\"os\").homedir() + \"/.config/solana/id.json\",\n            {\n              encoding: \"utf-8\",\n            }\n          )\n        )\n      )\n    );\n    return new NodeWallet(payer);\n  }\n\n  async signTransaction(tx: Transaction): Promise<Transaction> {\n    tx.partialSign(this.payer);\n    return tx;\n  }\n\n  async signAllTransactions(txs: Transaction[]): Promise<Transaction[]> {\n    return txs.map((t) => {\n      t.partialSign(this.payer);\n      return t;\n    });\n  }\n\n  get publicKey(): PublicKey {\n    return this.payer.publicKey;\n  }\n}\n\n// Copy of Connection.simulateTransaction that takes a commitment parameter.\nasync function simulateTransaction(\n  connection: Connection,\n  transaction: Transaction,\n  commitment: Commitment\n): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {\n  // @ts-ignore\n  transaction.recentBlockhash = await connection._recentBlockhash(\n    // @ts-ignore\n    connection._disableBlockhashCaching\n  );\n\n  const signData = transaction.serializeMessage();\n  // @ts-ignore\n  const wireTransaction = transaction._serialize(signData);\n  const encodedTransaction = wireTransaction.toString(\"base64\");\n  const config: any = { encoding: \"base64\", commitment };\n  const args = [encodedTransaction, config];\n\n  // @ts-ignore\n  const res = await connection._rpcRequest(\"simulateTransaction\", args);\n  if (res.error) {\n    throw new Error(\"failed to simulate transaction: \" + res.error.message);\n  }\n  return res.result;\n}\n\n/**\n * Sets the default provider on the client.\n */\nexport function setProvider(provider: Provider) {\n  _provider = provider;\n}\n\n/**\n * Returns the default provider being used by the client.\n */\nexport function getProvider(): Provider {\n  if (_provider === null) {\n    return Provider.local();\n  }\n  return _provider;\n}\n\n// Global provider used as the default when a provider is not given.\nlet _provider: Provider | null = null;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/error.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/error.ts"],"sourcesContent":["export class IdlError extends Error {}\n\n// An error from a user defined program.\nexport class ProgramError extends Error {\n  constructor(readonly code: number, readonly msg: string, ...params: any[]) {\n    super(...params);\n  }\n\n  public static parse(\n    err: any,\n    idlErrors: Map<number, string>\n  ): ProgramError | null {\n    // TODO: don't rely on the error string. web3.js should preserve the error\n    //       code information instead of giving us an untyped string.\n    let components = err.toString().split(\"custom program error: \");\n    if (components.length !== 2) {\n      return null;\n    }\n\n    let errorCode: number;\n    try {\n      errorCode = parseInt(components[1]);\n    } catch (parseErr) {\n      return null;\n    }\n\n    // Parse user error.\n    let errorMsg = idlErrors.get(errorCode);\n    if (errorMsg !== undefined) {\n      return new ProgramError(errorCode, errorMsg);\n    }\n\n    // Parse framework internal error.\n    errorMsg = LangErrorMessage.get(errorCode);\n    if (errorMsg !== undefined) {\n      return new ProgramError(errorCode, errorMsg);\n    }\n\n    // Unable to parse the error. Just return the untranslated error.\n    return null;\n  }\n\n  public toString(): string {\n    return this.msg;\n  }\n}\n\nconst LangErrorCode = {\n  // Instructions.\n  InstructionMissing: 100,\n  InstructionFallbackNotFound: 101,\n  InstructionDidNotDeserialize: 102,\n  InstructionDidNotSerialize: 103,\n\n  // IDL instructions.\n  IdlInstructionStub: 120,\n  IdlInstructionInvalidProgram: 121,\n\n  // Constraints.\n  ConstraintMut: 140,\n  ConstraintHasOne: 141,\n  ConstraintSigner: 142,\n  ConstraintRaw: 143,\n  ConstraintOwner: 144,\n  ConstraintRentExempt: 145,\n  ConstraintSeeds: 146,\n  ConstraintExecutable: 147,\n  ConstraintState: 148,\n  ConstraintAssociated: 149,\n  ConstraintAssociatedInit: 150,\n  ConstraintClose: 151,\n  ConstraintAddress: 152,\n\n  // Accounts.\n  AccountDiscriminatorAlreadySet: 160,\n  AccountDiscriminatorNotFound: 161,\n  AccountDiscriminatorMismatch: 162,\n  AccountDidNotDeserialize: 163,\n  AccountDidNotSerialize: 164,\n  AccountNotEnoughKeys: 165,\n  AccountNotMutable: 166,\n  AccountNotProgramOwned: 167,\n\n  // State.\n  StateInvalidAddress: 180,\n\n  // Used for APIs that shouldn't be used anymore.\n  Deprecated: 299,\n};\n\nconst LangErrorMessage = new Map([\n  // Instructions.\n  [\n    LangErrorCode.InstructionMissing,\n    \"8 byte instruction identifier not provided\",\n  ],\n  [\n    LangErrorCode.InstructionFallbackNotFound,\n    \"Fallback functions are not supported\",\n  ],\n  [\n    LangErrorCode.InstructionDidNotDeserialize,\n    \"The program could not deserialize the given instruction\",\n  ],\n  [\n    LangErrorCode.InstructionDidNotSerialize,\n    \"The program could not serialize the given instruction\",\n  ],\n\n  // Idl instructions.\n  [\n    LangErrorCode.IdlInstructionStub,\n    \"The program was compiled without idl instructions\",\n  ],\n  [\n    LangErrorCode.IdlInstructionInvalidProgram,\n    \"The transaction was given an invalid program for the IDL instruction\",\n  ],\n\n  // Constraints.\n  [LangErrorCode.ConstraintMut, \"A mut constraint was violated\"],\n  [LangErrorCode.ConstraintHasOne, \"A has_one constraint was violated\"],\n  [LangErrorCode.ConstraintSigner, \"A signer constraint was violated\"],\n  [LangErrorCode.ConstraintRaw, \"A raw constraint as violated\"],\n  [LangErrorCode.ConstraintOwner, \"An owner constraint was violated\"],\n  [LangErrorCode.ConstraintRentExempt, \"A rent exempt constraint was violated\"],\n  [LangErrorCode.ConstraintSeeds, \"A seeds constraint was violated\"],\n  [LangErrorCode.ConstraintExecutable, \"An executable constraint was violated\"],\n  [LangErrorCode.ConstraintState, \"A state constraint was violated\"],\n  [LangErrorCode.ConstraintAssociated, \"An associated constraint was violated\"],\n  [\n    LangErrorCode.ConstraintAssociatedInit,\n    \"An associated init constraint was violated\",\n  ],\n  [LangErrorCode.ConstraintClose, \"A close constraint was violated\"],\n  [LangErrorCode.ConstraintAddress, \"An address constraint was violated\"],\n\n  // Accounts.\n  [\n    LangErrorCode.AccountDiscriminatorAlreadySet,\n    \"The account discriminator was already set on this account\",\n  ],\n  [\n    LangErrorCode.AccountDiscriminatorNotFound,\n    \"No 8 byte discriminator was found on the account\",\n  ],\n  [\n    LangErrorCode.AccountDiscriminatorMismatch,\n    \"8 byte discriminator did not match what was expected\",\n  ],\n  [LangErrorCode.AccountDidNotDeserialize, \"Failed to deserialize the account\"],\n  [LangErrorCode.AccountDidNotSerialize, \"Failed to serialize the account\"],\n  [\n    LangErrorCode.AccountNotEnoughKeys,\n    \"Not enough account keys given to the instruction\",\n  ],\n  [LangErrorCode.AccountNotMutable, \"The given account is not mutable\"],\n  [\n    LangErrorCode.AccountNotProgramOwned,\n    \"The given account is not owned by the executing program\",\n  ],\n\n  // State.\n  [\n    LangErrorCode.StateInvalidAddress,\n    \"The given state account does not have the correct address\",\n  ],\n\n  // Misc.\n  [\n    LangErrorCode.Deprecated,\n    \"The API being used is deprecated and should no longer be used\",\n  ],\n]);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 423, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/idl.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/idl.ts"],"sourcesContent":["import camelCase from \"camelcase\";\nimport { Layout } from \"buffer-layout\";\nimport * as borsh from \"@project-serum/borsh\";\nimport { IdlField, IdlTypeDef, IdlEnumVariant, IdlType } from \"../idl\";\nimport { IdlError } from \"../error\";\n\nexport class IdlCoder {\n  public static fieldLayout(field: IdlField, types?: IdlTypeDef[]): Layout {\n    const fieldName =\n      field.name !== undefined ? camelCase(field.name) : undefined;\n    switch (field.type) {\n      case \"bool\": {\n        return borsh.bool(fieldName);\n      }\n      case \"u8\": {\n        return borsh.u8(fieldName);\n      }\n      case \"i8\": {\n        return borsh.i8(fieldName);\n      }\n      case \"u16\": {\n        return borsh.u16(fieldName);\n      }\n      case \"i16\": {\n        return borsh.i16(fieldName);\n      }\n      case \"u32\": {\n        return borsh.u32(fieldName);\n      }\n      case \"i32\": {\n        return borsh.i32(fieldName);\n      }\n      case \"u64\": {\n        return borsh.u64(fieldName);\n      }\n      case \"i64\": {\n        return borsh.i64(fieldName);\n      }\n      case \"u128\": {\n        return borsh.u128(fieldName);\n      }\n      case \"i128\": {\n        return borsh.i128(fieldName);\n      }\n      case \"bytes\": {\n        return borsh.vecU8(fieldName);\n      }\n      case \"string\": {\n        return borsh.str(fieldName);\n      }\n      case \"publicKey\": {\n        return borsh.publicKey(fieldName);\n      }\n      default: {\n        // @ts-ignore\n        if (field.type.vec) {\n          return borsh.vec(\n            IdlCoder.fieldLayout(\n              {\n                name: undefined,\n                // @ts-ignore\n                type: field.type.vec,\n              },\n              types\n            ),\n            fieldName\n          );\n          // @ts-ignore\n        } else if (field.type.option) {\n          return borsh.option(\n            IdlCoder.fieldLayout(\n              {\n                name: undefined,\n                // @ts-ignore\n                type: field.type.option,\n              },\n              types\n            ),\n            fieldName\n          );\n          // @ts-ignore\n        } else if (field.type.defined) {\n          // User defined type.\n          if (types === undefined) {\n            throw new IdlError(\"User defined types not provided\");\n          }\n          // @ts-ignore\n          const filtered = types.filter((t) => t.name === field.type.defined);\n          if (filtered.length !== 1) {\n            throw new IdlError(`Type not found: ${JSON.stringify(field)}`);\n          }\n          return IdlCoder.typeDefLayout(filtered[0], types, fieldName);\n          // @ts-ignore\n        } else if (field.type.array) {\n          // @ts-ignore\n          let arrayTy = field.type.array[0];\n          // @ts-ignore\n          let arrayLen = field.type.array[1];\n          let innerLayout = IdlCoder.fieldLayout(\n            {\n              name: undefined,\n              type: arrayTy,\n            },\n            types\n          );\n          return borsh.array(innerLayout, arrayLen, fieldName);\n        } else {\n          throw new Error(`Not yet implemented: ${field}`);\n        }\n      }\n    }\n  }\n\n  public static typeDefLayout(\n    typeDef: IdlTypeDef,\n    types: IdlTypeDef[],\n    name?: string\n  ): Layout {\n    if (typeDef.type.kind === \"struct\") {\n      const fieldLayouts = typeDef.type.fields.map((field) => {\n        const x = IdlCoder.fieldLayout(field, types);\n        return x;\n      });\n      return borsh.struct(fieldLayouts, name);\n    } else if (typeDef.type.kind === \"enum\") {\n      let variants = typeDef.type.variants.map((variant: IdlEnumVariant) => {\n        const name = camelCase(variant.name);\n        if (variant.fields === undefined) {\n          return borsh.struct([], name);\n        }\n        // @ts-ignore\n        const fieldLayouts = variant.fields.map((f: IdlField | IdlType) => {\n          // @ts-ignore\n          if (f.name === undefined) {\n            throw new Error(\"Tuple enum variants not yet implemented.\");\n          }\n          // @ts-ignore\n          return IdlCoder.fieldLayout(f, types);\n        });\n        return borsh.struct(fieldLayouts, name);\n      });\n\n      if (name !== undefined) {\n        // Buffer-layout lib requires the name to be null (on construction)\n        // when used as a field.\n        return borsh.rustEnum(variants).replicate(name);\n      }\n\n      return borsh.rustEnum(variants, name);\n    } else {\n      throw new Error(`Unknown type kint: ${typeDef}`);\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 577, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/common.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/common.ts"],"sourcesContent":["import { snakeCase } from \"snake-case\";\nimport { sha256 } from \"js-sha256\";\nimport { Idl, IdlField, IdlTypeDef, IdlEnumVariant, IdlType } from \"../idl\";\nimport { IdlError } from \"../error\";\n\nexport function accountSize(\n  idl: Idl,\n  idlAccount: IdlTypeDef\n): number | undefined {\n  if (idlAccount.type.kind === \"enum\") {\n    let variantSizes = idlAccount.type.variants.map(\n      (variant: IdlEnumVariant) => {\n        if (variant.fields === undefined) {\n          return 0;\n        }\n        return (\n          variant.fields\n            // @ts-ignore\n            .map((f: IdlField | IdlType) => {\n              // @ts-ignore\n              if (f.name === undefined) {\n                throw new Error(\"Tuple enum variants not yet implemented.\");\n              }\n              // @ts-ignore\n              return typeSize(idl, f.type);\n            })\n            .reduce((a: number, b: number) => a + b)\n        );\n      }\n    );\n    return Math.max(...variantSizes) + 1;\n  }\n  if (idlAccount.type.fields === undefined) {\n    return 0;\n  }\n  return idlAccount.type.fields\n    .map((f) => typeSize(idl, f.type))\n    .reduce((a, b) => a + b);\n}\n\n// Returns the size of the type in bytes. For variable length types, just return\n// 1. Users should override this value in such cases.\nfunction typeSize(idl: Idl, ty: IdlType): number {\n  switch (ty) {\n    case \"bool\":\n      return 1;\n    case \"u8\":\n      return 1;\n    case \"i8\":\n      return 1;\n    case \"i16\":\n      return 2;\n    case \"u16\":\n      return 2;\n    case \"u32\":\n      return 4;\n    case \"i32\":\n      return 4;\n    case \"u64\":\n      return 8;\n    case \"i64\":\n      return 8;\n    case \"u128\":\n      return 16;\n    case \"i128\":\n      return 16;\n    case \"bytes\":\n      return 1;\n    case \"string\":\n      return 1;\n    case \"publicKey\":\n      return 32;\n    default:\n      // @ts-ignore\n      if (ty.vec !== undefined) {\n        return 1;\n      }\n      // @ts-ignore\n      if (ty.option !== undefined) {\n        // @ts-ignore\n        return 1 + typeSize(idl, ty.option);\n      }\n      // @ts-ignore\n      if (ty.defined !== undefined) {\n        // @ts-ignore\n        const filtered = idl.types.filter((t) => t.name === ty.defined);\n        if (filtered.length !== 1) {\n          throw new IdlError(`Type not found: ${JSON.stringify(ty)}`);\n        }\n        let typeDef = filtered[0];\n\n        return accountSize(idl, typeDef);\n      }\n      // @ts-ignore\n      if (ty.array !== undefined) {\n        // @ts-ignore\n        let arrayTy = ty.array[0];\n        // @ts-ignore\n        let arraySize = ty.array[1];\n        // @ts-ignore\n        return typeSize(idl, arrayTy) * arraySize;\n      }\n      throw new Error(`Invalid type ${JSON.stringify(ty)}`);\n  }\n}\n\n// Not technically sighash, since we don't include the arguments, as Rust\n// doesn't allow function overloading.\nexport function sighash(nameSpace: string, ixName: string): Buffer {\n  let name = snakeCase(ixName);\n  let preimage = `${nameSpace}:${name}`;\n  return Buffer.from(sha256.digest(preimage)).slice(0, 8);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/instruction.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/instruction.ts"],"sourcesContent":["import camelCase from \"camelcase\";\nimport { Layout } from \"buffer-layout\";\nimport * as borsh from \"@project-serum/borsh\";\nimport * as bs58 from \"bs58\";\nimport {\n  Idl,\n  IdlField,\n  IdlStateMethod,\n  IdlType,\n  IdlTypeDef,\n  IdlAccount,\n  IdlAccountItem,\n} from \"../idl\";\nimport { IdlCoder } from \"./idl\";\nimport { sighash } from \"./common\";\nimport { AccountMeta, PublicKey } from \"@solana/web3.js\";\n\n/**\n * Namespace for state method function signatures.\n */\nexport const SIGHASH_STATE_NAMESPACE = \"state\";\n/**\n * Namespace for global instruction function signatures (i.e. functions\n * that aren't namespaced by the state or any of its trait implementations).\n */\nexport const SIGHASH_GLOBAL_NAMESPACE = \"global\";\n\n/**\n * Encodes and decodes program instructions.\n */\nexport class InstructionCoder {\n  // Instruction args layout. Maps namespaced method\n  private ixLayout: Map<string, Layout>;\n\n  // Base58 encoded sighash to instruction layout.\n  private sighashLayouts: Map<string, { layout: Layout; name: string }>;\n\n  public constructor(private idl: Idl) {\n    this.ixLayout = InstructionCoder.parseIxLayout(idl);\n\n    const sighashLayouts = new Map();\n    idl.instructions.forEach((ix) => {\n      const sh = sighash(SIGHASH_GLOBAL_NAMESPACE, ix.name);\n      sighashLayouts.set(bs58.encode(sh), {\n        layout: this.ixLayout.get(ix.name),\n        name: ix.name,\n      });\n    });\n\n    if (idl.state) {\n      idl.state.methods.map((ix) => {\n        const sh = sighash(SIGHASH_STATE_NAMESPACE, ix.name);\n        sighashLayouts.set(bs58.encode(sh), {\n          layout: this.ixLayout.get(ix.name) as Layout,\n          name: ix.name,\n        });\n      });\n    }\n\n    this.sighashLayouts = sighashLayouts;\n  }\n\n  /**\n   * Encodes a program instruction.\n   */\n  public encode(ixName: string, ix: any) {\n    return this._encode(SIGHASH_GLOBAL_NAMESPACE, ixName, ix);\n  }\n\n  /**\n   * Encodes a program state instruction.\n   */\n  public encodeState(ixName: string, ix: any) {\n    return this._encode(SIGHASH_STATE_NAMESPACE, ixName, ix);\n  }\n\n  private _encode(nameSpace: string, ixName: string, ix: any): Buffer {\n    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n    const methodName = camelCase(ixName);\n    const len = this.ixLayout.get(methodName).encode(ix, buffer);\n    const data = buffer.slice(0, len);\n    return Buffer.concat([sighash(nameSpace, ixName), data]);\n  }\n\n  private static parseIxLayout(idl: Idl): Map<string, Layout> {\n    const stateMethods = idl.state ? idl.state.methods : [];\n\n    const ixLayouts = stateMethods\n      .map((m: IdlStateMethod) => {\n        let fieldLayouts = m.args.map((arg: IdlField) => {\n          return IdlCoder.fieldLayout(arg, idl.types);\n        });\n        const name = camelCase(m.name);\n        return [name, borsh.struct(fieldLayouts, name)];\n      })\n      .concat(\n        idl.instructions.map((ix) => {\n          let fieldLayouts = ix.args.map((arg: IdlField) =>\n            IdlCoder.fieldLayout(arg, idl.types)\n          );\n          const name = camelCase(ix.name);\n          return [name, borsh.struct(fieldLayouts, name)];\n        })\n      );\n    // @ts-ignore\n    return new Map(ixLayouts);\n  }\n\n  /**\n   * Dewcodes a program instruction.\n   */\n  public decode(ix: Buffer | string): Instruction | null {\n    if (typeof ix === \"string\") {\n      ix = bs58.decode(ix);\n    }\n    let sighash = bs58.encode(ix.slice(0, 8));\n    let data = ix.slice(8);\n    const decoder = this.sighashLayouts.get(sighash);\n    if (!decoder) {\n      return null;\n    }\n    return {\n      data: decoder.layout.decode(data),\n      name: decoder.name,\n    };\n  }\n\n  /**\n   * Returns a formatted table of all the fields in the given instruction data.\n   */\n  public format(\n    ix: Instruction,\n    accountMetas: AccountMeta[]\n  ): InstructionDisplay | null {\n    return InstructionFormatter.format(ix, accountMetas, this.idl);\n  }\n}\n\nexport type Instruction = {\n  name: string;\n  data: Object;\n};\n\nexport type InstructionDisplay = {\n  args: { name: string; type: string; data: string }[];\n  accounts: {\n    name?: string;\n    pubkey: PublicKey;\n    isSigner: boolean;\n    isWritable: boolean;\n  }[];\n};\n\nclass InstructionFormatter {\n  public static format(\n    ix: Instruction,\n    accountMetas: AccountMeta[],\n    idl: Idl\n  ): InstructionDisplay | null {\n    const idlIx = idl.instructions.filter((i) => ix.name === i.name)[0];\n    if (idlIx === undefined) {\n      console.error(\"Invalid instruction given\");\n      return null;\n    }\n\n    const args = idlIx.args.map((idlField) => {\n      return {\n        name: idlField.name,\n        type: InstructionFormatter.formatIdlType(idlField.type),\n        data: InstructionFormatter.formatIdlData(\n          idlField,\n          ix.data[idlField.name],\n          idl.types\n        ),\n      };\n    });\n\n    const flatIdlAccounts = InstructionFormatter.flattenIdlAccounts(\n      idlIx.accounts\n    );\n\n    const accounts = accountMetas.map((meta, idx) => {\n      if (idx < flatIdlAccounts.length) {\n        return {\n          name: flatIdlAccounts[idx].name,\n          ...meta,\n        };\n      }\n      // \"Remaining accounts\" are unnamed in Anchor.\n      else {\n        return {\n          name: undefined,\n          ...meta,\n        };\n      }\n    });\n\n    return {\n      args,\n      accounts,\n    };\n  }\n\n  private static formatIdlType(idlType: IdlType): string {\n    if (typeof idlType === \"string\") {\n      return idlType as string;\n    }\n\n    // @ts-ignore\n    if (idlType.vec) {\n      // @ts-ignore\n      return `Vec<${this.formatIdlType(idlType.vec)}>`;\n    }\n    // @ts-ignore\n    if (idlType.option) {\n      // @ts-ignore\n      return `Option<${this.formatIdlType(idlType.option)}>`;\n    }\n    // @ts-ignore\n    if (idlType.defined) {\n      // @ts-ignore\n      return idlType.defined;\n    }\n  }\n\n  private static formatIdlData(\n    idlField: IdlField,\n    data: Object,\n    types?: IdlTypeDef[]\n  ): string {\n    if (typeof idlField.type === \"string\") {\n      return data.toString();\n    }\n    // @ts-ignore\n    if (idlField.type.vec) {\n      // @ts-ignore\n      return (\n        \"[\" +\n        data\n          // @ts-ignore\n          .map((d: IdlField) =>\n            this.formatIdlData(\n              // @ts-ignore\n              { name: \"\", type: idlField.type.vec },\n              d\n            )\n          )\n          .join(\", \") +\n        \"]\"\n      );\n    }\n    // @ts-ignore\n    if (idlField.type.option) {\n      // @ts-ignore\n      return data === null\n        ? \"null\"\n        : this.formatIdlData(\n            // @ts-ignore\n            { name: \"\", type: idlField.type.option },\n            data\n          );\n    }\n    // @ts-ignore\n    if (idlField.type.defined) {\n      if (types === undefined) {\n        throw new Error(\"User defined types not provided\");\n      }\n      // @ts-ignore\n      const filtered = types.filter((t) => t.name === idlField.type.defined);\n      if (filtered.length !== 1) {\n        // @ts-ignore\n        throw new Error(`Type not found: ${idlField.type.defined}`);\n      }\n      return InstructionFormatter.formatIdlDataDefined(\n        filtered[0],\n        data,\n        types\n      );\n    }\n\n    return \"unknown\";\n  }\n\n  private static formatIdlDataDefined(\n    typeDef: IdlTypeDef,\n    data: Object,\n    types: IdlTypeDef[]\n  ): string {\n    if (typeDef.type.kind === \"struct\") {\n      const fields = Object.keys(data)\n        .map((k) => {\n          const f = typeDef.type.fields.filter((f) => f.name === k)[0];\n          if (f === undefined) {\n            throw new Error(\"Unable to find type\");\n          }\n          return (\n            k + \": \" + InstructionFormatter.formatIdlData(f, data[k], types)\n          );\n        })\n        .join(\", \");\n      return \"{ \" + fields + \" }\";\n    } else {\n      if (typeDef.type.variants.length === 0) {\n        return \"{}\";\n      }\n      // Struct enum.\n      if (typeDef.type.variants[0].name) {\n        const variant = Object.keys(data)[0];\n        const enumType = data[variant];\n        const namedFields = Object.keys(enumType)\n          .map((f) => {\n            const fieldData = enumType[f];\n            const idlField = typeDef.type.variants[variant]?.filter(\n              (v: IdlField) => v.name === f\n            )[0];\n            if (idlField === undefined) {\n              throw new Error(\"Unable to find variant\");\n            }\n            return (\n              f +\n              \": \" +\n              InstructionFormatter.formatIdlData(idlField, fieldData, types)\n            );\n          })\n          .join(\", \");\n\n        const variantName = camelCase(variant, { pascalCase: true });\n        if (namedFields.length === 0) {\n          return variantName;\n        }\n        return `${variantName} { ${namedFields} }`;\n      }\n      // Tuple enum.\n      else {\n        // TODO.\n        return \"Tuple formatting not yet implemented\";\n      }\n    }\n  }\n\n  private static flattenIdlAccounts(\n    accounts: IdlAccountItem[],\n    prefix?: string\n  ): IdlAccount[] {\n    // @ts-ignore\n    return accounts\n      .map((account) => {\n        const accName = sentenceCase(account.name);\n        // @ts-ignore\n        if (account.accounts) {\n          const newPrefix = prefix ? `${prefix} > ${accName}` : accName;\n          // @ts-ignore\n          return InstructionFormatter.flattenIdlAccounts(\n            // @ts-ignore\n            account.accounts,\n            newPrefix\n          );\n        } else {\n          return {\n            ...account,\n            name: prefix ? `${prefix} > ${accName}` : accName,\n          };\n        }\n      })\n      .flat();\n  }\n}\n\nfunction sentenceCase(field: string): string {\n  const result = field.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/accounts.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/accounts.ts"],"sourcesContent":["import { Layout } from \"buffer-layout\";\nimport { Idl } from \"../idl\";\nimport { IdlCoder } from \"./idl\";\nimport { sha256 } from \"js-sha256\";\n\n/**\n * Number of bytes of the account discriminator.\n */\nexport const ACCOUNT_DISCRIMINATOR_SIZE = 8;\n\n/**\n * Encodes and decodes account objects.\n */\nexport class AccountsCoder {\n  /**\n   * Maps account type identifier to a layout.\n   */\n  private accountLayouts: Map<string, Layout>;\n\n  public constructor(idl: Idl) {\n    if (idl.accounts === undefined) {\n      this.accountLayouts = new Map();\n      return;\n    }\n    const layouts: [string, Layout][] = idl.accounts.map((acc) => {\n      return [acc.name, IdlCoder.typeDefLayout(acc, idl.types)];\n    });\n\n    this.accountLayouts = new Map(layouts);\n  }\n\n  public async encode<T = any>(\n    accountName: string,\n    account: T\n  ): Promise<Buffer> {\n    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n    const layout = this.accountLayouts.get(accountName);\n    const len = layout.encode(account, buffer);\n    let accountData = buffer.slice(0, len);\n    let discriminator = await accountDiscriminator(accountName);\n    return Buffer.concat([discriminator, accountData]);\n  }\n\n  public decode<T = any>(accountName: string, ix: Buffer): T {\n    // Chop off the discriminator before decoding.\n    const data = ix.slice(8);\n    const layout = this.accountLayouts.get(accountName);\n    return layout.decode(data);\n  }\n}\n\n// Calculates unique 8 byte discriminator prepended to all anchor accounts.\nexport async function accountDiscriminator(name: string): Promise<Buffer> {\n  return Buffer.from(sha256.digest(`account:${name}`)).slice(0, 8);\n}\n"],"names":[],"mappings":";;;;;;;;AAEA,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACjC,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;;;AAK5B,MAAM,0BAA0B,GAAG,CAAC,CAAC;AAKtC,MAAO,aAAa;IAMxB,YAAmB,GAAQ,CAAA;QACzB,IAAI,GAAG,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,EAAE,CAAC;YAChC,OAAO;SACR;QACD,MAAM,OAAO,GAAuB,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YAC3D,OAAO;gBAAC,GAAG,CAAC,IAAI;gBAAE,0SAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC;aAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,MAAM,CACjB,WAAmB,EACnB,OAAU,EAAA;QAEV,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACpD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAC3C,IAAI,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QACvC,IAAI,aAAa,GAAG,MAAM,oBAAoB,CAAC,WAAW,CAAC,CAAC;QAC5D,OAAO,MAAM,CAAC,MAAM,CAAC;YAAC,aAAa;YAAE,WAAW;SAAC,CAAC,CAAC;IACrD,CAAC;IAEM,MAAM,CAAU,WAAmB,EAAE,EAAU,EAAA;QACpD,8CAA8C;QAC9C,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzB,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACpD,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;CACF;AAGM,KAAK,UAAU,oBAAoB,CAAC,IAAY;IACrD,OAAO,MAAM,CAAC,IAAI,CAAC,+NAAM,CAAC,MAAM,CAAC,CAAA,QAAA,EAAW,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnE,CAAC"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/types.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/types.ts"],"sourcesContent":["import { Layout } from \"buffer-layout\";\nimport { Idl } from \"../idl\";\nimport { IdlCoder } from \"./idl\";\n\n/**\n * Encodes and decodes user defined types.\n */\nexport class TypesCoder {\n  /**\n   * Maps account type identifier to a layout.\n   */\n  private layouts: Map<string, Layout>;\n\n  public constructor(idl: Idl) {\n    if (idl.types === undefined) {\n      this.layouts = new Map();\n      return;\n    }\n    const layouts = idl.types.map((acc) => {\n      return [acc.name, IdlCoder.typeDefLayout(acc, idl.types)];\n    });\n\n    // @ts-ignore\n    this.layouts = new Map(layouts);\n  }\n\n  public encode<T = any>(accountName: string, account: T): Buffer {\n    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n    const layout = this.layouts.get(accountName);\n    const len = layout.encode(account, buffer);\n    return buffer.slice(0, len);\n  }\n\n  public decode<T = any>(accountName: string, ix: Buffer): T {\n    const layout = this.layouts.get(accountName);\n    return layout.decode(ix);\n  }\n}\n"],"names":[],"mappings":";;;;AAEA,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;;AAK3B,MAAO,UAAU;IAMrB,YAAmB,GAAQ,CAAA;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,OAAO;SACR;QACD,MAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACpC,OAAO;gBAAC,GAAG,CAAC,IAAI;gBAAE,0SAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC;aAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;QAEH,aAAa;QACb,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAEM,MAAM,CAAU,WAAmB,EAAE,OAAU,EAAA;QACpD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC7C,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAC3C,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,MAAM,CAAU,WAAmB,EAAE,EAAU,EAAA;QACpD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC7C,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC3B,CAAC;CACF"}},
    {"offset": {"line": 1039, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/event.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/event.ts"],"sourcesContent":["import * as base64 from \"base64-js\";\nimport { Layout } from \"buffer-layout\";\nimport { sha256 } from \"js-sha256\";\nimport { Idl, IdlTypeDef } from \"../idl\";\nimport { Event } from \"../program/event\";\nimport { IdlCoder } from \"./idl\";\n\nexport class EventCoder {\n  /**\n   * Maps account type identifier to a layout.\n   */\n  private layouts: Map<string, Layout>;\n\n  /**\n   * Maps base64 encoded event discriminator to event name.\n   */\n  private discriminators: Map<string, string>;\n\n  public constructor(idl: Idl) {\n    if (idl.events === undefined) {\n      this.layouts = new Map();\n      return;\n    }\n    const layouts = idl.events.map((event) => {\n      let eventTypeDef: IdlTypeDef = {\n        name: event.name,\n        type: {\n          kind: \"struct\",\n          fields: event.fields.map((f) => {\n            return { name: f.name, type: f.type };\n          }),\n        },\n      };\n      return [event.name, IdlCoder.typeDefLayout(eventTypeDef, idl.types)];\n    });\n    // @ts-ignore\n    this.layouts = new Map(layouts);\n\n    this.discriminators = new Map<string, string>(\n      idl.events === undefined\n        ? []\n        : idl.events.map((e) => [\n            base64.fromByteArray(eventDiscriminator(e.name)),\n            e.name,\n          ])\n    );\n  }\n\n  public decode(log: string): Event | null {\n    let logArr: Buffer;\n    // This will throw if log length is not a multiple of 4.\n    try {\n      logArr = Buffer.from(base64.toByteArray(log));\n    } catch (e){\n      return null;\n    }\n    const disc = base64.fromByteArray(logArr.slice(0, 8));\n\n    // Only deserialize if the discriminator implies a proper event.\n    const eventName = this.discriminators.get(disc);\n    if (eventName === undefined) {\n      return null;\n    }\n\n    const layout = this.layouts.get(eventName);\n    const data = layout.decode(logArr.slice(8));\n    return { data, name: eventName };\n  }\n}\n\nexport function eventDiscriminator(name: string): Buffer {\n  return Buffer.from(sha256.digest(`event:${name}`)).slice(0, 8);\n}\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;AAEpC,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAGnC,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;;;;AAE3B,MAAO,UAAU;IAWrB,YAAmB,GAAQ,CAAA;QACzB,IAAI,GAAG,CAAC,MAAM,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,OAAO;SACR;QACD,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YACvC,IAAI,YAAY,GAAe;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,IAAI,EAAE;oBACJ,IAAI,EAAE,QAAQ;oBACd,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;wBAC7B,OAAO;4BAAE,IAAI,EAAE,CAAC,CAAC,IAAI;4BAAE,IAAI,EAAE,CAAC,CAAC,IAAI;wBAAA,CAAE,CAAC;oBACxC,CAAC,CAAC;iBACH;aACF,CAAC;YACF,OAAO;gBAAC,KAAK,CAAC,IAAI;gBAAE,0SAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC;aAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,aAAa;QACb,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QAEhC,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAC3B,GAAG,CAAC,MAAM,KAAK,SAAS,GACpB,EAAE,GACF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAG,CAAD;gBACnB,MAAM,CAAC,uNAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChD,CAAC,CAAC,IAAI;aACP,CAAC,CACP,CAAC;IACJ,CAAC;IAEM,MAAM,CAAC,GAAW,EAAA;QACvB,IAAI,MAAc,CAAC;QACnB,wDAAwD;QACxD,IAAI;YACF,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,qNAAW,CAAC,GAAG,CAAC,CAAC,CAAC;SAC/C,CAAC,OAAO,CAAC,EAAC;YACT,OAAO,IAAI,CAAC;SACb;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,uNAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtD,gEAAgE;QAChE,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC3C,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,OAAO;YAAE,IAAI;YAAE,IAAI,EAAE,SAAS;QAAA,CAAE,CAAC;IACnC,CAAC;CACF;AAEK,SAAU,kBAAkB,CAAC,IAAY;IAC7C,OAAO,MAAM,CAAC,IAAI,CAAC,+NAAM,CAAC,MAAM,CAAC,CAAA,MAAA,EAAS,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC"}},
    {"offset": {"line": 1111, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/features.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/features.ts"],"sourcesContent":["const _AVAILABLE_FEATURES = new Set([\"anchor-deprecated-state\"]);\n\nconst _FEATURES = new Map();\n\nexport function set(key: string) {\n  if (!_AVAILABLE_FEATURES.has(key)) {\n    throw new Error(\"Invalid feature\");\n  }\n  _FEATURES.set(key, true);\n}\n\nexport function isSet(key: string): boolean {\n  return _FEATURES.get(key) !== undefined;\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC;IAAC,yBAAyB;CAAC,CAAC,CAAC;AAEjE,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;AAEtB,SAAU,GAAG,CAAC,GAAW;IAC7B,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;QACjC,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;KACpC;IACD,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AAC3B,CAAC;AAEK,SAAU,KAAK,CAAC,GAAW;IAC/B,OAAO,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,SAAS,CAAC;AAC1C,CAAC"}},
    {"offset": {"line": 1134, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/state.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/state.ts"],"sourcesContent":["import { Layout } from \"buffer-layout\";\nimport { sha256 } from \"js-sha256\";\nimport { Idl } from \"../idl\";\nimport { IdlCoder } from \"./idl\";\nimport * as features from \"../utils/features\";\n\nexport class StateCoder {\n  private layout: Layout;\n\n  public constructor(idl: Idl) {\n    if (idl.state === undefined) {\n      throw new Error(\"Idl state not defined.\");\n    }\n    this.layout = IdlCoder.typeDefLayout(idl.state.struct, idl.types);\n  }\n\n  public async encode<T = any>(name: string, account: T): Promise<Buffer> {\n    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n    const len = this.layout.encode(account, buffer);\n\n    const disc = await stateDiscriminator(name);\n    const accData = buffer.slice(0, len);\n\n    return Buffer.concat([disc, accData]);\n  }\n\n  public decode<T = any>(ix: Buffer): T {\n    // Chop off discriminator.\n    const data = ix.slice(8);\n    return this.layout.decode(data);\n  }\n}\n\n// Calculates unique 8 byte discriminator prepended to all anchor state accounts.\nexport async function stateDiscriminator(name: string): Promise<Buffer> {\n  let ns = features.isSet(\"anchor-deprecated-state\") ? \"account\" : \"state\";\n  return Buffer.from(sha256.digest(`${ns}:${name}`)).slice(0, 8);\n}\n"],"names":[],"mappings":";;;;;;AACA,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACjC,OAAO,KAAK,QAAQ,MAAM,mBAAmB,CAAC;;;;AAExC,MAAO,UAAU;IAGrB,YAAmB,GAAQ,CAAA;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,MAAM,GAAG,0SAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAEM,KAAK,CAAC,MAAM,CAAU,IAAY,EAAE,OAAU,EAAA;QACnD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,IAAI,GAAG,MAAM,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAErC,OAAO,MAAM,CAAC,MAAM,CAAC;YAAC,IAAI;YAAE,OAAO;SAAC,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAU,EAAU,EAAA;QAC/B,0BAA0B;QAC1B,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF;AAGM,KAAK,UAAU,kBAAkB,CAAC,IAAY;IACnD,IAAI,EAAE,GAAG,QAAQ,CAAC,mSAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IACzE,OAAO,MAAM,CAAC,IAAI,CAAC,+NAAM,CAAC,MAAM,CAAC,GAAG,EAAE,CAAA,CAAA,EAAI,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC"}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/coder/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/coder/index.ts"],"sourcesContent":["import { Idl } from \"../idl\";\nimport { InstructionCoder } from \"./instruction\";\nimport { AccountsCoder } from \"./accounts\";\nimport { TypesCoder } from \"./types\";\nimport { EventCoder } from \"./event\";\nimport { StateCoder } from \"./state\";\nimport { sighash } from \"./common\";\n\nexport { accountSize } from \"./common\";\nexport { TypesCoder } from \"./types\";\nexport { InstructionCoder } from \"./instruction\";\nexport {\n  AccountsCoder,\n  accountDiscriminator,\n  ACCOUNT_DISCRIMINATOR_SIZE,\n} from \"./accounts\";\nexport { EventCoder, eventDiscriminator } from \"./event\";\nexport { StateCoder, stateDiscriminator } from \"./state\";\n\n/**\n * Coder provides a facade for encoding and decoding all IDL related objects.\n */\nexport default class Coder {\n  /**\n   * Instruction coder.\n   */\n  readonly instruction: InstructionCoder;\n\n  /**\n   * Account coder.\n   */\n  readonly accounts: AccountsCoder;\n\n  /**\n   * Types coder.\n   */\n  readonly types: TypesCoder;\n\n  /**\n   * Coder for state structs.\n   */\n  readonly state: StateCoder;\n\n  /**\n   * Coder for events.\n   */\n  readonly events: EventCoder;\n\n  constructor(idl: Idl) {\n    this.instruction = new InstructionCoder(idl);\n    this.accounts = new AccountsCoder(idl);\n    this.types = new TypesCoder(idl);\n    this.events = new EventCoder(idl);\n    if (idl.state) {\n      this.state = new StateCoder(idl);\n    }\n  }\n\n  public sighash(nameSpace: string, ixName: string): Buffer {\n    return sighash(nameSpace, ixName);\n  }\n}\n"],"names":[],"mappings":";;;;AACA,OAAO,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AACjD,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AACrC,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AACrC,OAAO,EAAE,UAAU,EAAE,MAAM,SAAS,CAAC;AACrC,OAAO,EAAE,OAAO,EAAE,MAAM,UAAU,CAAC;;;;;;;;;;;;;AAgBrB,MAAO,KAAK;IA0BxB,YAAY,GAAQ,CAAA;QAClB,IAAI,CAAC,WAAW,GAAG,IAAI,0TAAgB,CAAC,GAAG,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,IAAI,oTAAa,CAAC,GAAG,CAAC,CAAC;QACvC,IAAI,CAAC,KAAK,GAAG,IAAI,8SAAU,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,MAAM,GAAG,IAAI,8SAAU,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,GAAG,CAAC,KAAK,EAAE;YACb,IAAI,CAAC,KAAK,GAAG,IAAI,8SAAU,CAAC,GAAG,CAAC,CAAC;SAClC;IACH,CAAC;IAEM,OAAO,CAAC,SAAiB,EAAE,MAAc,EAAA;QAC9C,WAAO,4SAAO,EAAC,SAAS,EAAE,MAAM,CAAC,CAAC;IACpC,CAAC;CACF"}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/idl.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/idl.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\nimport * as borsh from \"@project-serum/borsh\";\n\nexport type Idl = {\n  version: string;\n  name: string;\n  instructions: IdlInstruction[];\n  state?: IdlState;\n  accounts?: IdlTypeDef[];\n  types?: IdlTypeDef[];\n  events?: IdlEvent[];\n  errors?: IdlErrorCode[];\n};\n\nexport type IdlEvent = {\n  name: string;\n  fields: IdlEventField[];\n};\n\nexport type IdlEventField = {\n  name: string;\n  type: IdlType;\n  index: boolean;\n};\n\nexport type IdlInstruction = {\n  name: string;\n  accounts: IdlAccountItem[];\n  args: IdlField[];\n};\n\nexport type IdlState = {\n  struct: IdlTypeDef;\n  methods: IdlStateMethod[];\n};\n\nexport type IdlStateMethod = IdlInstruction;\n\nexport type IdlAccountItem = IdlAccount | IdlAccounts;\n\nexport type IdlAccount = {\n  name: string;\n  isMut: boolean;\n  isSigner: boolean;\n};\n\n// A nested/recursive version of IdlAccount.\nexport type IdlAccounts = {\n  name: string;\n  accounts: IdlAccountItem[];\n};\n\nexport type IdlField = {\n  name: string;\n  type: IdlType;\n};\n\nexport type IdlTypeDef = {\n  name: string;\n  type: IdlTypeDefTy;\n};\n\ntype IdlTypeDefTy = {\n  kind: \"struct\" | \"enum\";\n  fields?: IdlTypeDefStruct;\n  variants?: IdlEnumVariant[];\n};\n\ntype IdlTypeDefStruct = Array<IdlField>;\n\nexport type IdlType =\n  | \"bool\"\n  | \"u8\"\n  | \"i8\"\n  | \"u16\"\n  | \"i16\"\n  | \"u32\"\n  | \"i32\"\n  | \"u64\"\n  | \"i64\"\n  | \"u128\"\n  | \"i128\"\n  | \"bytes\"\n  | \"string\"\n  | \"publicKey\"\n  | IdlTypeVec\n  | IdlTypeOption\n  | IdlTypeDefined;\n\nexport type IdlTypeVec = {\n  vec: IdlType;\n};\n\nexport type IdlTypeOption = {\n  option: IdlType;\n};\n\n// User defined type.\nexport type IdlTypeDefined = {\n  defined: string;\n};\n\nexport type IdlEnumVariant = {\n  name: string;\n  fields?: IdlEnumFields;\n};\n\ntype IdlEnumFields = IdlEnumFieldsNamed | IdlEnumFieldsTuple;\n\ntype IdlEnumFieldsNamed = IdlField[];\n\ntype IdlEnumFieldsTuple = IdlType[];\n\ntype IdlErrorCode = {\n  code: number;\n  name: string;\n  msg?: string;\n};\n\n// Deterministic IDL address as a function of the program id.\nexport async function idlAddress(programId: PublicKey): Promise<PublicKey> {\n  const base = (await PublicKey.findProgramAddress([], programId))[0];\n  return await PublicKey.createWithSeed(base, seed(), programId);\n}\n\n// Seed for generating the idlAddress.\nexport function seed(): string {\n  return \"anchor:idl\";\n}\n\n// The on-chain account of the IDL.\nexport interface IdlProgramAccount {\n  authority: PublicKey;\n  data: Buffer;\n}\n\nconst IDL_ACCOUNT_LAYOUT: borsh.Layout<IdlProgramAccount> = borsh.struct([\n  borsh.publicKey(\"authority\"),\n  borsh.vecU8(\"data\"),\n]);\n\nexport function decodeIdlAccount(data: Buffer): IdlProgramAccount {\n  return IDL_ACCOUNT_LAYOUT.decode(data);\n}\n\nexport function encodeIdlAccount(acc: IdlProgramAccount): Buffer {\n  const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.\n  const len = IDL_ACCOUNT_LAYOUT.encode(acc, buffer);\n  return buffer.slice(0, len);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,KAAK,KAAK,MAAM,sBAAsB,CAAC;;;AAuHvC,KAAK,UAAU,UAAU,CAAC,SAAoB;IACnD,MAAM,IAAI,GAAG,CAAC,MAAM,uRAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,OAAO,MAAM,uRAAS,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;AACjE,CAAC;AAGK,SAAU,IAAI;IAClB,OAAO,YAAY,CAAC;AACtB,CAAC;AAQD,MAAM,kBAAkB,GAAoC,KAAK,CAAC,uSAAM,CAAC;IACvE,KAAK,CAAC,0SAAS,CAAC,WAAW,CAAC;IAC5B,KAAK,CAAC,sSAAK,CAAC,MAAM,CAAC;CACpB,CAAC,CAAC;AAEG,SAAU,gBAAgB,CAAC,IAAY;IAC3C,OAAO,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAEK,SAAU,gBAAgB,CAAC,GAAsB;IACrD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;IACjE,MAAM,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AAC9B,CAAC"}},
    {"offset": {"line": 1254, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/common.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/common.ts"],"sourcesContent":["import EventEmitter from \"eventemitter3\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { Idl, IdlInstruction, IdlAccountItem, IdlStateMethod } from \"../idl\";\nimport { Accounts } from \"./context\";\n\nexport type Subscription = {\n  listener: number;\n  ee: EventEmitter;\n};\n\nexport function parseIdlErrors(idl: Idl): Map<number, string> {\n  const errors = new Map();\n  if (idl.errors) {\n    idl.errors.forEach((e) => {\n      let msg = e.msg ?? e.name;\n      errors.set(e.code, msg);\n    });\n  }\n  return errors;\n}\n\n// Allow either IdLInstruction or IdlStateMethod since the types share fields.\nexport function toInstruction(\n  idlIx: IdlInstruction | IdlStateMethod,\n  ...args: any[]\n) {\n  if (idlIx.args.length != args.length) {\n    throw new Error(\"Invalid argument length\");\n  }\n  const ix: { [key: string]: any } = {};\n  let idx = 0;\n  idlIx.args.forEach((ixArg) => {\n    ix[ixArg.name] = args[idx];\n    idx += 1;\n  });\n\n  return ix;\n}\n\n// Throws error if any account required for the `ix` is not given.\nexport function validateAccounts(\n  ixAccounts: IdlAccountItem[],\n  accounts: Accounts\n) {\n  ixAccounts.forEach((acc) => {\n    // @ts-ignore\n    if (acc.accounts !== undefined) {\n      // @ts-ignore\n      validateAccounts(acc.accounts, accounts[acc.name]);\n    } else {\n      if (accounts[acc.name] === undefined) {\n        throw new Error(`Invalid arguments: ${acc.name} not provided.`);\n      }\n    }\n  });\n}\n\n// Translates an address to a Pubkey.\nexport function translateAddress(address: Address): PublicKey {\n  if (typeof address === \"string\") {\n    const pk = new PublicKey(address);\n    return pk;\n  } else {\n    return address;\n  }\n}\n\n/**\n * An address to identify an account on chain. Can be a [[PublicKey]],\n * or Base 58 encoded string.\n */\nexport type Address = PublicKey | string;\n"],"names":[],"mappings":";;;;;;;;;;AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;;AAStC,SAAU,cAAc,CAAC,GAAQ;IACrC,MAAM,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;IACzB,IAAI,GAAG,CAAC,MAAM,EAAE;QACd,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE;;YACvB,IAAI,GAAG,GAAA,CAAA,KAAG,CAAC,CAAC,GAAG,MAAA,QAAA,OAAA,KAAA,IAAA,KAAI,CAAC,CAAC,IAAI,CAAC;YAC1B,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;KACJ;IACD,OAAO,MAAM,CAAC;AAChB,CAAC;AAGK,SAAU,aAAa,CAC3B,KAAsC,EACtC,GAAG,IAAW;IAEd,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE;QACpC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;KAC5C;IACD,MAAM,EAAE,GAA2B,CAAA,CAAE,CAAC;IACtC,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;QAC3B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC3B,GAAG,IAAI,CAAC,CAAC;IACX,CAAC,CAAC,CAAC;IAEH,OAAO,EAAE,CAAC;AACZ,CAAC;AAGK,SAAU,gBAAgB,CAC9B,UAA4B,EAC5B,QAAkB;IAElB,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACzB,aAAa;QACb,IAAI,GAAG,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC9B,aAAa;YACb,gBAAgB,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;SACpD,MAAM;YACL,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,SAAS,EAAE;gBACpC,MAAM,IAAI,KAAK,CAAC,CAAA,mBAAA,EAAsB,GAAG,CAAC,IAAI,CAAA,cAAA,CAAgB,CAAC,CAAC;aACjE;SACF;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AAGK,SAAU,gBAAgB,CAAC,OAAgB;IAC/C,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;QAC/B,MAAM,EAAE,GAAG,IAAI,uRAAS,CAAC,OAAO,CAAC,CAAC;QAClC,OAAO,EAAE,CAAC;KACX,MAAM;QACL,OAAO,OAAO,CAAC;KAChB;AACH,CAAC"}},
    {"offset": {"line": 1314, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/pubkey.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/pubkey.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport { sha256 as sha256Sync } from \"js-sha256\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { Address, translateAddress } from \"../program/common\";\n\n// Sync version of web3.PublicKey.createWithSeed.\nexport function createWithSeedSync(\n  fromPublicKey: PublicKey,\n  seed: string,\n  programId: PublicKey\n): PublicKey {\n  const buffer = Buffer.concat([\n    fromPublicKey.toBuffer(),\n    Buffer.from(seed),\n    programId.toBuffer(),\n  ]);\n  const hash = sha256Sync.digest(buffer);\n  return new PublicKey(Buffer.from(hash));\n}\n\n// Sync version of web3.PublicKey.createProgramAddress.\nexport function createProgramAddressSync(\n  seeds: Array<Buffer | Uint8Array>,\n  programId: PublicKey\n): PublicKey {\n  const MAX_SEED_LENGTH = 32;\n\n  let buffer = Buffer.alloc(0);\n  seeds.forEach(function (seed) {\n    if (seed.length > MAX_SEED_LENGTH) {\n      throw new TypeError(`Max seed length exceeded`);\n    }\n    buffer = Buffer.concat([buffer, toBuffer(seed)]);\n  });\n  buffer = Buffer.concat([\n    buffer,\n    programId.toBuffer(),\n    Buffer.from(\"ProgramDerivedAddress\"),\n  ]);\n  let hash = sha256Sync(new Uint8Array(buffer));\n  let publicKeyBytes = new BN(hash, 16).toArray(undefined, 32);\n  if (PublicKey.isOnCurve(new Uint8Array(publicKeyBytes))) {\n    throw new Error(`Invalid seeds, address must fall off the curve`);\n  }\n  return new PublicKey(publicKeyBytes);\n}\n\n// Sync version of web3.PublicKey.findProgramAddress.\nexport function findProgramAddressSync(\n  seeds: Array<Buffer | Uint8Array>,\n  programId: PublicKey\n): [PublicKey, number] {\n  let nonce = 255;\n  let address: PublicKey | undefined;\n  while (nonce != 0) {\n    try {\n      const seedsWithNonce = seeds.concat(Buffer.from([nonce]));\n      address = createProgramAddressSync(seedsWithNonce, programId);\n    } catch (err) {\n      if (err instanceof TypeError) {\n        throw err;\n      }\n      nonce--;\n      continue;\n    }\n    return [address, nonce];\n  }\n  throw new Error(`Unable to find a viable program address nonce`);\n}\n\nconst toBuffer = (arr: Buffer | Uint8Array | Array<number>): Buffer => {\n  if (arr instanceof Buffer) {\n    return arr;\n  } else if (arr instanceof Uint8Array) {\n    return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);\n  } else {\n    return Buffer.from(arr);\n  }\n};\n\nexport async function associated(\n  programId: Address,\n  ...args: Array<PublicKey | Buffer>\n): Promise<PublicKey> {\n  let seeds = [Buffer.from([97, 110, 99, 104, 111, 114])]; // b\"anchor\".\n  args.forEach((arg) => {\n    seeds.push(\n      // @ts-ignore\n      arg.buffer !== undefined ? arg : translateAddress(arg).toBuffer()\n    );\n  });\n  const [assoc] = await PublicKey.findProgramAddress(\n    seeds,\n    translateAddress(programId)\n  );\n  return assoc;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1419, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/context.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/context.ts"],"sourcesContent":["import {\n  AccountMeta,\n  Signer,\n  ConfirmOptions,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\nimport { Address } from \"./common\";\nimport { IdlInstruction } from \"../idl\";\n\n/**\n * Context provides all non-argument inputs for generating Anchor transactions.\n */\nexport type Context = {\n  /**\n   * Accounts used in the instruction context.\n   */\n  accounts?: Accounts;\n\n  /**\n   * All accounts to pass into an instruction *after* the main `accounts`.\n   * This can be used for optional or otherwise unknown accounts.\n   */\n  remainingAccounts?: AccountMeta[];\n\n  /**\n   * Accounts that must sign a given transaction.\n   */\n  signers?: Array<Signer>;\n\n  /**\n   * Instructions to run *before* a given method. Often this is used, for\n   * example to create accounts prior to executing a method.\n   */\n  instructions?: TransactionInstruction[];\n\n  /**\n   * Commitment parameters to use for a transaction.\n   */\n  options?: ConfirmOptions;\n\n  /**\n   * @hidden\n   *\n   * Private namespace for development.\n   */\n  __private?: { logAccounts: boolean };\n};\n\n/**\n * A set of accounts mapping one-to-one to the program's accounts struct, i.e.,\n * the type deriving `#[derive(Accounts)]`.\n *\n * The name of each field should match the name for that account in the IDL.\n *\n * If multiple accounts are nested in the rust program, then they should be\n * nested here.\n */\nexport type Accounts = {\n  [key: string]: Address | Accounts;\n};\n\nexport function splitArgsAndCtx(\n  idlIx: IdlInstruction,\n  args: any[]\n): [any[], Context] {\n  let options = {};\n\n  const inputLen = idlIx.args ? idlIx.args.length : 0;\n  if (args.length > inputLen) {\n    if (args.length !== inputLen + 1) {\n      throw new Error(\"provided too many arguments ${args}\");\n    }\n    options = args.pop();\n  }\n\n  return [args, options];\n}\n"],"names":[],"mappings":";;;;AA6DM,SAAU,eAAe,CAC7B,KAAqB,EACrB,IAAW;IAEX,IAAI,OAAO,GAAG,CAAA,CAAE,CAAC;IAEjB,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,IAAI,IAAI,CAAC,MAAM,GAAG,QAAQ,EAAE;QAC1B,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,GAAG,CAAC,EAAE;YAChC,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;SACxD;QACD,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;KACtB;IAED,OAAO;QAAC,IAAI;QAAE,OAAO;KAAC,CAAC;AACzB,CAAC"}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/instruction.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/instruction.ts"],"sourcesContent":["import { PublicKey, TransactionInstruction } from \"@solana/web3.js\";\nimport { IdlAccount, IdlInstruction, IdlAccountItem } from \"../../idl\";\nimport { IdlError } from \"../../error\";\nimport {\n  toInstruction,\n  validateAccounts,\n  translateAddress,\n  Address,\n} from \"../common\";\nimport { Accounts, splitArgsAndCtx } from \"../context\";\n\nexport default class InstructionNamespaceFactory {\n  public static build(\n    idlIx: IdlInstruction,\n    encodeFn: InstructionEncodeFn,\n    programId: PublicKey\n  ): InstructionFn {\n    if (idlIx.name === \"_inner\") {\n      throw new IdlError(\"the _inner name is reserved\");\n    }\n\n    const ix = (...args: any[]): TransactionInstruction => {\n      const [ixArgs, ctx] = splitArgsAndCtx(idlIx, [...args]);\n      validateAccounts(idlIx.accounts, ctx.accounts);\n      validateInstruction(idlIx, ...args);\n\n      const keys = ix.accounts(ctx.accounts);\n\n      if (ctx.remainingAccounts !== undefined) {\n        keys.push(...ctx.remainingAccounts);\n      }\n\n      if (ctx.__private && ctx.__private.logAccounts) {\n        console.log(\"Outgoing account metas:\", keys);\n      }\n      return new TransactionInstruction({\n        keys,\n        programId,\n        data: encodeFn(idlIx.name, toInstruction(idlIx, ...ixArgs)),\n      });\n    };\n\n    // Utility fn for ordering the accounts for this instruction.\n    ix[\"accounts\"] = (accs: Accounts) => {\n      return InstructionNamespaceFactory.accountsArray(accs, idlIx.accounts);\n    };\n\n    return ix;\n  }\n\n  public static accountsArray(ctx: Accounts, accounts: IdlAccountItem[]): any {\n    return accounts\n      .map((acc: IdlAccountItem) => {\n        // Nested accounts.\n        // @ts-ignore\n        const nestedAccounts: IdlAccountItem[] | undefined = acc.accounts;\n        if (nestedAccounts !== undefined) {\n          const rpcAccs = ctx[acc.name] as Accounts;\n          return InstructionNamespaceFactory.accountsArray(\n            rpcAccs,\n            nestedAccounts\n          ).flat();\n        } else {\n          const account: IdlAccount = acc as IdlAccount;\n          return {\n            pubkey: translateAddress(ctx[acc.name] as Address),\n            isWritable: account.isMut,\n            isSigner: account.isSigner,\n          };\n        }\n      })\n      .flat();\n  }\n}\n\n/**\n * The namespace provides functions to build [[TransactionInstruction]]\n * objects for each method of a program.\n *\n * ## Usage\n *\n * ```javascript\n * instruction.<method>(...args, ctx);\n * ```\n *\n * ## Parameters\n *\n * 1. `args` - The positional arguments for the program. The type and number\n *    of these arguments depend on the program being used.\n * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n *    Always the last parameter in the method call.\n *\n * ## Example\n *\n * To create an instruction for the `increment` method above,\n *\n * ```javascript\n * const tx = await program.instruction.increment({\n *   accounts: {\n *     counter,\n *   },\n * });\n * ```\n */\nexport interface InstructionNamespace {\n  [key: string]: InstructionFn;\n}\n\n/**\n * Function to create a `TransactionInstruction` generated from an IDL.\n * Additionally it provides an `accounts` utility method, returning a list\n * of ordered accounts for the instruction.\n */\nexport type InstructionFn = IxProps & ((...args: any[]) => any);\ntype IxProps = {\n  accounts: (ctx: Accounts) => any;\n};\n\nexport type InstructionEncodeFn = (ixName: string, ix: any) => Buffer;\n\n// Throws error if any argument required for the `ix` is not given.\nfunction validateInstruction(ix: IdlInstruction, ...args: any[]) {\n  // todo\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAa,sBAAsB,EAAE,MAAM,iBAAiB,CAAC;AAEpE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AACvC,OAAO,EACL,aAAa,EACb,gBAAgB,EAChB,gBAAgB,GAEjB,MAAM,WAAW,CAAC;AACnB,OAAO,EAAY,eAAe,EAAE,MAAM,YAAY,CAAC;;;;;AAEzC,MAAO,2BAA2B;IACvC,MAAM,CAAC,KAAK,CACjB,KAAqB,EACrB,QAA6B,EAC7B,SAAoB,EAAA;QAEpB,IAAI,KAAK,CAAC,IAAI,KAAK,QAAQ,EAAE;YAC3B,MAAM,IAAI,mSAAQ,CAAC,6BAA6B,CAAC,CAAC;SACnD;QAED,MAAM,EAAE,GAAG,CAAC,GAAG,IAAW,EAA0B,EAAE;YACpD,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,OAAG,uTAAe,EAAC,KAAK,EAAE,CAAC;mBAAG,IAAI;aAAC,CAAC,CAAC;gBACxD,uTAAgB,EAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC/C,mBAAmB,CAAC,KAAK,EAAE,GAAG,IAAI,CAAC,CAAC;YAEpC,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAEvC,IAAI,GAAG,CAAC,iBAAiB,KAAK,SAAS,EAAE;gBACvC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,iBAAiB,CAAC,CAAC;aACrC;YAED,IAAI,GAAG,CAAC,SAAS,IAAI,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE;gBAC9C,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;aAC9C;YACD,OAAO,IAAI,oSAAsB,CAAC;gBAChC,IAAI;gBACJ,SAAS;gBACT,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,MAAE,oTAAa,EAAC,KAAK,EAAE,GAAG,MAAM,CAAC,CAAC;aAC5D,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,6DAA6D;QAC7D,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,IAAc,EAAE,EAAE;YAClC,OAAO,2BAA2B,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC;QACzE,CAAC,CAAC;QAEF,OAAO,EAAE,CAAC;IACZ,CAAC;IAEM,MAAM,CAAC,aAAa,CAAC,GAAa,EAAE,QAA0B,EAAA;QACnE,OAAO,QAAQ,CACZ,GAAG,CAAC,CAAC,GAAmB,EAAE,EAAE;YAC3B,mBAAmB;YACnB,aAAa;YACb,MAAM,cAAc,GAAiC,GAAG,CAAC,QAAQ,CAAC;YAClE,IAAI,cAAc,KAAK,SAAS,EAAE;gBAChC,MAAM,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAa,CAAC;gBAC1C,OAAO,2BAA2B,CAAC,aAAa,CAC9C,OAAO,EACP,cAAc,CACf,CAAC,IAAI,EAAE,CAAC;aACV,MAAM;gBACL,MAAM,OAAO,GAAe,GAAiB,CAAC;gBAC9C,OAAO;oBACL,MAAM,MAAE,uTAAgB,EAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAY,CAAC;oBAClD,UAAU,EAAE,OAAO,CAAC,KAAK;oBACzB,QAAQ,EAAE,OAAO,CAAC,QAAQ;iBAC3B,CAAC;aACH;QACH,CAAC,CAAC,CACD,IAAI,EAAE,CAAC;IACZ,CAAC;CACF;AA+CD,mEAAmE;AACnE,SAAS,mBAAmB,CAAC,EAAkB,EAAE,GAAG,IAAW;AAC7D,OAAO;AACT,CAAC"}},
    {"offset": {"line": 1510, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/rpc.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/rpc.ts"],"sourcesContent":["import { TransactionSignature } from \"@solana/web3.js\";\nimport Provider from \"../../provider\";\nimport { IdlInstruction } from \"../../idl\";\nimport { splitArgsAndCtx } from \"../context\";\nimport { TransactionFn } from \"./transaction\";\nimport { ProgramError } from \"../../error\";\n\nexport default class RpcFactory {\n  public static build(\n    idlIx: IdlInstruction,\n    txFn: TransactionFn,\n    idlErrors: Map<number, string>,\n    provider: Provider\n  ): RpcFn {\n    const rpc = async (...args: any[]): Promise<TransactionSignature> => {\n      const tx = txFn(...args);\n      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);\n      try {\n        const txSig = await provider.send(tx, ctx.signers, ctx.options);\n        return txSig;\n      } catch (err) {\n        console.log(\"Translating error\", err);\n        let translatedErr = ProgramError.parse(err, idlErrors);\n        if (translatedErr === null) {\n          throw err;\n        }\n        throw translatedErr;\n      }\n    };\n\n    return rpc;\n  }\n}\n\n/**\n * The namespace provides async methods to send signed transactions for each\n * *non*-state method on Anchor program.\n *\n * Keys are method names, values are RPC functions returning a\n * [[TransactionInstruction]].\n *\n * ## Usage\n *\n * ```javascript\n * rpc.<method>(...args, ctx);\n * ```\n *\n * ## Parameters\n *\n * 1. `args` - The positional arguments for the program. The type and number\n *    of these arguments depend on the program being used.\n * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n *    Always the last parameter in the method call.\n * ```\n *\n * ## Example\n *\n * To send a transaction invoking the `increment` method above,\n *\n * ```javascript\n * const txSignature = await program.rpc.increment({\n *   accounts: {\n *     counter,\n *     authority,\n *   },\n * });\n * ```\n */\nexport interface RpcNamespace {\n  [key: string]: RpcFn;\n}\n\n/**\n * RpcFn is a single RPC method generated from an IDL, sending a transaction\n * paid for and signed by the configured provider.\n */\nexport type RpcFn = (...args: any[]) => Promise<TransactionSignature>;\n"],"names":[],"mappings":";;;;AAGA,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAE7C,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;;;AAE7B,MAAO,UAAU;IACtB,MAAM,CAAC,KAAK,CACjB,KAAqB,EACrB,IAAmB,EACnB,SAA8B,EAC9B,QAAkB,EAAA;QAElB,MAAM,GAAG,GAAG,KAAK,EAAE,GAAG,IAAW,EAAiC,EAAE;YAClE,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,OAAG,uTAAe,EAAC,KAAK,EAAE,CAAC;mBAAG,IAAI;aAAC,CAAC,CAAC;YAClD,IAAI;gBACF,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;gBAChE,OAAO,KAAK,CAAC;aACd,CAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;gBACtC,IAAI,aAAa,GAAG,uSAAY,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACvD,IAAI,aAAa,KAAK,IAAI,EAAE;oBAC1B,MAAM,GAAG,CAAC;iBACX;gBACD,MAAM,aAAa,CAAC;aACrB;QACH,CAAC,CAAC;QAEF,OAAO,GAAG,CAAC;IACb,CAAC;CACF"}},
    {"offset": {"line": 1544, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/transaction.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/transaction.ts"],"sourcesContent":["import { Transaction } from \"@solana/web3.js\";\nimport { IdlInstruction } from \"../../idl\";\nimport { splitArgsAndCtx } from \"../context\";\nimport { InstructionFn } from \"./instruction\";\n\nexport default class TransactionFactory {\n  public static build(\n    idlIx: IdlInstruction,\n    ixFn: InstructionFn\n  ): TransactionFn {\n    const txFn = (...args: any[]): Transaction => {\n      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);\n      const tx = new Transaction();\n      if (ctx.instructions !== undefined) {\n        tx.add(...ctx.instructions);\n      }\n      tx.add(ixFn(...args));\n      return tx;\n    };\n\n    return txFn;\n  }\n}\n\n/**\n * The namespace provides functions to build [[Transaction]] objects for each\n * method of a program.\n *\n * ## Usage\n *\n * ```javascript\n * program.transaction.<method>(...args, ctx);\n * ```\n *\n * ## Parameters\n *\n * 1. `args` - The positional arguments for the program. The type and number\n *    of these arguments depend on the program being used.\n * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n *    Always the last parameter in the method call.\n *\n * ## Example\n *\n * To create an instruction for the `increment` method above,\n *\n * ```javascript\n * const tx = await program.transaction.increment({\n *   accounts: {\n *     counter,\n *   },\n * });\n * ```\n */\nexport interface TransactionNamespace {\n  [key: string]: TransactionFn;\n}\n\n/**\n * Tx is a function to create a `Transaction` for a given program instruction.\n */\nexport type TransactionFn = (...args: any[]) => Transaction;\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAE9C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;;;AAG/B,MAAO,kBAAkB;IAC9B,MAAM,CAAC,KAAK,CACjB,KAAqB,EACrB,IAAmB,EAAA;QAEnB,MAAM,IAAI,GAAG,CAAC,GAAG,IAAW,EAAe,EAAE;YAC3C,MAAM,CAAC,EAAE,GAAG,CAAC,OAAG,uTAAe,EAAC,KAAK,EAAE,CAAC;mBAAG,IAAI;aAAC,CAAC,CAAC;YAClD,MAAM,EAAE,GAAG,IAAI,yRAAW,EAAE,CAAC;YAC7B,IAAI,GAAG,CAAC,YAAY,KAAK,SAAS,EAAE;gBAClC,EAAE,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,YAAY,CAAC,CAAC;aAC7B;YACD,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YACtB,OAAO,EAAE,CAAC;QACZ,CAAC,CAAC;QAEF,OAAO,IAAI,CAAC;IACd,CAAC;CACF"}},
    {"offset": {"line": 1572, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/state.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/state.ts"],"sourcesContent":["import EventEmitter from \"eventemitter3\";\nimport camelCase from \"camelcase\";\nimport {\n  PublicKey,\n  SystemProgram,\n  SYSVAR_RENT_PUBKEY,\n  Commitment,\n} from \"@solana/web3.js\";\nimport Provider from \"../../provider\";\nimport { Idl, IdlStateMethod } from \"../../idl\";\nimport Coder, { stateDiscriminator } from \"../../coder\";\nimport { RpcNamespace, InstructionNamespace, TransactionNamespace } from \"./\";\nimport { getProvider } from \"../../\";\nimport { Subscription, validateAccounts, parseIdlErrors } from \"../common\";\nimport { findProgramAddressSync, createWithSeedSync } from \"../../utils/pubkey\";\nimport { Accounts } from \"../context\";\nimport InstructionNamespaceFactory from \"./instruction\";\nimport RpcNamespaceFactory from \"./rpc\";\nimport TransactionNamespaceFactory from \"./transaction\";\n\nexport default class StateFactory {\n  public static build(\n    idl: Idl,\n    coder: Coder,\n    programId: PublicKey,\n    provider: Provider\n  ): StateClient | undefined {\n    if (idl.state === undefined) {\n      return undefined;\n    }\n    return new StateClient(idl, programId, provider, coder);\n  }\n}\n\n/**\n * A client for the program state. Similar to the base [[Program]] client,\n * one can use this to send transactions and read accounts for the state\n * abstraction.\n */\nexport class StateClient {\n  /**\n   * [[RpcNamespace]] for all state methods.\n   */\n  readonly rpc: RpcNamespace;\n\n  /**\n   * [[InstructionNamespace]] for all state methods.\n   */\n  readonly instruction: InstructionNamespace;\n\n  /**\n   * [[TransactionNamespace]] for all state methods.\n   */\n  readonly transaction: TransactionNamespace;\n\n  /**\n   * Returns the program ID owning the state.\n   */\n  get programId(): PublicKey {\n    return this._programId;\n  }\n  private _programId: PublicKey;\n\n  /**\n   * Returns the client's wallet and network provider.\n   */\n  get provider(): Provider {\n    return this._provider;\n  }\n  private _provider: Provider;\n\n  /**\n   * Returns the coder.\n   */\n  get coder(): Coder {\n    return this._coder;\n  }\n\n  private _address: PublicKey;\n  private _coder: Coder;\n  private _idl: Idl;\n  private _sub: Subscription | null;\n\n  constructor(\n    idl: Idl,\n    programId: PublicKey,\n    provider?: Provider,\n    coder?: Coder\n  ) {\n    this._idl = idl;\n    this._programId = programId;\n    this._address = programStateAddress(programId);\n    this._provider = provider ?? getProvider();\n    this._coder = coder ?? new Coder(idl);\n    this._sub = null;\n\n    // Build namespaces.\n    const [instruction, transaction, rpc] = ((): [\n      InstructionNamespace,\n      TransactionNamespace,\n      RpcNamespace\n    ] => {\n      let instruction: InstructionNamespace = {};\n      let transaction: TransactionNamespace = {};\n      let rpc: RpcNamespace = {};\n\n      idl.state.methods.forEach((m: IdlStateMethod) => {\n        // Build instruction method.\n        const ixItem = InstructionNamespaceFactory.build(\n          m,\n          (ixName: string, ix: any) =>\n            coder.instruction.encodeState(ixName, ix),\n          programId\n        );\n        ixItem[\"accounts\"] = (accounts: Accounts) => {\n          const keys = stateInstructionKeys(programId, provider, m, accounts);\n          return keys.concat(\n            InstructionNamespaceFactory.accountsArray(accounts, m.accounts)\n          );\n        };\n        // Build transaction method.\n        const txItem = TransactionNamespaceFactory.build(m, ixItem);\n        // Build RPC method.\n        const rpcItem = RpcNamespaceFactory.build(\n          m,\n          txItem,\n          parseIdlErrors(idl),\n          provider\n        );\n\n        // Attach them all to their respective namespaces.\n        const name = camelCase(m.name);\n        instruction[name] = ixItem;\n        transaction[name] = txItem;\n        rpc[name] = rpcItem;\n      });\n\n      return [instruction, transaction, rpc];\n    })();\n    this.instruction = instruction;\n    this.transaction = transaction;\n    this.rpc = rpc;\n  }\n\n  /**\n   * Returns the deserialized state account.\n   */\n  async fetch(): Promise<Object> {\n    const addr = this.address();\n    const accountInfo = await this.provider.connection.getAccountInfo(addr);\n    if (accountInfo === null) {\n      throw new Error(`Account does not exist ${addr.toString()}`);\n    }\n    // Assert the account discriminator is correct.\n    const expectedDiscriminator = await stateDiscriminator(\n      this._idl.state.struct.name\n    );\n    if (expectedDiscriminator.compare(accountInfo.data.slice(0, 8))) {\n      throw new Error(\"Invalid account discriminator\");\n    }\n    return this.coder.state.decode(accountInfo.data);\n  }\n\n  /**\n   * Returns the state address.\n   */\n  address(): PublicKey {\n    return this._address;\n  }\n\n  /**\n   * Returns an `EventEmitter` with a `\"change\"` event that's fired whenever\n   * the state account cahnges.\n   */\n  subscribe(commitment?: Commitment): EventEmitter {\n    if (this._sub !== null) {\n      return this._sub.ee;\n    }\n    const ee = new EventEmitter();\n\n    const listener = this.provider.connection.onAccountChange(\n      this.address(),\n      (acc) => {\n        const account = this.coder.state.decode(acc.data);\n        ee.emit(\"change\", account);\n      },\n      commitment\n    );\n\n    this._sub = {\n      ee,\n      listener,\n    };\n\n    return ee;\n  }\n\n  /**\n   * Unsubscribes to state changes.\n   */\n  unsubscribe() {\n    if (this._sub !== null) {\n      this.provider.connection\n        .removeAccountChangeListener(this._sub.listener)\n        .then(async () => {\n          this._sub = null;\n        })\n        .catch(console.error);\n    }\n  }\n}\n\n// Calculates the deterministic address of the program's \"state\" account.\nfunction programStateAddress(programId: PublicKey): PublicKey {\n  let [registrySigner] = findProgramAddressSync([], programId);\n  return createWithSeedSync(registrySigner, \"unversioned\", programId);\n}\n\n// Returns the common keys that are prepended to all instructions targeting\n// the \"state\" of a program.\nfunction stateInstructionKeys(\n  programId: PublicKey,\n  provider: Provider,\n  m: IdlStateMethod,\n  accounts: Accounts\n) {\n  if (m.name === \"new\") {\n    // Ctor `new` method.\n    const [programSigner] = findProgramAddressSync([], programId);\n    return [\n      {\n        pubkey: provider.wallet.publicKey,\n        isWritable: false,\n        isSigner: true,\n      },\n      {\n        pubkey: programStateAddress(programId),\n        isWritable: true,\n        isSigner: false,\n      },\n      { pubkey: programSigner, isWritable: false, isSigner: false },\n      {\n        pubkey: SystemProgram.programId,\n        isWritable: false,\n        isSigner: false,\n      },\n\n      { pubkey: programId, isWritable: false, isSigner: false },\n      {\n        pubkey: SYSVAR_RENT_PUBKEY,\n        isWritable: false,\n        isSigner: false,\n      },\n    ];\n  } else {\n    validateAccounts(m.accounts, accounts);\n    return [\n      {\n        pubkey: programStateAddress(programId),\n        isWritable: true,\n        isSigner: false,\n      },\n    ];\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1769, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/account.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/account.ts"],"sourcesContent":["import camelCase from \"camelcase\";\nimport EventEmitter from \"eventemitter3\";\nimport * as bs58 from \"bs58\";\nimport {\n  Signer,\n  PublicKey,\n  SystemProgram,\n  TransactionInstruction,\n  Commitment,\n} from \"@solana/web3.js\";\nimport Provider from \"../../provider\";\nimport { Idl, IdlTypeDef } from \"../../idl\";\nimport Coder, {\n  ACCOUNT_DISCRIMINATOR_SIZE,\n  accountDiscriminator,\n  accountSize,\n} from \"../../coder\";\nimport { Subscription, Address, translateAddress } from \"../common\";\nimport { getProvider } from \"../../\";\nimport * as pubkeyUtil from \"../../utils/pubkey\";\n\nexport default class AccountFactory {\n  public static build(\n    idl: Idl,\n    coder: Coder,\n    programId: PublicKey,\n    provider: Provider\n  ): AccountNamespace {\n    const accountFns: AccountNamespace = {};\n\n    idl.accounts.forEach((idlAccount) => {\n      const name = camelCase(idlAccount.name);\n      accountFns[name] = new AccountClient(\n        idl,\n        idlAccount,\n        programId,\n        provider,\n        coder\n      );\n    });\n\n    return accountFns;\n  }\n}\n\n/**\n * The namespace provides handles to an [[AccountClient]] object for each\n * account in a program.\n *\n * ## Usage\n *\n * ```javascript\n * account.<account-client>\n * ```\n *\n * ## Example\n *\n * To fetch a `Counter` account from the above example,\n *\n * ```javascript\n * const counter = await program.account.counter.fetch(address);\n * ```\n *\n * For the full API, see the [[AccountClient]] reference.\n */\nexport interface AccountNamespace {\n  [key: string]: AccountClient;\n}\n\nexport class AccountClient {\n  /**\n   * Returns the number of bytes in this account.\n   */\n  get size(): number {\n    return this._size;\n  }\n  private _size: number;\n\n  /**\n   * Returns the program ID owning all accounts.\n   */\n  get programId(): PublicKey {\n    return this._programId;\n  }\n  private _programId: PublicKey;\n\n  /**\n   * Returns the client's wallet and network provider.\n   */\n  get provider(): Provider {\n    return this._provider;\n  }\n  private _provider: Provider;\n\n  /**\n   * Returns the coder.\n   */\n  get coder(): Coder {\n    return this._coder;\n  }\n  private _coder: Coder;\n\n  private _idlAccount: IdlTypeDef;\n\n  constructor(\n    idl: Idl,\n    idlAccount: IdlTypeDef,\n    programId: PublicKey,\n    provider?: Provider,\n    coder?: Coder\n  ) {\n    this._idlAccount = idlAccount;\n    this._programId = programId;\n    this._provider = provider ?? getProvider();\n    this._coder = coder ?? new Coder(idl);\n    this._size = ACCOUNT_DISCRIMINATOR_SIZE + accountSize(idl, idlAccount);\n  }\n\n  /**\n   * Returns a deserialized account.\n   *\n   * @param address The address of the account to fetch.\n   */\n  async fetch(address: Address): Promise<Object> {\n    const accountInfo = await this._provider.connection.getAccountInfo(\n      translateAddress(address)\n    );\n    if (accountInfo === null) {\n      throw new Error(`Account does not exist ${address.toString()}`);\n    }\n\n    // Assert the account discriminator is correct.\n    const discriminator = await accountDiscriminator(this._idlAccount.name);\n    if (discriminator.compare(accountInfo.data.slice(0, 8))) {\n      throw new Error(\"Invalid account discriminator\");\n    }\n\n    return this._coder.accounts.decode(this._idlAccount.name, accountInfo.data);\n  }\n\n  /**\n   * Returns all instances of this account type for the program.\n   */\n  async all(filter?: Buffer): Promise<ProgramAccount<any>[]> {\n    let bytes = await accountDiscriminator(this._idlAccount.name);\n    if (filter !== undefined) {\n      bytes = Buffer.concat([bytes, filter]);\n    }\n\n    let resp = await this._provider.connection.getProgramAccounts(\n      this._programId,\n      {\n        commitment: this._provider.connection.commitment,\n        filters: [\n          {\n            memcmp: {\n              offset: 0,\n              bytes: bs58.encode(bytes),\n            },\n          },\n        ],\n      }\n    );\n    return resp.map(({ pubkey, account }) => {\n      return {\n        publicKey: pubkey,\n        account: this._coder.accounts.decode(\n          this._idlAccount.name,\n          account.data\n        ),\n      };\n    });\n  }\n\n  /**\n   * Returns an `EventEmitter` emitting a \"change\" event whenever the account\n   * changes.\n   */\n  subscribe(address: Address, commitment?: Commitment): EventEmitter {\n    if (subscriptions.get(address.toString())) {\n      return subscriptions.get(address.toString()).ee;\n    }\n\n    const ee = new EventEmitter();\n    address = translateAddress(address);\n    const listener = this._provider.connection.onAccountChange(\n      address,\n      (acc) => {\n        const account = this._coder.accounts.decode(\n          this._idlAccount.name,\n          acc.data\n        );\n        ee.emit(\"change\", account);\n      },\n      commitment\n    );\n\n    subscriptions.set(address.toString(), {\n      ee,\n      listener,\n    });\n\n    return ee;\n  }\n\n  /**\n   * Unsubscribes from the account at the given address.\n   */\n  unsubscribe(address: Address) {\n    let sub = subscriptions.get(address.toString());\n    if (!sub) {\n      console.warn(\"Address is not subscribed\");\n      return;\n    }\n    if (subscriptions) {\n      this._provider.connection\n        .removeAccountChangeListener(sub.listener)\n        .then(() => {\n          subscriptions.delete(address.toString());\n        })\n        .catch(console.error);\n    }\n  }\n\n  /**\n   * Returns an instruction for creating this account.\n   */\n  async createInstruction(\n    signer: Signer,\n    sizeOverride?: number\n  ): Promise<TransactionInstruction> {\n    const size = this.size;\n\n    return SystemProgram.createAccount({\n      fromPubkey: this._provider.wallet.publicKey,\n      newAccountPubkey: signer.publicKey,\n      space: sizeOverride ?? size,\n      lamports:\n        await this._provider.connection.getMinimumBalanceForRentExemption(\n          sizeOverride ?? size\n        ),\n      programId: this._programId,\n    });\n  }\n\n  /**\n   * Function returning the associated account. Args are keys to associate.\n   * Order matters.\n   */\n  async associated(...args: Array<PublicKey | Buffer>): Promise<any> {\n    const addr = await this.associatedAddress(...args);\n    return await this.fetch(addr);\n  }\n\n  /**\n   * Function returning the associated address. Args are keys to associate.\n   * Order matters.\n   */\n  async associatedAddress(\n    ...args: Array<PublicKey | Buffer>\n  ): Promise<PublicKey> {\n    return await pubkeyUtil.associated(this._programId, ...args);\n  }\n}\n\n/**\n * @hidden\n *\n * Deserialized account owned by a program.\n */\nexport type ProgramAccount<T = any> = {\n  publicKey: PublicKey;\n  account: T;\n};\n\n// Tracks all subscriptions.\nconst subscriptions: Map<string, Subscription> = new Map();\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1941, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/event.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/event.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\nimport * as assert from \"assert\";\nimport Coder from \"../coder\";\n\nconst LOG_START_INDEX = \"Program log: \".length;\n\n// Deserialized event.\nexport type Event = {\n  name: string;\n  data: Object;\n};\n\nexport class EventParser {\n  private coder: Coder;\n  private programId: PublicKey;\n\n  constructor(coder: Coder, programId: PublicKey) {\n    this.coder = coder;\n    this.programId = programId;\n  }\n\n  // Each log given, represents an array of messages emitted by\n  // a single transaction, which can execute many different programs across\n  // CPI boundaries. However, the subscription is only interested in the\n  // events emitted by *this* program. In achieving this, we keep track of the\n  // program execution context by parsing each log and looking for a CPI\n  // `invoke` call. If one exists, we know a new program is executing. So we\n  // push the programId onto a stack and switch the program context. This\n  // allows us to track, for a given log, which program was executing during\n  // its emission, thereby allowing us to know if a given log event was\n  // emitted by *this* program. If it was, then we parse the raw string and\n  // emit the event if the string matches the event being subscribed to.\n  public parseLogs(logs: string[], callback: (log: Event) => void) {\n    const logScanner = new LogScanner(logs);\n    const execution = new ExecutionContext(logScanner.next() as string);\n    let log = logScanner.next();\n    while (log !== null) {\n      let [event, newProgram, didPop] = this.handleLog(execution, log);\n      if (event) {\n        callback(event);\n      }\n      if (newProgram) {\n        execution.push(newProgram);\n      }\n      if (didPop) {\n        execution.pop();\n      }\n      log = logScanner.next();\n    }\n  }\n\n  // Main log handler. Returns a three element array of the event, the\n  // next program that was invoked for CPI, and a boolean indicating if\n  // a program has completed execution (and thus should be popped off the\n  // execution stack).\n  private handleLog(\n    execution: ExecutionContext,\n    log: string\n  ): [Event | null, string | null, boolean] {\n    // Executing program is this program.\n    if (execution.program() === this.programId.toString()) {\n      return this.handleProgramLog(log);\n    }\n    // Executing program is not this program.\n    else {\n      return [null, ...this.handleSystemLog(log)];\n    }\n  }\n\n  // Handles logs from *this* program.\n  private handleProgramLog(\n    log: string\n  ): [Event | null, string | null, boolean] {\n    // This is a `msg!` log.\n    if (log.startsWith(\"Program log:\")) {\n      const logStr = log.slice(LOG_START_INDEX);\n      const event = this.coder.events.decode(logStr);\n      return [event, null, false];\n    }\n    // System log.\n    else {\n      return [null, ...this.handleSystemLog(log)];\n    }\n  }\n\n  // Handles logs when the current program being executing is *not* this.\n  private handleSystemLog(log: string): [string | null, boolean] {\n    // System component.\n    const logStart = log.split(\":\")[0];\n\n    // Did the program finish executing?\n    if (\n      logStart.match(/^Program (.*) success/g) !== null\n    ) {\n      return [null, true];\n    // Recursive call.\n    } else if (\n      logStart.startsWith(`Program ${this.programId.toString()} invoke`)\n    ) {\n      return [this.programId.toString(), false];\n    }\n    // CPI call.\n    else if (logStart.includes(\"invoke\")) {\n      return [\"cpi\", false]; // Any string will do.\n    } else {\n      return [null, false];\n    }\n  }\n}\n\n// Stack frame execution context, allowing one to track what program is\n// executing for a given log.\nclass ExecutionContext {\n  stack: string[];\n\n  constructor(log: string) {\n    // Assumes the first log in every transaction is an `invoke` log from the\n    // runtime.\n    const program = /^Program (.*) invoke.*$/g.exec(log)[1];\n    this.stack = [program];\n  }\n\n  program(): string {\n    assert.ok(this.stack.length > 0);\n    return this.stack[this.stack.length - 1];\n  }\n\n  push(newProgram: string) {\n    this.stack.push(newProgram);\n  }\n\n  pop() {\n    assert.ok(this.stack.length > 0);\n    this.stack.pop();\n  }\n}\n\nclass LogScanner {\n  constructor(public logs: string[]) {}\n\n  next(): string | null {\n    if (this.logs.length === 0) {\n      return null;\n    }\n    let l = this.logs[0];\n    this.logs = this.logs.slice(1);\n    return l;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2084, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/simulate.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/simulate.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\nimport Provider from \"../../provider\";\nimport { IdlInstruction } from \"../../idl\";\nimport { splitArgsAndCtx } from \"../context\";\nimport { TransactionFn } from \"./transaction\";\nimport { EventParser, Event } from \"../event\";\nimport Coder from \"../../coder\";\nimport { Idl } from \"../../idl\";\nimport { ProgramError } from \"../../error\";\n\nexport default class SimulateFactory {\n  public static build(\n    idlIx: IdlInstruction,\n    txFn: TransactionFn,\n    idlErrors: Map<number, string>,\n    provider: Provider,\n    coder: Coder,\n    programId: PublicKey,\n    idl: Idl\n  ): SimulateFn {\n    const simulate = async (...args: any[]): Promise<SimulateResponse> => {\n      const tx = txFn(...args);\n      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);\n      let resp = undefined;\n      try {\n        resp = await provider.simulate(tx, ctx.signers, ctx.options);\n      } catch (err) {\n        console.log(\"Translating error\", err);\n        let translatedErr = ProgramError.parse(err, idlErrors);\n        if (translatedErr === null) {\n          throw err;\n        }\n        throw translatedErr;\n      }\n      if (resp === undefined) {\n        throw new Error(\"Unable to simulate transaction\");\n      }\n      if (resp.value.err) {\n        throw new Error(`Simulate error: ${resp.value.err.toString()}`);\n      }\n      const logs = resp.value.logs;\n      if (!logs) {\n        throw new Error(\"Simulated logs not found\");\n      }\n\n      const events = [];\n      if (idl.events) {\n        let parser = new EventParser(coder, programId);\n        parser.parseLogs(logs, (event) => {\n          events.push(event);\n        });\n      }\n      return { events, raw: logs };\n    };\n\n    return simulate;\n  }\n}\n\n/**\n * The namespace provides functions to simulate transactions for each method\n * of a program, returning a list of deserialized events *and* raw program\n * logs.\n *\n * One can use this to read data calculated from a program on chain, by\n * emitting an event in the program and reading the emitted event client side\n * via the `simulate` namespace.\n *\n * ## Usage\n *\n * ```javascript\n * program.simulate.<method>(...args, ctx);\n * ```\n *\n * ## Parameters\n *\n * 1. `args` - The positional arguments for the program. The type and number\n *    of these arguments depend on the program being used.\n * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n *    Always the last parameter in the method call.\n *\n * ## Example\n *\n * To simulate the `increment` method above,\n *\n * ```javascript\n * const events = await program.simulate.increment({\n *   accounts: {\n *     counter,\n *   },\n * });\n * ```\n */\nexport interface SimulateNamespace {\n  [key: string]: SimulateFn;\n}\n\n/**\n * RpcFn is a single method generated from an IDL. It simulates a method\n * against a cluster configured by the provider, returning a list of all the\n * events and raw logs that were emitted during the execution of the\n * method.\n */\nexport type SimulateFn = (...args: any[]) => Promise<SimulateResponse>;\n\ntype SimulateResponse = {\n  events: Event[];\n  raw: string[];\n};\n"],"names":[],"mappings":";;;;AAGA,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAE7C,OAAO,EAAE,WAAW,EAAS,MAAM,UAAU,CAAC;AAG9C,OAAO,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;;;;AAE7B,MAAO,eAAe;IAC3B,MAAM,CAAC,KAAK,CACjB,KAAqB,EACrB,IAAmB,EACnB,SAA8B,EAC9B,QAAkB,EAClB,KAAY,EACZ,SAAoB,EACpB,GAAQ,EAAA;QAER,MAAM,QAAQ,GAAG,KAAK,EAAE,GAAG,IAAW,EAA6B,EAAE;YACnE,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,OAAG,uTAAe,EAAC,KAAK,EAAE,CAAC;mBAAG,IAAI;aAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAAG,SAAS,CAAC;YACrB,IAAI;gBACF,IAAI,GAAG,MAAM,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;aAC9D,CAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;gBACtC,IAAI,aAAa,GAAG,uSAAY,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBACvD,IAAI,aAAa,KAAK,IAAI,EAAE;oBAC1B,MAAM,GAAG,CAAC;iBACX;gBACD,MAAM,aAAa,CAAC;aACrB;YACD,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;aACnD;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE;gBAClB,MAAM,IAAI,KAAK,CAAC,CAAA,gBAAA,EAAmB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;aACjE;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAC7B,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,MAAM,MAAM,GAAG,EAAE,CAAC;YAClB,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,iTAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gBAC/C,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,KAAK,EAAE,EAAE;oBAC/B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC;aACJ;YACD,OAAO;gBAAE,MAAM;gBAAE,GAAG,EAAE,IAAI;YAAA,CAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF"}},
    {"offset": {"line": 2141, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/namespace/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/namespace/index.ts"],"sourcesContent":["import camelCase from \"camelcase\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport Coder from \"../../coder\";\nimport Provider from \"../../provider\";\nimport { Idl } from \"../../idl\";\nimport StateFactory, { StateClient } from \"./state\";\nimport InstructionFactory, { InstructionNamespace } from \"./instruction\";\nimport TransactionFactory, { TransactionNamespace } from \"./transaction\";\nimport RpcFactory, { RpcNamespace } from \"./rpc\";\nimport AccountFactory, { AccountNamespace } from \"./account\";\nimport SimulateFactory, { SimulateNamespace } from \"./simulate\";\nimport { parseIdlErrors } from \"../common\";\n\n// Re-exports.\nexport { StateClient } from \"./state\";\nexport { InstructionNamespace, InstructionFn } from \"./instruction\";\nexport { TransactionNamespace, TransactionFn } from \"./transaction\";\nexport { RpcNamespace, RpcFn } from \"./rpc\";\nexport { AccountNamespace, AccountClient, ProgramAccount } from \"./account\";\nexport { SimulateNamespace, SimulateFn } from \"./simulate\";\n\nexport default class NamespaceFactory {\n  /**\n   * Generates all namespaces for a given program.\n   */\n  public static build(\n    idl: Idl,\n    coder: Coder,\n    programId: PublicKey,\n    provider: Provider\n  ): [\n    RpcNamespace,\n    InstructionNamespace,\n    TransactionNamespace,\n    AccountNamespace,\n    SimulateNamespace,\n    StateClient\n  ] {\n    const rpc: RpcNamespace = {};\n    const instruction: InstructionNamespace = {};\n    const transaction: TransactionNamespace = {};\n    const simulate: SimulateNamespace = {};\n\n    const idlErrors = parseIdlErrors(idl);\n\n    const state = StateFactory.build(idl, coder, programId, provider);\n\n    idl.instructions.forEach((idlIx) => {\n      const ixItem = InstructionFactory.build(\n        idlIx,\n        (ixName: string, ix: any) => coder.instruction.encode(ixName, ix),\n        programId\n      );\n      const txItem = TransactionFactory.build(idlIx, ixItem);\n      const rpcItem = RpcFactory.build(idlIx, txItem, idlErrors, provider);\n      const simulateItem = SimulateFactory.build(\n        idlIx,\n        txItem,\n        idlErrors,\n        provider,\n        coder,\n        programId,\n        idl\n      );\n\n      const name = camelCase(idlIx.name);\n\n      instruction[name] = ixItem;\n      transaction[name] = txItem;\n      rpc[name] = rpcItem;\n      simulate[name] = simulateItem;\n    });\n\n    const account = idl.accounts\n      ? AccountFactory.build(idl, coder, programId, provider)\n      : {};\n\n    return [rpc, instruction, transaction, account, simulate, state];\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,SAAS,MAAM,WAAW,CAAC;AAKlC,OAAO,YAA6B,MAAM,SAAS,CAAC;AACpD,OAAO,kBAA4C,MAAM,eAAe,CAAC;AACzE,OAAO,kBAA4C,MAAM,eAAe,CAAC;AACzE,OAAO,UAA4B,MAAM,OAAO,CAAC;AACjD,OAAO,cAAoC,MAAM,WAAW,CAAC;AAC7D,OAAO,eAAsC,MAAM,YAAY,CAAC;AAChE,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;;;;;;;;;;;AAU7B,MAAO,gBAAgB;IACnC;;OAEG,CACI,MAAM,CAAC,KAAK,CACjB,GAAQ,EACR,KAAY,EACZ,SAAoB,EACpB,QAAkB,EAAA;QASlB,MAAM,GAAG,GAAiB,CAAA,CAAE,CAAC;QAC7B,MAAM,WAAW,GAAyB,CAAA,CAAE,CAAC;QAC7C,MAAM,WAAW,GAAyB,CAAA,CAAE,CAAC;QAC7C,MAAM,QAAQ,GAAsB,CAAA,CAAE,CAAC;QAEvC,MAAM,SAAS,OAAG,qTAAc,EAAC,GAAG,CAAC,CAAC;QAEtC,MAAM,KAAK,GAAG,0TAAY,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;QAElE,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACjC,MAAM,MAAM,GAAG,gUAAkB,CAAC,KAAK,CACrC,KAAK,EACL,CAAC,MAAc,EAAE,EAAO,EAAE,CAAG,CAAD,IAAM,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EACjE,SAAS,CACV,CAAC;YACF,MAAM,MAAM,GAAG,gUAAkB,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;YACvD,MAAM,OAAO,GAAG,wTAAU,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;YACrE,MAAM,YAAY,GAAG,6TAAe,CAAC,KAAK,CACxC,KAAK,EACL,MAAM,EACN,SAAS,EACT,QAAQ,EACR,KAAK,EACL,SAAS,EACT,GAAG,CACJ,CAAC;YAEF,MAAM,IAAI,OAAG,kNAAS,EAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAEnC,WAAW,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;YAC3B,WAAW,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;YAC3B,GAAG,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC;YACpB,QAAQ,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,MAAM,OAAO,GAAG,GAAG,CAAC,QAAQ,GACxB,4TAAc,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,CAAC,GACrD,CAAA,CAAE,CAAC;QAEP,OAAO;YAAC,GAAG;YAAE,WAAW;YAAE,WAAW;YAAE,OAAO;YAAE,QAAQ;YAAE,KAAK;SAAC,CAAC;IACnE,CAAC;CACF"}},
    {"offset": {"line": 2199, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/bytes/hex.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/bytes/hex.ts"],"sourcesContent":["export function encode(data: Buffer): string {\n  return data.reduce(\n    (str, byte) => str + byte.toString(16).padStart(2, \"0\"),\n    \"0x\"\n  );\n}\n\nexport function decode(data: string): Buffer {\n  if (data.indexOf(\"0x\") === 0) {\n    data = data.substr(2);\n  }\n  if (data.length % 2 === 1) {\n    data = \"0\" + data;\n  }\n\n  let key = data.match(/.{2}/g);\n\n  if (key === null) {\n    return Buffer.from([]);\n  }\n\n  return Buffer.from(key.map((byte) => parseInt(byte, 16)));\n}\n"],"names":[],"mappings":";;;;;;AAAM,SAAU,MAAM,CAAC,IAAY;IACjC,OAAO,IAAI,CAAC,MAAM,CAChB,CAAC,GAAG,EAAE,IAAI,EAAE,CAAG,CAAD,EAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EACvD,IAAI,CACL,CAAC;AACJ,CAAC;AAEK,SAAU,MAAM,CAAC,IAAY;IACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC5B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACvB;IACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KACnB;IAED,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAE9B,IAAI,GAAG,KAAK,IAAI,EAAE;QAChB,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB;IAED,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAG,CAAD,OAAS,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5D,CAAC"}},
    {"offset": {"line": 2225, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/bytes/utf8.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/bytes/utf8.ts"],"sourcesContent":["export function decode(array: Uint8Array): string {\n  const decoder =\n    typeof TextDecoder === \"undefined\"\n      ? new (require(\"util\").TextDecoder)(\"utf-8\") // Node.\n      : new TextDecoder(\"utf-8\"); // Browser.\n  return decoder.decode(array);\n}\n\nexport function encode(input: string): Uint8Array {\n  const encoder =\n    typeof TextEncoder === \"undefined\"\n      ? new (require(\"util\").TextEncoder)(\"utf-8\") // Node.\n      : new TextEncoder(); // Browser.\n  return encoder.encode(input);\n}\n"],"names":[],"mappings":";;;;;;AAAM,SAAU,MAAM,CAAC,KAAiB;IACtC,MAAM,OAAO,GACX,OAAO,WAAW,KAAK,WAAW,GAC9B,IAAI,AAAC,OAAO,CAAC,MAAM,CAAC,sDAAC,WAAW,CAAC,AAAC,OAAO,CAAC,CAAC,QAAQ;OACnD,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,WAAW;IAC3C,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAEK,SAAU,MAAM,CAAC,KAAa;IAClC,MAAM,OAAO,GACX,OAAO,WAAW,KAAK,WAAW,GAC9B,IAAI,AAAC,OAAO,CAAC,MAAM,CAAC,sDAAC,WAAW,CAAC,AAAC,OAAO,CAAC,CAAC,QAAQ;OACnD,IAAI,WAAW,EAAE,CAAC,CAAC,WAAW;IACpC,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC"}},
    {"offset": {"line": 2245, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/bytes/bs58.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/bytes/bs58.ts"],"sourcesContent":["import * as bs58 from \"bs58\";\n\nexport function encode(data: Buffer | number[] | Uint8Array) {\n  return bs58.encode(data);\n}\n\nexport function decode(data: string) {\n  return bs58.decode(data);\n}\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,KAAK,IAAI,MAAM,MAAM,CAAC;;AAEvB,SAAU,MAAM,CAAC,IAAoC;IACzD,OAAO,IAAI,CAAC,kMAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAEK,SAAU,MAAM,CAAC,IAAY;IACjC,OAAO,IAAI,CAAC,kMAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC"}},
    {"offset": {"line": 2263, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/bytes/base64.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/bytes/base64.ts"],"sourcesContent":["import * as base64 from \"base64-js\";\n\nexport function encode(data: Buffer): string {\n  return base64.fromByteArray(data);\n}\n\nexport function decode(data: string): Buffer {\n  return Buffer.from(base64.toByteArray(data));\n}\n"],"names":[],"mappings":";;;;;;AAAA,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;;AAE9B,SAAU,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,uNAAa,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAEK,SAAU,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,qNAAW,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/C,CAAC"}},
    {"offset": {"line": 2281, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/bytes/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/bytes/index.ts"],"sourcesContent":["export * as hex from \"./hex\";\nexport * as utf8 from \"./utf8\";\nexport * as bs58 from \"./bs58\";\nexport * as base64 from \"./base64\";\n"],"names":[],"mappings":";uBAAqB,OAAO;wBACN,QAAQ;wBACR,QAAQ;0BACN,UAAU"}},
    {"offset": {"line": 2308, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/program/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/program/index.ts"],"sourcesContent":["import { inflate } from \"pako\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport Provider from \"../provider\";\nimport { Idl, idlAddress, decodeIdlAccount } from \"../idl\";\nimport Coder from \"../coder\";\nimport NamespaceFactory, {\n  RpcNamespace,\n  InstructionNamespace,\n  TransactionNamespace,\n  AccountNamespace,\n  StateClient,\n  SimulateNamespace,\n} from \"./namespace\";\nimport { getProvider } from \"../\";\nimport { utf8 } from \"../utils/bytes\";\nimport { EventParser } from \"./event\";\nimport { Address, translateAddress } from \"./common\";\n\n/**\n * ## Program\n *\n * Program provides the IDL deserialized client representation of an Anchor\n * program.\n *\n * This API is the one stop shop for all things related to communicating with\n * on-chain programs. Among other things, one can send transactions, fetch\n * deserialized accounts, decode instruction data, subscribe to account\n * changes, and listen to events.\n *\n * In addition to field accessors and methods, the object provides a set of\n * dynamically generated properties, also known as namespaces, that\n * map one-to-one to program methods and accounts. These namespaces generally\n *  can be used as follows:\n *\n * ## Usage\n *\n * ```javascript\n * program.<namespace>.<program-specific-method>\n * ```\n *\n * API specifics are namespace dependent. The examples used in the documentation\n * below will refer to the two counter examples found\n * [here](https://github.com/project-serum/anchor#examples).\n */\nexport class Program {\n  /**\n   * Async methods to send signed transactions to *non*-state methods on the\n   * program, returning a [[TransactionSignature]].\n   *\n   * ## Usage\n   *\n   * ```javascript\n   * rpc.<method>(...args, ctx);\n   * ```\n   *\n   * ## Parameters\n   *\n   * 1. `args` - The positional arguments for the program. The type and number\n   *    of these arguments depend on the program being used.\n   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n   *    Always the last parameter in the method call.\n   *\n   * ## Example\n   *\n   * To send a transaction invoking the `increment` method above,\n   *\n   * ```javascript\n   * const txSignature = await program.rpc.increment({\n   *   accounts: {\n   *     counter,\n   *     authority,\n   *   },\n   * });\n   * ```\n   */\n  readonly rpc: RpcNamespace;\n\n  /**\n   * The namespace provides handles to an [[AccountClient]] object for each\n   * account in the program.\n   *\n   * ## Usage\n   *\n   * ```javascript\n   * program.account.<account-client>\n   * ```\n   *\n   * ## Example\n   *\n   * To fetch a `Counter` account from the above example,\n   *\n   * ```javascript\n   * const counter = await program.account.counter.fetch(address);\n   * ```\n   *\n   * For the full API, see the [[AccountClient]] reference.\n   */\n  readonly account: AccountNamespace;\n\n  /**\n   * The namespace provides functions to build [[TransactionInstruction]]\n   * objects for each method of a program.\n   *\n   * ## Usage\n   *\n   * ```javascript\n   * program.instruction.<method>(...args, ctx);\n   * ```\n   *\n   * ## Parameters\n   *\n   * 1. `args` - The positional arguments for the program. The type and number\n   *    of these arguments depend on the program being used.\n   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n   *    Always the last parameter in the method call.\n   *\n   * ## Example\n   *\n   * To create an instruction for the `increment` method above,\n   *\n   * ```javascript\n   * const tx = await program.instruction.increment({\n   *   accounts: {\n   *     counter,\n   *   },\n   * });\n   * ```\n   */\n  readonly instruction: InstructionNamespace;\n\n  /**\n   * The namespace provides functions to build [[Transaction]] objects for each\n   * method of a program.\n   *\n   * ## Usage\n   *\n   * ```javascript\n   * program.transaction.<method>(...args, ctx);\n   * ```\n   *\n   * ## Parameters\n   *\n   * 1. `args` - The positional arguments for the program. The type and number\n   *    of these arguments depend on the program being used.\n   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n   *    Always the last parameter in the method call.\n   *\n   * ## Example\n   *\n   * To create an instruction for the `increment` method above,\n   *\n   * ```javascript\n   * const tx = await program.transaction.increment({\n   *   accounts: {\n   *     counter,\n   *   },\n   * });\n   * ```\n   */\n  readonly transaction: TransactionNamespace;\n\n  /**\n   * The namespace provides functions to simulate transactions for each method\n   * of a program, returning a list of deserialized events *and* raw program\n   * logs.\n   *\n   * One can use this to read data calculated from a program on chain, by\n   * emitting an event in the program and reading the emitted event client side\n   * via the `simulate` namespace.\n   *\n   * ## simulate\n   *\n   * ```javascript\n   * program.simulate.<method>(...args, ctx);\n   * ```\n   *\n   * ## Parameters\n   *\n   * 1. `args` - The positional arguments for the program. The type and number\n   *    of these arguments depend on the program being used.\n   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.\n   *    Always the last parameter in the method call.\n   *\n   * ## Example\n   *\n   * To simulate the `increment` method above,\n   *\n   * ```javascript\n   * const events = await program.simulate.increment({\n   *   accounts: {\n   *     counter,\n   *   },\n   * });\n   * ```\n   */\n  readonly simulate: SimulateNamespace;\n\n  /**\n   * A client for the program state. Similar to the base [[Program]] client,\n   * one can use this to send transactions and read accounts for the state\n   * abstraction.\n   */\n  readonly state: StateClient;\n\n  /**\n   * Address of the program.\n   */\n  public get programId(): PublicKey {\n    return this._programId;\n  }\n  private _programId: PublicKey;\n\n  /**\n   * IDL defining the program's interface.\n   */\n  public get idl(): Idl {\n    return this._idl;\n  }\n  private _idl: Idl;\n\n  /**\n   * Coder for serializing requests.\n   */\n  public get coder(): Coder {\n    return this._coder;\n  }\n  private _coder: Coder;\n\n  /**\n   * Wallet and network provider.\n   */\n  public get provider(): Provider {\n    return this._provider;\n  }\n  private _provider: Provider;\n\n  /**\n   * @param idl       The interface definition.\n   * @param programId The on-chain address of the program.\n   * @param provider  The network and wallet context to use. If not provided\n   *                  then uses [[getProvider]].\n   */\n  public constructor(idl: Idl, programId: Address, provider?: Provider) {\n    programId = translateAddress(programId);\n\n    // Fields.\n    this._idl = idl;\n    this._programId = programId;\n    this._provider = provider ?? getProvider();\n    this._coder = new Coder(idl);\n\n    // Dynamic namespaces.\n    const [rpc, instruction, transaction, account, simulate, state] =\n      NamespaceFactory.build(idl, this._coder, programId, this._provider);\n    this.rpc = rpc;\n    this.instruction = instruction;\n    this.transaction = transaction;\n    this.account = account;\n    this.simulate = simulate;\n    this.state = state;\n  }\n\n  /**\n   * Generates a Program client by fetching the IDL from the network.\n   *\n   * In order to use this method, an IDL must have been previously initialized\n   * via the anchor CLI's `anchor idl init` command.\n   *\n   * @param programId The on-chain address of the program.\n   * @param provider  The network and wallet context.\n   */\n  public static async at(address: Address, provider?: Provider) {\n    const programId = translateAddress(address);\n\n    const idl = await Program.fetchIdl(programId, provider);\n    return new Program(idl, programId, provider);\n  }\n\n  /**\n   * Fetches an idl from the blockchain.\n   *\n   * In order to use this method, an IDL must have been previously initialized\n   * via the anchor CLI's `anchor idl init` command.\n   *\n   * @param programId The on-chain address of the program.\n   * @param provider  The network and wallet context.\n   */\n  public static async fetchIdl(address: Address, provider?: Provider) {\n    provider = provider ?? getProvider();\n    const programId = translateAddress(address);\n\n    const idlAddr = await idlAddress(programId);\n    const accountInfo = await provider.connection.getAccountInfo(idlAddr);\n    // Chop off account discriminator.\n    let idlAccount = decodeIdlAccount(accountInfo.data.slice(8));\n    const inflatedIdl = inflate(idlAccount.data);\n    return JSON.parse(utf8.decode(inflatedIdl));\n  }\n\n  /**\n   * Invokes the given callback every time the given event is emitted.\n   *\n   * @param eventName The PascalCase name of the event, provided by the IDL.\n   * @param callback  The function to invoke whenever the event is emitted from\n   *                  program logs.\n   */\n  public addEventListener(\n    eventName: string,\n    callback: (event: any, slot: number) => void\n  ): number {\n    const eventParser = new EventParser(this._coder, this._programId);\n    return this._provider.connection.onLogs(this._programId, (logs, ctx) => {\n      if (logs.err) {\n        console.error(logs);\n        return;\n      }\n      eventParser.parseLogs(logs.logs, (event) => {\n        if (event.name === eventName) {\n          callback(event.data, ctx.slot);\n        }\n      });\n    });\n  }\n\n  /**\n   * Unsubscribes from the given event listener.\n   */\n  public async removeEventListener(listener: number): Promise<void> {\n    return this._provider.connection.removeOnLogsListener(listener);\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2433, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/workspace.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/workspace.ts"],"sourcesContent":["import camelCase from \"camelcase\";\nimport * as toml from \"toml\";\nimport { PublicKey } from \"@solana/web3.js\";\nimport { Program } from \"./program\";\nimport { Idl } from \"./idl\";\nimport { isBrowser } from \"./utils/common\";\n\nlet _populatedWorkspace = false;\n\n/**\n * The `workspace` namespace provides a convenience API to automatically\n * search for and deserialize [[Program]] objects defined by compiled IDLs\n * in an Anchor workspace.\n *\n * This API is for Node only.\n */\nconst workspace = new Proxy({} as any, {\n  get(workspaceCache: { [key: string]: Program }, programName: string) {\n    if (isBrowser) {\n      console.log(\"Workspaces aren't available in the browser\");\n      return undefined;\n    }\n\n    const fs = require(\"fs\");\n    const process = require(\"process\");\n\n    if (!_populatedWorkspace) {\n      const path = require(\"path\");\n\n      let projectRoot = process.cwd();\n      while (!fs.existsSync(path.join(projectRoot, \"Anchor.toml\"))) {\n        const parentDir = path.dirname(projectRoot);\n        if (parentDir === projectRoot) {\n          projectRoot = undefined;\n        }\n        projectRoot = parentDir;\n      }\n\n      if (projectRoot === undefined) {\n        throw new Error(\"Could not find workspace root.\");\n      }\n\n      const idlFolder = `${projectRoot}/target/idl`;\n      if (!fs.existsSync(idlFolder)) {\n        throw new Error(`${idlFolder} doesn't exist. Did you use \"anchor build\"?`);\n      }\n\n      const idlMap = new Map<string, Idl>();\n      fs.readdirSync(idlFolder).forEach(file => {\n        const filePath = `${idlFolder}/${file}`;\n        const idlStr = fs.readFileSync(filePath);\n        const idl = JSON.parse(idlStr);\n        idlMap.set(idl.name, idl);\n        const name = camelCase(idl.name, {pascalCase: true});\n        if (idl.metadata && idl.metadata.address) {\n          workspaceCache[name] = new Program(\n            idl,\n            new PublicKey(idl.metadata.address)\n          );\n        }\n      });\n\n      // Override the workspace programs if the user put them in the config.\n      const anchorToml = toml.parse(\n        fs.readFileSync(path.join(projectRoot, \"Anchor.toml\"), \"utf-8\")\n      );\n      const clusterId = anchorToml.provider.cluster;\n      if (anchorToml.clusters && anchorToml.clusters[clusterId]) {\n        attachWorkspaceOverride(\n          workspaceCache,\n          anchorToml.clusters[clusterId],\n          idlMap\n        );\n      }\n\n      _populatedWorkspace = true;\n    }\n\n    return workspaceCache[programName];\n  },\n});\n\nfunction attachWorkspaceOverride(\n  workspaceCache: { [key: string]: Program },\n  overrideConfig: { [key: string]: string | { address: string; idl?: string } },\n  idlMap: Map<string, Idl>\n) {\n  Object.keys(overrideConfig).forEach((programName) => {\n    const wsProgramName = camelCase(programName, { pascalCase: true });\n    const entry = overrideConfig[programName];\n    const overrideAddress = new PublicKey(\n      typeof entry === \"string\" ? entry : entry.address\n    );\n    let idl = idlMap.get(programName);\n    if (typeof entry !== \"string\" && entry.idl) {\n      idl = JSON.parse(require(\"fs\").readFileSync(entry.idl, \"utf-8\"));\n    }\n    workspaceCache[wsProgramName] = new Program(idl, overrideAddress);\n  });\n}\n\nexport default workspace;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2523, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/sha256.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/sha256.ts"],"sourcesContent":["import { sha256 } from \"js-sha256\";\n\nexport function hash(data: string): string {\n  return sha256(data);\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;;AAE7B,SAAU,IAAI,CAAC,IAAY;IAC/B,WAAO,+NAAM,EAAC,IAAI,CAAC,CAAC;AACtB,CAAC"}},
    {"offset": {"line": 2536, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/rpc.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/rpc.ts"],"sourcesContent":["import assert from \"assert\";\nimport {\n  AccountInfo,\n  AccountMeta,\n  Connection,\n  PublicKey,\n  TransactionSignature,\n  Transaction,\n  TransactionInstruction,\n} from \"@solana/web3.js\";\nimport { Address, translateAddress } from \"../program/common\";\nimport Provider, { getProvider } from \"../provider\";\n\n/**\n * Sends a transaction to a program with the given accounts and instruction\n * data.\n */\nexport async function invoke(\n  programId: Address,\n  accounts?: Array<AccountMeta>,\n  data?: Buffer,\n  provider?: Provider\n): Promise<TransactionSignature> {\n  programId = translateAddress(programId);\n  if (!provider) {\n    provider = getProvider();\n  }\n\n  const tx = new Transaction();\n  tx.add(\n    new TransactionInstruction({\n      programId,\n      keys: accounts ?? [],\n      data,\n    })\n  );\n\n  return await provider.send(tx);\n}\n\nexport async function getMultipleAccounts(\n  connection: Connection,\n  publicKeys: PublicKey[]\n): Promise<\n  Array<null | { publicKey: PublicKey; account: AccountInfo<Buffer> }>\n> {\n  const args = [publicKeys.map((k) => k.toBase58()), { commitment: \"recent\" }];\n  // @ts-ignore\n  const res = await connection._rpcRequest(\"getMultipleAccounts\", args);\n  if (res.error) {\n    throw new Error(\n      \"failed to get info about accounts \" +\n        publicKeys.map((k) => k.toBase58()).join(\", \") +\n        \": \" +\n        res.error.message\n    );\n  }\n  assert(typeof res.result !== \"undefined\");\n  const accounts: Array<null | {\n    executable: any;\n    owner: PublicKey;\n    lamports: any;\n    data: Buffer;\n  }> = [];\n  for (const account of res.result.value) {\n    let value: {\n      executable: any;\n      owner: PublicKey;\n      lamports: any;\n      data: Buffer;\n    } | null = null;\n    if (account === null) {\n      accounts.push(null);\n      continue;\n    }\n    if (res.result.value) {\n      const { executable, owner, lamports, data } = account;\n      assert(data[1] === \"base64\");\n      value = {\n        executable,\n        owner: new PublicKey(owner),\n        lamports,\n        data: Buffer.from(data[0], \"base64\"),\n      };\n    }\n    if (value === null) {\n      throw new Error(\"Invalid response\");\n    }\n    accounts.push(value);\n  }\n  return accounts.map((account, idx) => {\n    if (account === null) {\n      return null;\n    }\n    return {\n      publicKey: publicKeys[idx],\n      account,\n    };\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2631, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/token.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/token.ts"],"sourcesContent":["import { PublicKey } from \"@solana/web3.js\";\n\nconst TOKEN_PROGRAM_ID = new PublicKey(\n  \"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA\"\n);\nconst ASSOCIATED_PROGRAM_ID = new PublicKey(\n  \"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL\"\n);\n\nexport async function associatedAddress({\n  mint,\n  owner,\n}: {\n  mint: PublicKey;\n  owner: PublicKey;\n}): Promise<PublicKey> {\n  return (\n    await PublicKey.findProgramAddress(\n      [owner.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],\n      ASSOCIATED_PROGRAM_ID\n    )\n  )[0];\n}\n"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;;AAE5C,MAAM,gBAAgB,GAAG,IAAI,uRAAS,CACpC,6CAA6C,CAC9C,CAAC;AACF,MAAM,qBAAqB,GAAG,IAAI,uRAAS,CACzC,8CAA8C,CAC/C,CAAC;AAEK,KAAK,UAAU,iBAAiB,CAAC,EACtC,IAAI,EACJ,KAAK,EAIN;IACC,OAAO,CACL,MAAM,uRAAS,CAAC,kBAAkB,CAChC;QAAC,KAAK,CAAC,QAAQ,EAAE;QAAE,gBAAgB,CAAC,QAAQ,EAAE;QAAE,IAAI,CAAC,QAAQ,EAAE;KAAC,EAChE,qBAAqB,CACtB,CACF,CAAC,CAAC,CAAC,CAAC;AACP,CAAC"}},
    {"offset": {"line": 2650, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/utils/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/utils/index.ts"],"sourcesContent":["export * as sha256 from \"./sha256\";\nexport * as rpc from \"./rpc\";\nexport * as publicKey from \"./pubkey\";\nexport * as bytes from \"./bytes\";\nexport * as token from \"./token\";\nexport * as features from \"./features\";\n"],"names":[],"mappings":";0BAAwB,UAAU;uBACb,OAAO;6BACD,UAAU;;yBACd,SAAS;yBACT,SAAS;4BACN,YAAY"}},
    {"offset": {"line": 2700, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/dashboard/node_modules/.pnpm/@project-serum+anchor@0.11.1_typescript@5.9.3/node_modules/@project-serum/anchor/dist/esm/index.js","sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/node_modules/.pnpm/%40project-serum%2Banchor%400.11.1_typescript%405.9.3/node_modules/%40project-serum/anchor/src/index.ts"],"sourcesContent":["import BN from \"bn.js\";\nimport * as web3 from \"@solana/web3.js\";\nimport Provider, {\n  getProvider,\n  setProvider,\n  NodeWallet as Wallet,\n} from \"./provider\";\nimport Coder, {\n  InstructionCoder,\n  EventCoder,\n  StateCoder,\n  TypesCoder,\n  AccountsCoder,\n} from \"./coder\";\nimport { Instruction } from \"./coder/instruction\";\nimport { Idl } from \"./idl\";\nimport workspace from \"./workspace\";\nimport * as utils from \"./utils\";\nimport { Program } from \"./program\";\nimport { Address } from \"./program/common\";\nimport { Event } from \"./program/event\";\nimport {\n  ProgramAccount,\n  AccountNamespace,\n  AccountClient,\n  StateClient,\n  RpcNamespace,\n  RpcFn,\n  SimulateNamespace,\n  SimulateFn,\n  TransactionNamespace,\n  TransactionFn,\n  InstructionNamespace,\n  InstructionFn,\n} from \"./program/namespace\";\nimport { Context, Accounts } from \"./program/context\";\n\nexport {\n  workspace,\n  Program,\n  AccountNamespace,\n  AccountClient,\n  StateClient,\n  RpcNamespace,\n  RpcFn,\n  SimulateNamespace,\n  SimulateFn,\n  TransactionNamespace,\n  TransactionFn,\n  InstructionNamespace,\n  InstructionFn,\n  ProgramAccount,\n  Context,\n  Accounts,\n  Coder,\n  InstructionCoder,\n  EventCoder,\n  StateCoder,\n  TypesCoder,\n  AccountsCoder,\n  Event,\n  Instruction,\n  setProvider,\n  getProvider,\n  Provider,\n  BN,\n  web3,\n  Idl,\n  utils,\n  Wallet,\n  Address,\n};\n"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AACvB,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,QAAQ,EAAE,EACf,WAAW,EACX,WAAW,EACX,UAAU,IAAI,MAAM,GACrB,MAAM,YAAY,CAAC;;;;;;AACpB,OAAO,KAAK,EAAE,EACZ,gBAAgB,EAChB,UAAU,EACV,UAAU,EACV,UAAU,EACV,aAAa,GACd,MAAM,SAAS,CAAC;AAGjB,OAAO,SAAS,MAAM,aAAa,CAAC;;AACpC,OAAO,KAAK,KAAK,MAAM,SAAS,CAAC;AACjC,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAC;;;AAGpC,OAAO,EAGL,aAAa,EACb,WAAW,GASZ,MAAM,qBAAqB,CAAC"}}]
}