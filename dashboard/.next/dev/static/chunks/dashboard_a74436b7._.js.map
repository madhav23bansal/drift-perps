{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport type MergedData = {\n  marketSymbol: string;\n  markPrice: number;\n  fundingRatePct: number;\n  openInterest: number;\n  kaminoSupplyApr: number;\n  kaminoBorrowApr: number;\n  kaminoUtilization: number;\n  combinedCarryApr: number;\n  fetchedAt: string;\n};\n\nexport type HistoryPoint = {\n  timestampMs: number;\n  supplyApr?: number;\n  borrowApr?: number;\n  utilizationPct?: number;\n};\n\nexport type ChartBar = {\n  time: number;\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n};\n\ntype MarketState = {\n  mergedData: MergedData | null;\n  historyData: HistoryPoint[];\n  chartBars: ChartBar[];\n  selectedMetric: 'supplyApr' | 'borrowApr' | 'utilizationPct';\n  loading: boolean;\n  error: string | null;\n\n  setSelectedMetric: (metric: 'supplyApr' | 'borrowApr' | 'utilizationPct') => void;\n  fetchMergedData: () => Promise<void>;\n  fetchHistoryData: (field: string) => Promise<void>;\n};\n\nexport const useMarketStore = create<MarketState>((set, get) => ({\n  mergedData: null,\n  historyData: [],\n  chartBars: [],\n  selectedMetric: 'supplyApr',\n  loading: false,\n  error: null,\n\n  setSelectedMetric: (metric) => {\n    set({ selectedMetric: metric });\n    get().fetchHistoryData(metric);\n  },\n\n  fetchMergedData: async () => {\n    try {\n      set({ loading: true, error: null });\n      const response = await fetch('/api/merged');\n      if (!response.ok) throw new Error('Failed to fetch merged data');\n      const data = await response.json();\n      set({ mergedData: data, loading: false });\n    } catch (error) {\n      set({\n        error: error instanceof Error ? error.message : 'Unknown error',\n        loading: false\n      });\n    }\n  },\n\n  fetchHistoryData: async (field: string) => {\n    try {\n      const response = await fetch(`/api/history?field=${field}`);\n      if (!response.ok) throw new Error('Failed to fetch history data');\n      const data = await response.json();\n      set({\n        historyData: data.points || [],\n        chartBars: data.bars || []\n      });\n    } catch (error) {\n      set({\n        error: error instanceof Error ? error.message : 'Unknown error'\n      });\n    }\n  },\n}));\n"],"names":[],"mappings":";;;;AAAA;;AA2CO,MAAM,iBAAiB,IAAA,+QAAM,EAAc,CAAC,KAAK,MAAQ,CAAC;QAC/D,YAAY;QACZ,aAAa,EAAE;QACf,WAAW,EAAE;QACb,gBAAgB;QAChB,SAAS;QACT,OAAO;QAEP,mBAAmB,CAAC;YAClB,IAAI;gBAAE,gBAAgB;YAAO;YAC7B,MAAM,gBAAgB,CAAC;QACzB;QAEA,iBAAiB;YACf,IAAI;gBACF,IAAI;oBAAE,SAAS;oBAAM,OAAO;gBAAK;gBACjC,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;gBAClC,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI;oBAAE,YAAY;oBAAM,SAAS;gBAAM;YACzC,EAAE,OAAO,OAAO;gBACd,IAAI;oBACF,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;oBAChD,SAAS;gBACX;YACF;QACF;QAEA,kBAAkB,OAAO;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,mBAAmB,EAAE,OAAO;gBAC1D,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;gBAClC,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,IAAI;oBACF,aAAa,KAAK,MAAM,IAAI,EAAE;oBAC9B,WAAW,KAAK,IAAI,IAAI,EAAE;gBAC5B;YACF,EAAE,OAAO,OAAO;gBACd,IAAI;oBACF,OAAO,iBAAiB,QAAQ,MAAM,OAAO,GAAG;gBAClD;YACF;QACF;IACF,CAAC"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/components/MetricsPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useMarketStore } from '@/lib/store';\n\nexport function MetricsPanel() {\n  const { mergedData, loading, error } = useMarketStore();\n\n  if (error) {\n    return (\n      <div className=\"bg-red-950/20 border border-red-900/50 rounded-lg p-4\">\n        <p className=\"text-red-400\">Error: {error}</p>\n      </div>\n    );\n  }\n\n  if (loading || !mergedData) {\n    return (\n      <div className=\"space-y-3\">\n        {[...Array(7)].map((_, i) => (\n          <div key={i} className=\"bg-gray-800 rounded-lg p-4 animate-pulse\">\n            <div className=\"h-4 bg-gray-700 rounded w-1/2 mb-2\"></div>\n            <div className=\"h-6 bg-gray-700 rounded w-3/4\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  const metrics = [\n    { label: 'Mark Price', value: `$${mergedData.markPrice.toFixed(2)}`, color: 'text-blue-400' },\n    {\n      label: 'Funding Rate (24h)',\n      value: `${mergedData.fundingRatePct.toFixed(4)}%`,\n      color: mergedData.fundingRatePct >= 0 ? 'text-green-400' : 'text-red-400',\n    },\n    {\n      label: 'Open Interest',\n      value: mergedData.openInterest.toLocaleString(undefined, { maximumFractionDigits: 2 }),\n      color: 'text-gray-300',\n    },\n    {\n      label: 'Kamino Supply APR',\n      value: `${mergedData.kaminoSupplyApr.toFixed(2)}%`,\n      color: 'text-emerald-400',\n    },\n    {\n      label: 'Kamino Borrow APR',\n      value: `${mergedData.kaminoBorrowApr.toFixed(2)}%`,\n      color: 'text-amber-400',\n    },\n    {\n      label: 'Utilization',\n      value: `${mergedData.kaminoUtilization.toFixed(2)}%`,\n      color: 'text-purple-400',\n    },\n    {\n      label: 'Carry APR (Borrow - Funding)',\n      value: `${mergedData.combinedCarryApr.toFixed(2)}%`,\n      color: mergedData.combinedCarryApr >= 0 ? 'text-green-400' : 'text-red-400',\n    },\n  ];\n\n  return (\n    <div className=\"space-y-3\">\n      {metrics.map((metric) => (\n        <div\n          key={metric.label}\n          className=\"bg-gray-800/50 border border-gray-700/50 rounded-lg p-4 hover:border-gray-600/50 transition-colors\"\n        >\n          <div className=\"text-xs font-medium text-gray-400 uppercase tracking-wider mb-1\">\n            {metric.label}\n          </div>\n          <div className={`text-xl font-semibold ${metric.color}`}>\n            {metric.value}\n          </div>\n        </div>\n      ))}\n\n      <div className=\"text-xs text-gray-500 text-center mt-4\">\n        Last updated: {new Date(mergedData.fetchedAt).toLocaleTimeString()}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIO,SAAS;;IACd,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAA,8IAAc;IAErD,IAAI,OAAO;QACT,qBACE,+SAAC;YAAI,WAAU;sBACb,cAAA,+SAAC;gBAAE,WAAU;;oBAAe;oBAAQ;;;;;;;;;;;;IAG1C;IAEA,IAAI,WAAW,CAAC,YAAY;QAC1B,qBACE,+SAAC;YAAI,WAAU;sBACZ;mBAAI,MAAM;aAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,+SAAC;oBAAY,WAAU;;sCACrB,+SAAC;4BAAI,WAAU;;;;;;sCACf,+SAAC;4BAAI,WAAU;;;;;;;mBAFP;;;;;;;;;;IAOlB;IAEA,MAAM,UAAU;QACd;YAAE,OAAO;YAAc,OAAO,CAAC,CAAC,EAAE,WAAW,SAAS,CAAC,OAAO,CAAC,IAAI;YAAE,OAAO;QAAgB;QAC5F;YACE,OAAO;YACP,OAAO,GAAG,WAAW,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACjD,OAAO,WAAW,cAAc,IAAI,IAAI,mBAAmB;QAC7D;QACA;YACE,OAAO;YACP,OAAO,WAAW,YAAY,CAAC,cAAc,CAAC,WAAW;gBAAE,uBAAuB;YAAE;YACpF,OAAO;QACT;QACA;YACE,OAAO;YACP,OAAO,GAAG,WAAW,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClD,OAAO;QACT;QACA;YACE,OAAO;YACP,OAAO,GAAG,WAAW,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YAClD,OAAO;QACT;QACA;YACE,OAAO;YACP,OAAO,GAAG,WAAW,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACpD,OAAO;QACT;QACA;YACE,OAAO;YACP,OAAO,GAAG,WAAW,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnD,OAAO,WAAW,gBAAgB,IAAI,IAAI,mBAAmB;QAC/D;KACD;IAED,qBACE,+SAAC;QAAI,WAAU;;YACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,+SAAC;oBAEC,WAAU;;sCAEV,+SAAC;4BAAI,WAAU;sCACZ,OAAO,KAAK;;;;;;sCAEf,+SAAC;4BAAI,WAAW,CAAC,sBAAsB,EAAE,OAAO,KAAK,EAAE;sCACpD,OAAO,KAAK;;;;;;;mBAPV,OAAO,KAAK;;;;;0BAYrB,+SAAC;gBAAI,WAAU;;oBAAyC;oBACvC,IAAI,KAAK,WAAW,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;AAIxE;GA/EgB;;QACyB,8IAAc;;;KADvC"}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/components/ChartPanel.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { createChart, ColorType } from 'lightweight-charts';\nimport { useMarketStore } from '@/lib/store';\n\nexport function ChartPanel() {\n  const chartContainerRef = useRef<HTMLDivElement>(null);\n  const chartRef = useRef<any>(null);\n  const seriesRef = useRef<any>(null);\n\n  const { chartBars, selectedMetric, setSelectedMetric } = useMarketStore();\n\n  const metricOptions = [\n    { key: 'supplyApr' as const, label: 'Supply APR' },\n    { key: 'borrowApr' as const, label: 'Borrow APR' },\n    { key: 'utilizationPct' as const, label: 'Utilization %' },\n  ];\n\n  // Initialize chart\n  useEffect(() => {\n    if (!chartContainerRef.current || chartRef.current) return;\n\n    const chart = createChart(chartContainerRef.current, {\n      layout: {\n        background: { type: ColorType.Solid, color: '#111827' },\n        textColor: '#9ca3af',\n      },\n      grid: {\n        vertLines: { color: '#1f2937' },\n        horzLines: { color: '#1f2937' },\n      },\n      width: chartContainerRef.current.clientWidth,\n      height: 400,\n      timeScale: {\n        timeVisible: true,\n        secondsVisible: false,\n      },\n    });\n\n    const lineSeries = chart.addLineSeries({\n      color: '#3b82f6',\n      lineWidth: 2,\n    });\n\n    chartRef.current = chart;\n    seriesRef.current = lineSeries;\n\n    // Handle resize\n    const handleResize = () => {\n      if (chartContainerRef.current && chartRef.current) {\n        chartRef.current.applyOptions({\n          width: chartContainerRef.current.clientWidth,\n        });\n      }\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      if (chartRef.current) {\n        chartRef.current.remove();\n        chartRef.current = null;\n        seriesRef.current = null;\n      }\n    };\n  }, []);\n\n  // Update chart data\n  useEffect(() => {\n    if (!seriesRef.current || !chartBars.length) return;\n\n    try {\n      const data = chartBars.map((bar) => ({\n        time: Math.floor(bar.time / 1000), // Lightweight Charts expects seconds\n        value: bar.close,\n      }));\n\n      seriesRef.current.setData(data);\n\n      // Fit content to view\n      if (chartRef.current) {\n        chartRef.current.timeScale().fitContent();\n      }\n    } catch (error) {\n      console.error('Error updating chart:', error);\n    }\n  }, [chartBars]);\n\n  return (\n    <div className=\"bg-gray-800/50 border border-gray-700/50 rounded-lg p-4\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-semibold text-white\">Historical Data</h2>\n        <select\n          value={selectedMetric}\n          onChange={(e) => setSelectedMetric(e.target.value as any)}\n          className=\"bg-gray-700 text-white text-sm rounded-lg px-3 py-2 border border-gray-600 focus:ring-2 focus:ring-blue-500 focus:outline-none\"\n        >\n          {metricOptions.map((option) => (\n            <option key={option.key} value={option.key}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div ref={chartContainerRef} className=\"w-full\" />\n\n      {chartBars.length === 0 && (\n        <div className=\"text-center py-20 text-gray-400\">\n          Loading chart data...\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS;;IACd,MAAM,oBAAoB,IAAA,yRAAM,EAAiB;IACjD,MAAM,WAAW,IAAA,yRAAM,EAAM;IAC7B,MAAM,YAAY,IAAA,yRAAM,EAAM;IAE9B,MAAM,EAAE,SAAS,EAAE,cAAc,EAAE,iBAAiB,EAAE,GAAG,IAAA,8IAAc;IAEvE,MAAM,gBAAgB;QACpB;YAAE,KAAK;YAAsB,OAAO;QAAa;QACjD;YAAE,KAAK;YAAsB,OAAO;QAAa;QACjD;YAAE,KAAK;YAA2B,OAAO;QAAgB;KAC1D;IAED,mBAAmB;IACnB,IAAA,4RAAS;gCAAC;YACR,IAAI,CAAC,kBAAkB,OAAO,IAAI,SAAS,OAAO,EAAE;YAEpD,MAAM,QAAQ,IAAA,uRAAW,EAAC,kBAAkB,OAAO,EAAE;gBACnD,QAAQ;oBACN,YAAY;wBAAE,MAAM,qRAAS,CAAC,KAAK;wBAAE,OAAO;oBAAU;oBACtD,WAAW;gBACb;gBACA,MAAM;oBACJ,WAAW;wBAAE,OAAO;oBAAU;oBAC9B,WAAW;wBAAE,OAAO;oBAAU;gBAChC;gBACA,OAAO,kBAAkB,OAAO,CAAC,WAAW;gBAC5C,QAAQ;gBACR,WAAW;oBACT,aAAa;oBACb,gBAAgB;gBAClB;YACF;YAEA,MAAM,aAAa,MAAM,aAAa,CAAC;gBACrC,OAAO;gBACP,WAAW;YACb;YAEA,SAAS,OAAO,GAAG;YACnB,UAAU,OAAO,GAAG;YAEpB,gBAAgB;YAChB,MAAM;qDAAe;oBACnB,IAAI,kBAAkB,OAAO,IAAI,SAAS,OAAO,EAAE;wBACjD,SAAS,OAAO,CAAC,YAAY,CAAC;4BAC5B,OAAO,kBAAkB,OAAO,CAAC,WAAW;wBAC9C;oBACF;gBACF;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAElC;wCAAO;oBACL,OAAO,mBAAmB,CAAC,UAAU;oBACrC,IAAI,SAAS,OAAO,EAAE;wBACpB,SAAS,OAAO,CAAC,MAAM;wBACvB,SAAS,OAAO,GAAG;wBACnB,UAAU,OAAO,GAAG;oBACtB;gBACF;;QACF;+BAAG,EAAE;IAEL,oBAAoB;IACpB,IAAA,4RAAS;gCAAC;YACR,IAAI,CAAC,UAAU,OAAO,IAAI,CAAC,UAAU,MAAM,EAAE;YAE7C,IAAI;gBACF,MAAM,OAAO,UAAU,GAAG;iDAAC,CAAC,MAAQ,CAAC;4BACnC,MAAM,KAAK,KAAK,CAAC,IAAI,IAAI,GAAG;4BAC5B,OAAO,IAAI,KAAK;wBAClB,CAAC;;gBAED,UAAU,OAAO,CAAC,OAAO,CAAC;gBAE1B,sBAAsB;gBACtB,IAAI,SAAS,OAAO,EAAE;oBACpB,SAAS,OAAO,CAAC,SAAS,GAAG,UAAU;gBACzC;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,yBAAyB;YACzC;QACF;+BAAG;QAAC;KAAU;IAEd,qBACE,+SAAC;QAAI,WAAU;;0BACb,+SAAC;gBAAI,WAAU;;kCACb,+SAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,+SAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK;wBACjD,WAAU;kCAET,cAAc,GAAG,CAAC,CAAC,uBAClB,+SAAC;gCAAwB,OAAO,OAAO,GAAG;0CACvC,OAAO,KAAK;+BADF,OAAO,GAAG;;;;;;;;;;;;;;;;0BAO7B,+SAAC;gBAAI,KAAK;gBAAmB,WAAU;;;;;;YAEtC,UAAU,MAAM,KAAK,mBACpB,+SAAC;gBAAI,WAAU;0BAAkC;;;;;;;;;;;;AAMzD;GA9GgB;;QAK2C,8IAAc;;;KALzD"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/components/HistoryTable.tsx"],"sourcesContent":["'use client';\n\nimport { useMarketStore } from '@/lib/store';\n\nexport function HistoryTable() {\n  const { historyData } = useMarketStore();\n\n  const displayData = historyData.slice(-10).reverse(); // Last 10 points, newest first\n\n  return (\n    <div className=\"bg-gray-800/50 border border-gray-700/50 rounded-lg p-4\">\n      <h2 className=\"text-lg font-semibold text-white mb-4\">Recent History</h2>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full text-sm\">\n          <thead>\n            <tr className=\"text-left border-b border-gray-700\">\n              <th className=\"pb-3 text-gray-400 font-medium\">Time</th>\n              <th className=\"pb-3 text-gray-400 font-medium text-right\">Supply APR</th>\n              <th className=\"pb-3 text-gray-400 font-medium text-right\">Borrow APR</th>\n              <th className=\"pb-3 text-gray-400 font-medium text-right\">Utilization</th>\n            </tr>\n          </thead>\n          <tbody>\n            {displayData.length === 0 ? (\n              <tr>\n                <td colSpan={4} className=\"py-8 text-center text-gray-400\">\n                  Loading history data...\n                </td>\n              </tr>\n            ) : (\n              displayData.map((row, index) => (\n                <tr\n                  key={row.timestampMs}\n                  className={`border-b border-gray-800/50 ${\n                    index % 2 === 0 ? 'bg-gray-900/20' : ''\n                  }`}\n                >\n                  <td className=\"py-3 text-gray-300\">\n                    {new Date(row.timestampMs).toLocaleString()}\n                  </td>\n                  <td className=\"py-3 text-right text-emerald-400\">\n                    {(row.supplyApr || 0).toFixed(2)}%\n                  </td>\n                  <td className=\"py-3 text-right text-amber-400\">\n                    {(row.borrowApr || 0).toFixed(2)}%\n                  </td>\n                  <td className=\"py-3 text-right text-purple-400\">\n                    {(row.utilizationPct || 0).toFixed(2)}%\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIO,SAAS;;IACd,MAAM,EAAE,WAAW,EAAE,GAAG,IAAA,8IAAc;IAEtC,MAAM,cAAc,YAAY,KAAK,CAAC,CAAC,IAAI,OAAO,IAAI,+BAA+B;IAErF,qBACE,+SAAC;QAAI,WAAU;;0BACb,+SAAC;gBAAG,WAAU;0BAAwC;;;;;;0BAEtD,+SAAC;gBAAI,WAAU;0BACb,cAAA,+SAAC;oBAAM,WAAU;;sCACf,+SAAC;sCACC,cAAA,+SAAC;gCAAG,WAAU;;kDACZ,+SAAC;wCAAG,WAAU;kDAAiC;;;;;;kDAC/C,+SAAC;wCAAG,WAAU;kDAA4C;;;;;;kDAC1D,+SAAC;wCAAG,WAAU;kDAA4C;;;;;;kDAC1D,+SAAC;wCAAG,WAAU;kDAA4C;;;;;;;;;;;;;;;;;sCAG9D,+SAAC;sCACE,YAAY,MAAM,KAAK,kBACtB,+SAAC;0CACC,cAAA,+SAAC;oCAAG,SAAS;oCAAG,WAAU;8CAAiC;;;;;;;;;;uCAK7D,YAAY,GAAG,CAAC,CAAC,KAAK,sBACpB,+SAAC;oCAEC,WAAW,CAAC,4BAA4B,EACtC,QAAQ,MAAM,IAAI,mBAAmB,IACrC;;sDAEF,+SAAC;4CAAG,WAAU;sDACX,IAAI,KAAK,IAAI,WAAW,EAAE,cAAc;;;;;;sDAE3C,+SAAC;4CAAG,WAAU;;gDACX,CAAC,IAAI,SAAS,IAAI,CAAC,EAAE,OAAO,CAAC;gDAAG;;;;;;;sDAEnC,+SAAC;4CAAG,WAAU;;gDACX,CAAC,IAAI,SAAS,IAAI,CAAC,EAAE,OAAO,CAAC;gDAAG;;;;;;;sDAEnC,+SAAC;4CAAG,WAAU;;gDACX,CAAC,IAAI,cAAc,IAAI,CAAC,EAAE,OAAO,CAAC;gDAAG;;;;;;;;mCAfnC,IAAI,WAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBtC;GAtDgB;;QACU,8IAAc;;;KADxB"}},
    {"offset": {"line": 601, "column": 0}, "map": {"version":3,"sources":["file:///Users/madhavbansal/Documents/lomen/poc/drift-perps/dashboard/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { MetricsPanel } from '@/components/MetricsPanel';\nimport { ChartPanel } from '@/components/ChartPanel';\nimport { HistoryTable } from '@/components/HistoryTable';\nimport { useMarketStore } from '@/lib/store';\n\nexport default function Home() {\n  const [mounted, setMounted] = useState(false);\n  const { fetchMergedData, fetchHistoryData } = useMarketStore();\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n\n    // Initial fetch\n    fetchMergedData();\n    fetchHistoryData('supplyApr');\n\n    // Set up polling\n    const mergedInterval = setInterval(fetchMergedData, 60000); // 1 minute\n    const historyInterval = setInterval(() => fetchHistoryData('supplyApr'), 120000); // 2 minutes\n\n    return () => {\n      clearInterval(mergedInterval);\n      clearInterval(historyInterval);\n    };\n  }, [mounted, fetchMergedData, fetchHistoryData]);\n\n  if (!mounted) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\n        <div className=\"text-white\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900\">\n      <header className=\"border-b border-gray-800 bg-gray-950 px-6 py-4\">\n        <h1 className=\"text-2xl font-bold text-white\">Drift Ã— Kamino Dashboard</h1>\n        <p className=\"text-sm text-gray-400 mt-1\">\n          Real-time perpetuals and lending market data\n        </p>\n      </header>\n\n      <main className=\"p-6\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Metrics Panel */}\n          <div className=\"lg:col-span-1\">\n            <MetricsPanel />\n          </div>\n\n          {/* Chart Panel */}\n          <div className=\"lg:col-span-2\">\n            <ChartPanel />\n          </div>\n        </div>\n\n        {/* History Table */}\n        <div className=\"mt-6\">\n          <HistoryTable />\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2RAAQ,EAAC;IACvC,MAAM,EAAE,eAAe,EAAE,gBAAgB,EAAE,GAAG,IAAA,8IAAc;IAE5D,IAAA,4RAAS;0BAAC;YACR,WAAW;QACb;yBAAG,EAAE;IAEL,IAAA,4RAAS;0BAAC;YACR,IAAI,CAAC,SAAS;YAEd,gBAAgB;YAChB;YACA,iBAAiB;YAEjB,iBAAiB;YACjB,MAAM,iBAAiB,YAAY,iBAAiB,QAAQ,WAAW;YACvE,MAAM,kBAAkB;kDAAY,IAAM,iBAAiB;iDAAc,SAAS,YAAY;YAE9F;kCAAO;oBACL,cAAc;oBACd,cAAc;gBAChB;;QACF;yBAAG;QAAC;QAAS;QAAiB;KAAiB;IAE/C,IAAI,CAAC,SAAS;QACZ,qBACE,+SAAC;YAAI,WAAU;sBACb,cAAA,+SAAC;gBAAI,WAAU;0BAAa;;;;;;;;;;;IAGlC;IAEA,qBACE,+SAAC;QAAI,WAAU;;0BACb,+SAAC;gBAAO,WAAU;;kCAChB,+SAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,+SAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAK5C,+SAAC;gBAAK,WAAU;;kCACd,+SAAC;wBAAI,WAAU;;0CAEb,+SAAC;gCAAI,WAAU;0CACb,cAAA,+SAAC,2JAAY;;;;;;;;;;0CAIf,+SAAC;gCAAI,WAAU;0CACb,cAAA,+SAAC,uJAAU;;;;;;;;;;;;;;;;kCAKf,+SAAC;wBAAI,WAAU;kCACb,cAAA,+SAAC,2JAAY;;;;;;;;;;;;;;;;;;;;;;AAKvB;GA9DwB;;QAEwB,8IAAc;;;KAFtC"}}]
}